function loadJS(e,o,t){var i=!!window.ActiveXObject,n=i&&!window.XMLHttpRequest,a=document.createElement("script"),s=n?document.documentElement:document.getElementsByTagName("head")[0];a.type="text/javascript",a.async=!0,a.readyState?a.onreadystatechange=function(){"loaded"!=a.readyState&&"complete"!=a.readyState||(a.onreadystatechange=null,o&&o())}:a.onload=function(){o&&o()},a.src=e,t?document.getElementById(t).appendChild(a):s.insertBefore(a,s.firstChild)}var isDebug=!1;$.fn.extend({isOnScreenVisible:function(){if(!$("body").hasClass("post-template"))return!1;var e=$(window),o={top:e.scrollTop(),left:e.scrollLeft()};o.right=o.left+e.width(),o.bottom=o.top+e.height();var t=this.offset();return t.right=t.left+this.outerWidth(),t.bottom=t.top+this.outerHeight(),!(o.right<t.left||o.left>t.right||o.bottom<t.top||o.top>t.bottom)}});var General={isMobile:!1,isWechat:!1,viewWidth:$(window).width(),absUrl:location.protocol+"//"+location.host,init:function(){var e=window,o=(e.document,navigator.userAgent.toLowerCase()),t=e.navigator.appVersion.match(/android/gi);e.navigator.appVersion.match(/iphone/gi);"micromessenger"==o.match(/MicroMessenger/i)&&(General.isWechat=!0,$("body").addClass("wechat-webview")),t&&(General.isMobile=!0),$("body").hasClass("post-template")&&(General.updateImageWidth(),General.rewardLoader()),General.webFontLoader(),General.scrollToPos()},updateImageWidth:function(){function e(){var e=$(this),o=t.outerWidth(),i=this.naturalWidth;i>=o?e.addClass("full-img"):e.removeClass("full-img")}function o(){i.each(e)}var t=$(".post-content"),i=$(".single-post-inner img").on("load",e);o()},webFontLoader:function(){WebFontConfig={loading:function(){isDebug&&console.log("loading font")},custom:{families:["Open Sans","iconfont","fontawesome"],urls:[General.absUrl+"/assets/css/font.min.css","https://ob6mci30g.qnssl.com/fontss/iconfont.css",General.absUrl+"/assets/css/font-awesome.min.css"]}},loadJS(General.absUrl+"/assets/js/webfont.js",function(){isDebug&&console.log("加载字体JS"),WebFont.load({custom:{families:["Open Sans","iconfont","fontawesome"]}})})},scrollToPos:function(e){var o="我要飞到最高",t=(e||$(window).height(),$('<a href="#" id="to-top" title="'+o+'"> <div class="to-top-wrap"></div></a>').appendTo("body"));$(window).scroll(function(){$(window).scrollTop()>$(window).height()?t.fadeIn(500):t.fadeOut(500)}),t.click(function(e){e.preventDefault(),$("html,body").animate({scrollTop:0},666,function(){window.location.hash="#"}),isDebug&&console.log("我跳")})},urlIconlize:function(e){var o,t,i={twitter:"iconfont-twitter icon-iconfonttwitter",qzone:"iconfont-qzone icon-qzone",weibo:"iconfont-weibo icon-iconfontweibo",facebook:"iconfont-facebook icon-iconfontfacebook",github:"iconfont-github icon-github",douban:"iconfont-douban icon-iconfontdouban",google:"iconfont-google icon-iconfontgoogle",luolei:"iconfont-luolei icon-luolei",dribble:"iconfont-dribble icon-dribbblecircled",v2ex:"iconfont-v2ex icon-iconfontv2ex",zhihu:"iconfont-zhihu icon-iconfontzhihu",wikipedia:"iconfont-wikipedia icon-iconfontwikipedia",jianshu:"iconfont-jianshu icon-jianshu",youku:"iconfont-youku icon-iconfontyouku",youtube:"iconfont-youtube icon-youtube",juejin:"iconfont-juejin icon-juejin",weixin:"iconfont-weixin icon-iconfontwechat",segmentfault:"iconfont-sf icon-iconsf-copy"};for(var n in i)if("function"!=typeof i[n]){var a=n;e.indexOf(a)>=0&&(o=a,t=i[a])}return t},addIcons:function(){$(".single-post-inner  a:not(:has(img))").each(function(e){var o=$(this).attr("href"),t=document.createElement("a");t.href=o,_selfDomain=t.hostname,General.urlIconlize(_selfDomain),isDebug&&console.log(_selfDomain),$(this).prepend('<i class="iconfont '+General.urlIconlize(_selfDomain)+'"></i>');var i=$(this).find("i").css("color"),n=$(this).css("color");$(this).hover(function(){$(this).css("color",i),$(this).addClass("animated pulse")},function(){$(this).css("color",n),$(this).removeClass("animated pulse")})})},rewardLoader:function(){var e={alipay:"/assets/images/qr-alipay-255.png",wechat:"/assets/images/qr-wechat-255.png"};General.isWechat&&$(".wechat-code b").html("长按上方二维码打赏作者"),$(".money-like .reward-button").hover(function(){isDebug&&console.log("悬浮"),$("img.wechat-img").attr("src",e.wechat),$("img.alipay-img").attr("src",e.alipay),$(".money-code").fadeIn(),$(this).addClass("active")},function(){$(".money-code").fadeOut(),$(this).removeClass("active")},800),$(".money-like .reward-button").click(function(){$(this).hasClass("active")?($(this).find("img.wechat-img").attr("src",e.wechat),$(this).find("img.alipay-img").attr("src",e.alipay),$(".money-code").fadeOut(),$(this).removeClass("active")):($(".money-code").fadeIn(),$(this).addClass("active"))})}},ImageSmartLoader={isWebPSupported:!1,isImageCompressed:!1,init:function(){ImageSmartLoader.webPCheck()},isCompressedCheck:function(){},webPCheck:function(e,o){var t={demo:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAsAAAABBxAREYiI/gcAAABWUDggGAAAADABAJ0BKgEAAQABABwlpAADcAD+/gbQAA=="};isDebug&&console.log("支持Webp哦");var i=new Image;i.onload=function(){i.width>0&&i.height>0;isDebug&&console.log("支持Webp"),ImageSmartLoader.isWebPSupported=!0,ImageSmartLoader.webPLoader()},i.onerror=function(){isDebug&&console.log("不支持Webp"),ImageSmartLoader.isWebPSupported=!1,ImageSmartLoader.webPLoader()},i.src="data:image/webp;base64,"+t.demo},imgLoader:function(){isDebug&&console.log("加载默认图片")},webPLoader:function(){if(isDebug&&console.log("加载webP"),ImageSmartLoader.isWebPSupported===!0){if(isDebug&&console.log("宽度是"+General.viewWidth),768==General.viewWidth)return $(".lazy").lazyload({advanced_load:!0,data_attribute:"url",webP_load:!0,is_scale:!1}),!1;General.viewWidth<768?$(".lazy").lazyload({advanced_load:!0,data_attribute:"url",webP_load:!0,is_scale:!0,scale_width:750}):$(".lazy").lazyload({advanced_load:!0,data_attribute:"url",webP_load:!0,is_scale:!1})}else{if(768==General.viewWidth)return $(".lazy").lazyload({advanced_load:!0,data_attribute:"url",webP_load:!1,is_scale:!0,scale_width:1500}),!1;General.viewWidth<768?$(".lazy").lazyload({advanced_load:!0,data_attribute:"url",webP_load:!1,is_scale:!0,scale_width:750}):$(".lazy").lazyload({advanced_load:!0,data_attribute:"url",webP_load:!1,is_scale:!1})}}};$(document).ready(function(){var e=$(window),o=document.getElementById("scroll-hint");if(null!==o&&($(".header-scroll-hint").on("click",function(e){var o=$(this).closest(".cover");$("html, body").animate({scrollTop:o.position().top+o.height()},400),e.preventDefault()}),window.addEventListener("load",function(){var e=window.pageYOffset||document.documentElement.scrollTop;e>0?o.classList.remove("visible"):o.classList.add("visible")}),window.addEventListener("scroll",function(){var e=window.pageYOffset||document.documentElement.scrollTop;e>0?o.classList.remove("visible"):o.classList.add("visible")})),$("#toc").initTOC({selector:"h1, h2, h3, h4, h5, h6",scope:"article",overwrite:!1,prefix:"toc"}),$(".sidebar-toggle").on("click",function(e){$("body").hasClass("sidebar-opened")?($("body").removeClass("sidebar-opened"),$("body").css("overflow","scroll")):($("body").addClass("sidebar-opened"),$("body").css("overflow","hidden")),e.preventDefault()}),$(".search-toggle").on("click",function(e){$("body").hasClass("search-opened")?($("body").removeClass("search-opened"),$("body").css("overflow","scroll"),searchField.clear()):($("body").addClass("search-opened"),$("body").css("overflow","hidden"),setTimeout(function(){$("#search-field").focus()},300)),e.preventDefault()}),$(".overlay").on("click",function(e){$("body").removeClass("sidebar-opened search-opened"),$("body").css("overflow","scroll"),searchField.clear(),e.preventDefault()}),"undefined"!=typeof disqus_shortname){var t=!1;$(".comments-title").on("click",function(){var e=$(this);t?($("#disqus_thread").slideToggle(),e.hasClass("toggled-on")?e.removeClass("toggled-on"):e.addClass("toggled-on")):($.ajax({type:"GET",url:"//"+disqus_shortname+".disqus.com/embed.js",dataType:"script",cache:!0}),e.addClass("toggled-on"),t=!0)})}$.fn.lazyload=function(o){function t(){var e=0;n.each(function(){var o=$(this);if(!a.skip_invisible||o.is(":visible"))if($.abovethetop(this,a)||$.leftofbegin(this,a));else if($.belowthefold(this,a)||$.rightoffold(this,a)){if(++e>a.failure_limit)return!1}else o.trigger("appear"),e=0})}var i,n=this,a={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:window,data_attribute:"original",skip_invisible:!1,appear:null,load:null,placeholder:"",advanced_load:!1,webP_load:!1,is_scale:!1,scale_width:750};return o&&(void 0!==o.failurelimit&&(o.failure_limit=o.failurelimit,delete o.failurelimit),void 0!==o.effectspeed&&(o.effect_speed=o.effectspeed,delete o.effectspeed),$.extend(a,o)),i=void 0===a.container||a.container===window?e:$(a.container),0===a.event.indexOf("scroll")&&i.bind(a.event,function(){return t()}),this.each(function(){var e=this,o=$(e);e.loaded=!1,void 0!==o.attr("src")&&o.attr("src")!==!1||o.is("img")&&(o.attr("src",a.placeholder),o.addClass("loading")),o.one("appear",function(){if(!this.loaded){if(a.appear){var t=n.length;a.appear.call(e,t,a)}isDebug&&console.log("1.self.attr = ",o);var i=o.attr("data-"+a.data_attribute);void 0===i&&(i=o.attr("src")),void 0===i&&(console.log("测试 = ",o.style),i=o.style.backgroundImage),void 0!==i&&(isDebug&&(console.log("updatedUrl = ",i),console.log("图片地址"+i.indexOf("ob6mci30g.qnssl.com")),console.log("CDN地址"+i.indexOf("file.is26.com"))),i.indexOf("ob6mci30g.qnssl.com")>-1&&(a.advanced_load===!0&&(i+="?imageView2"),a.is_scale===!0&&(i+="/0/w/"+a.scale_width),a.webP_load===!0&&a.is_scale===!1&&(i+="/0/format/webp"),a.webP_load===!0&&a.is_scale===!0&&(i+="/format/webp"))),isDebug&&(console.log("中间打印updatedUrl",i),console.log("*********中间打印 img.src = ",o.attr("src")),console.log("*********中间打印 img = ",$("<img />"))),$("<img />").bind("load",function(){o.hide(),o.is("img")?(o.attr("src",i),isDebug&&console.log("*********img.src = ",o.attr("src"))):(o.css("background-image","url('"+i+"')"),isDebug&&console.log("*********background-image = ",o.css("background-image"))),o[a.effect](a.effect_speed),e.loaded=!0;var t=$.grep(n,function(e){return!e.loaded});if(n=$(t),a.load){var s=n.length;a.load.call(e,s,a)}o.removeClass("loading")}).attr("src",i)}}),0!==a.event.indexOf("scroll")&&o.bind(a.event,function(){e.loaded||o.trigger("appear")})}),e.bind("resize",function(){t()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&e.bind("pageshow",function(e){e.originalEvent&&e.originalEvent.persisted&&n.each(function(){$(this).trigger("appear")})}),$(document).ready(function(){t()}),this},$.belowthefold=function(o,t){var i;return i=void 0===t.container||t.container===window?(window.innerHeight?window.innerHeight:e.height())+e.scrollTop():$(t.container).offset().top+$(t.container).height(),i<=$(o).offset().top-t.threshold},$.rightoffold=function(o,t){var i;return i=void 0===t.container||t.container===window?e.width()+e.scrollLeft():$(t.container).offset().left+$(t.container).width(),i<=$(o).offset().left-t.threshold},$.abovethetop=function(o,t){var i;return i=void 0===t.container||t.container===window?e.scrollTop():$(t.container).offset().top,i>=$(o).offset().top+t.threshold+$(o).height()},$.leftofbegin=function(o,t){var i;return i=void 0===t.container||t.container===window?e.scrollLeft():$(t.container).offset().left,i>=$(o).offset().left+t.threshold+$(o).width()},$.inviewport=function(e,o){return!($.rightoffold(e,o)||$.leftofbegin(e,o)||$.belowthefold(e,o)||$.abovethetop(e,o))},$.extend($.expr[":"],{"below-the-fold":function(e){return $.belowthefold(e,{threshold:0})},"above-the-top":function(e){return!$.belowthefold(e,{threshold:0})},"right-of-screen":function(e){return $.rightoffold(e,{threshold:0})},"left-of-screen":function(e){return!$.rightoffold(e,{threshold:0})},"in-viewport":function(e){return $.inviewport(e,{threshold:0})},"above-the-fold":function(e){return!$.belowthefold(e,{threshold:0})},"right-of-fold":function(e){return $.rightoffold(e,{threshold:0})},"left-of-fold":function(e){return!$.rightoffold(e,{threshold:0})}}),General.init(),ImageSmartLoader.init(),$("body").hasClass("post-template")&&General.addIcons()});
!function(e){!function(){var e=function(t){var r=new e.Builder;return r.pipeline.add(e.trimmer,e.stopWordFilter,e.stemmer),r.searchPipeline.add(e.stemmer),t.call(r,r),r.build()};e.version="2.1.5",e.utils={},e.utils.warn=function(e){return function(t){e.console&&console.warn&&console.warn(t)}}(this),e.utils.asString=function(e){return void 0===e||null===e?"":e.toString()},e.FieldRef=function(e,t,r){this.docRef=e,this.fieldName=t,this._stringValue=r},e.FieldRef.joiner="/",e.FieldRef.fromString=function(t){var r=t.indexOf(e.FieldRef.joiner);if(r===-1)throw"malformed field ref string";var i=t.slice(0,r),n=t.slice(r+1);return new e.FieldRef(n,i,t)},e.FieldRef.prototype.toString=function(){return void 0===this._stringValue&&(this._stringValue=this.fieldName+e.FieldRef.joiner+this.docRef),this._stringValue},e.idf=function(e,t){var r=0;for(var i in e)"_index"!=i&&(r+=Object.keys(e[i]).length);var n=(t-r+.5)/(r+.5);return Math.log(1+Math.abs(n))},e.Token=function(e,t){this.str=e||"",this.metadata=t||{}},e.Token.prototype.toString=function(){return this.str},e.Token.prototype.update=function(e){return this.str=e(this.str,this.metadata),this},e.Token.prototype.clone=function(t){return t=t||function(e){return e},new e.Token(t(this.str,this.metadata),this.metadata)},e.tokenizer=function(t){if(null===t||void 0===t)return[];if(Array.isArray(t))return t.map(function(t){return new e.Token(e.utils.asString(t).toLowerCase())});for(var r=t.toString().trim().toLowerCase(),i=r.length,n=[],s=0,o=0;s<=i;s++){var a=r.charAt(s),u=s-o;(a.match(e.tokenizer.separator)||s==i)&&(u>0&&n.push(new e.Token(r.slice(o,s),{position:[o,u],index:n.length})),o=s+1)}return n},e.tokenizer.separator=/[\s\-]+/,e.Pipeline=function(){this._stack=[]},e.Pipeline.registeredFunctions=Object.create(null),e.Pipeline.registerFunction=function(t,r){r in this.registeredFunctions&&e.utils.warn("Overwriting existing registered function: "+r),t.label=r,e.Pipeline.registeredFunctions[t.label]=t},e.Pipeline.warnIfFunctionNotRegistered=function(t){var r=t.label&&t.label in this.registeredFunctions;r||e.utils.warn("Function is not registered with pipeline. This may cause problems when serialising the index.\n",t)},e.Pipeline.load=function(t){var r=new e.Pipeline;return t.forEach(function(t){var i=e.Pipeline.registeredFunctions[t];if(!i)throw new Error("Cannot load unregistered function: "+t);r.add(i)}),r},e.Pipeline.prototype.add=function(){var t=Array.prototype.slice.call(arguments);t.forEach(function(t){e.Pipeline.warnIfFunctionNotRegistered(t),this._stack.push(t)},this)},e.Pipeline.prototype.after=function(t,r){e.Pipeline.warnIfFunctionNotRegistered(r);var i=this._stack.indexOf(t);if(i==-1)throw new Error("Cannot find existingFn");i+=1,this._stack.splice(i,0,r)},e.Pipeline.prototype.before=function(t,r){e.Pipeline.warnIfFunctionNotRegistered(r);var i=this._stack.indexOf(t);if(i==-1)throw new Error("Cannot find existingFn");this._stack.splice(i,0,r)},e.Pipeline.prototype.remove=function(e){var t=this._stack.indexOf(e);t!=-1&&this._stack.splice(t,1)},e.Pipeline.prototype.run=function(e){for(var t=this._stack.length,r=function(t,r,i){var s=n(r,i,e);return void 0===s||""===s?t:t.concat(s)},i=0;i<t;i++){var n=this._stack[i];e=e.reduce(r,[])}return e},e.Pipeline.prototype.runString=function(t){var r=new e.Token(t);return this.run([r]).map(function(e){return e.toString()})},e.Pipeline.prototype.reset=function(){this._stack=[]},e.Pipeline.prototype.toJSON=function(){return this._stack.map(function(t){return e.Pipeline.warnIfFunctionNotRegistered(t),t.label})},e.Vector=function(e){this._magnitude=0,this.elements=e||[]},e.Vector.prototype.positionForIndex=function(e){if(0===this.elements.length)return 0;for(var t=0,r=this.elements.length/2,i=r-t,n=Math.floor(i/2),s=this.elements[2*n];i>1&&(s<e&&(t=n),s>e&&(r=n),s!=e);)i=r-t,n=t+Math.floor(i/2),s=this.elements[2*n];return s==e?2*n:s>e?2*n:s<e?2*(n+1):void 0},e.Vector.prototype.insert=function(e,t){this.upsert(e,t,function(){throw"duplicate index"})},e.Vector.prototype.upsert=function(e,t,r){this._magnitude=0;var i=this.positionForIndex(e);this.elements[i]==e?this.elements[i+1]=r(this.elements[i+1],t):this.elements.splice(i,0,e,t)},e.Vector.prototype.magnitude=function(){if(this._magnitude)return this._magnitude;for(var e=0,t=this.elements.length,r=1;r<t;r+=2){var i=this.elements[r];e+=i*i}return this._magnitude=Math.sqrt(e),this._magnitude},e.Vector.prototype.dot=function(e){for(var t=0,r=this.elements,i=e.elements,n=r.length,s=i.length,o=0,a=0,u=0,l=0;u<n&&l<s;)o=r[u],a=i[l],o<a?u+=2:o>a?l+=2:o==a&&(t+=r[u+1]*i[l+1],u+=2,l+=2);return t},e.Vector.prototype.similarity=function(e){return this.dot(e)/(this.magnitude()*e.magnitude())},e.Vector.prototype.toArray=function(){for(var e=new Array(this.elements.length/2),t=1,r=0;t<this.elements.length;t+=2,r++)e[r]=this.elements[t];return e},e.Vector.prototype.toJSON=function(){return this.elements},e.stemmer=function(){var e={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},t={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},r="[^aeiou]",i="[aeiouy]",n=r+"[^aeiouy]*",s=i+"[aeiou]*",o="^("+n+")?"+s+n,a="^("+n+")?"+s+n+"("+s+")?$",u="^("+n+")?"+s+n+s+n,l="^("+n+")?"+i,h=new RegExp(o),d=new RegExp(u),c=new RegExp(a),f=new RegExp(l),p=/^(.+?)(ss|i)es$/,g=/^(.+?)([^s])s$/,m=/^(.+?)eed$/,y=/^(.+?)(ed|ing)$/,v=/.$/,x=/(at|bl|iz)$/,w=new RegExp("([^aeiouylsz])\\1$"),b=new RegExp("^"+n+i+"[^aeiouwxy]$"),k=/^(.+?[^aeiou])y$/,S=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,Q=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,L=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,_=/^(.+?)(s|t)(ion)$/,T=/^(.+?)e$/,P=/ll$/,I=new RegExp("^"+n+i+"[^aeiouwxy]$"),O=function(r){var i,n,s,o,a,u,l;if(r.length<3)return r;s=r.substr(0,1),"y"==s&&(r=s.toUpperCase()+r.substr(1)),o=p,a=g,o.test(r)?r=r.replace(o,"$1$2"):a.test(r)&&(r=r.replace(a,"$1$2"));var O;return o=m,a=y,o.test(r)?(O=o.exec(r),o=h,o.test(O[1])&&(o=v,r=r.replace(o,""))):a.test(r)&&(O=a.exec(r),i=O[1],a=f,a.test(i)&&(r=i,a=x,u=w,l=b,a.test(r)?r+="e":u.test(r)?(o=v,r=r.replace(o,"")):l.test(r)&&(r+="e"))),o=k,o.test(r)&&(O=o.exec(r),i=O[1],r=i+"i"),o=S,o.test(r)&&(O=o.exec(r),i=O[1],n=O[2],o=h,o.test(i)&&(r=i+e[n])),o=Q,o.test(r)&&(O=o.exec(r),i=O[1],n=O[2],o=h,o.test(i)&&(r=i+t[n])),o=L,a=_,o.test(r)?(O=o.exec(r),i=O[1],o=d,o.test(i)&&(r=i)):a.test(r)&&(O=a.exec(r),i=O[1]+O[2],a=d,a.test(i)&&(r=i)),o=T,o.test(r)&&(O=o.exec(r),i=O[1],o=d,a=c,u=I,(o.test(i)||a.test(i)&&!u.test(i))&&(r=i)),o=P,a=d,o.test(r)&&a.test(r)&&(o=v,r=r.replace(o,"")),"y"==s&&(r=s.toLowerCase()+r.substr(1)),r};return function(e){return e.update(O)}}(),e.Pipeline.registerFunction(e.stemmer,"stemmer"),e.generateStopWordFilter=function(e){var t=e.reduce(function(e,t){return e[t]=t,e},{});return function(e){if(e&&t[e.toString()]!==e.toString())return e}},e.stopWordFilter=e.generateStopWordFilter(["a","able","about","across","after","all","almost","also","am","among","an","and","any","are","as","at","be","because","been","but","by","can","cannot","could","dear","did","do","does","either","else","ever","every","for","from","get","got","had","has","have","he","her","hers","him","his","how","however","i","if","in","into","is","it","its","just","least","let","like","likely","may","me","might","most","must","my","neither","no","nor","not","of","off","often","on","only","or","other","our","own","rather","said","say","says","she","should","since","so","some","than","that","the","their","them","then","there","these","they","this","tis","to","too","twas","us","wants","was","we","were","what","when","where","which","while","who","whom","why","will","with","would","yet","you","your"]),e.Pipeline.registerFunction(e.stopWordFilter,"stopWordFilter"),e.trimmer=function(e){return e.update(function(e){return e.replace(/^\W+/,"").replace(/\W+$/,"")})},e.Pipeline.registerFunction(e.trimmer,"trimmer"),e.TokenSet=function(){this["final"]=!1,this.edges={},this.id=e.TokenSet._nextId,e.TokenSet._nextId+=1},e.TokenSet._nextId=1,e.TokenSet.fromArray=function(t){for(var r=new e.TokenSet.Builder,i=0,n=t.length;i<n;i++)r.insert(t[i]);return r.finish(),r.root},e.TokenSet.fromClause=function(t){return"editDistance"in t?e.TokenSet.fromFuzzyString(t.term,t.editDistance):e.TokenSet.fromString(t.term)},e.TokenSet.fromFuzzyString=function(t,r){for(var i=new e.TokenSet,n=[{node:i,editsRemaining:r,str:t}];n.length;){var s,o=n.pop();if(o.str.length>0){s=o.str.charAt(0);var a;s in o.node.edges?a=o.node.edges[s]:(a=new e.TokenSet,o.node.edges[s]=a),1==o.str.length?a["final"]=!0:n.push({node:a,editsRemaining:o.editsRemaining,str:o.str.slice(1)})}if(o.editsRemaining>0&&o.str.length>1){s=o.str.charAt(1);var u;s in o.node.edges?u=o.node.edges[s]:(u=new e.TokenSet,o.node.edges[s]=u),o.str.length<=2?u["final"]=!0:n.push({node:u,editsRemaining:o.editsRemaining-1,str:o.str.slice(2)})}o.editsRemaining>0&&1==o.str.length&&(o.node["final"]=!0);var l;o.editsRemaining>0&&o.str.length>=1&&("*"in o.node.edges?l=o.node.edges["*"]:(l=new e.TokenSet,o.node.edges["*"]=l),1==o.str.length?l["final"]=!0:n.push({node:l,editsRemaining:o.editsRemaining-1,str:o.str.slice(1)}));var h;if(o.editsRemaining>0&&("*"in o.node.edges?h=o.node.edges["*"]:(h=new e.TokenSet,o.node.edges["*"]=h),0===o.str.length?h["final"]=!0:n.push({node:h,editsRemaining:o.editsRemaining-1,str:o.str})),o.editsRemaining>0&&o.str.length>1){var d,c=o.str.charAt(0),f=o.str.charAt(1);f in o.node.edges?d=o.node.edges[f]:(d=new e.TokenSet,o.node.edges[f]=d),1==o.str.length?d["final"]=!0:n.push({node:d,editsRemaining:o.editsRemaining-1,str:c+o.str.slice(2)})}}return i},e.TokenSet.fromString=function(t){for(var r=new e.TokenSet,i=r,n=!1,s=0,o=t.length;s<o;s++){var a=t[s],u=s==o-1;if("*"==a)n=!0,r.edges[a]=r,r["final"]=u;else{var l=new e.TokenSet;l["final"]=u,r.edges[a]=l,r=l,n&&(r.edges["*"]=i)}}return i},e.TokenSet.prototype.toArray=function(){for(var e=[],t=[{prefix:"",node:this}];t.length;){var r=t.pop(),i=Object.keys(r.node.edges),n=i.length;r.node["final"]&&e.push(r.prefix);for(var s=0;s<n;s++){var o=i[s];t.push({prefix:r.prefix.concat(o),node:r.node.edges[o]})}}return e},e.TokenSet.prototype.toString=function(){if(this._str)return this._str;for(var e=this["final"]?"1":"0",t=Object.keys(this.edges).sort(),r=t.length,i=0;i<r;i++){var n=t[i],s=this.edges[n];e=e+n+s.id}return e},e.TokenSet.prototype.intersect=function(t){for(var r,i=new e.TokenSet,n=[{qNode:t,output:i,node:this}];n.length;){r=n.pop();for(var s=Object.keys(r.qNode.edges),o=s.length,a=Object.keys(r.node.edges),u=a.length,l=0;l<o;l++)for(var h=s[l],d=0;d<u;d++){var c=a[d];if(c==h||"*"==h){var f,p=r.node.edges[c],g=r.qNode.edges[h],m=p["final"]&&g["final"];c in r.output.edges?(f=r.output.edges[c],f["final"]=f["final"]||m):(f=new e.TokenSet,f["final"]=m,r.output.edges[c]=f),n.push({qNode:g,output:f,node:p})}}}return i},e.TokenSet.Builder=function(){this.previousWord="",this.root=new e.TokenSet,this.uncheckedNodes=[],this.minimizedNodes={}},e.TokenSet.Builder.prototype.insert=function(t){var r,i=0;if(t<this.previousWord)throw new Error("Out of order word insertion");for(var n=0;n<t.length&&n<this.previousWord.length&&t[n]==this.previousWord[n];n++)i++;this.minimize(i),r=0===this.uncheckedNodes.length?this.root:this.uncheckedNodes[this.uncheckedNodes.length-1].child;for(var s=i;s<t.length;s++){var o=new e.TokenSet,a=t[s];r.edges[a]=o,this.uncheckedNodes.push({parent:r,"char":a,child:o}),r=o}r["final"]=!0,this.previousWord=t},e.TokenSet.Builder.prototype.finish=function(){this.minimize(0)},e.TokenSet.Builder.prototype.minimize=function(e){for(var t=this.uncheckedNodes.length-1;t>=e;t--){var r=this.uncheckedNodes[t],i=r.child.toString();i in this.minimizedNodes?r.parent.edges[r["char"]]=this.minimizedNodes[i]:(r.child._str=i,this.minimizedNodes[i]=r.child),this.uncheckedNodes.pop()}},e.Index=function(e){this.invertedIndex=e.invertedIndex,this.fieldVectors=e.fieldVectors,this.tokenSet=e.tokenSet,this.fields=e.fields,this.pipeline=e.pipeline},e.Index.prototype.search=function(t){return this.query(function(r){var i=new e.QueryParser(t,r);i.parse()})},e.Index.prototype.query=function(t){var r=new e.Query(this.fields),i=Object.create(null),n=Object.create(null),s=Object.create(null);t.call(r,r);for(var o=0;o<r.clauses.length;o++){var a=r.clauses[o],u=null;u=a.usePipeline?this.pipeline.runString(a.term):[a.term];for(var l=0;l<u.length;l++){var h=u[l];a=JSON.parse(JSON.stringify(a)),a.term=h;for(var d,c=e.TokenSet.fromClause(a),f=this.tokenSet.intersect(c).toArray(),p=0;p<f.length;p++){var g=f[p],m=this.invertedIndex[g];if(m){d=m._index;for(var y=0;y<a.fields.length;y++){var v=a.fields[y],x=m[v],w=Object.keys(x),b=g+"/"+v;if(void 0===n[v]&&(n[v]=new e.Vector),n[v].upsert(d,1*a.boost,function(e,t){return e+t}),!s[b]){for(var k=0;k<w.length;k++){var S,Q=w[k],L=new e.FieldRef(Q,v),_=x[Q];void 0===(S=i[L])?i[L]=new e.MatchData(g,v,_):S.add(g,v,_)}s[b]=!0}}}}}}var T=Object.keys(i),P=[],I=Object.create(null);for(o=0;o<T.length;o++){var O,E=e.FieldRef.fromString(T[o]),F=E.docRef,D=this.fieldVectors[E],j=n[E.fieldName].similarity(D);if(void 0!==(O=I[F]))O.score+=j,O.matchData.combine(i[E]);else{var R={ref:F,score:j,matchData:i[E]};I[F]=R,P.push(R)}}return P.sort(function(e,t){return t.score-e.score})},e.Index.prototype.toJSON=function(){var t=Object.keys(this.invertedIndex).sort().map(function(e){return[e,this.invertedIndex[e]]},this),r=Object.keys(this.fieldVectors).map(function(e){return[e,this.fieldVectors[e].toJSON()]},this);return{version:e.version,fields:this.fields,fieldVectors:r,invertedIndex:t,pipeline:this.pipeline.toJSON()}},e.Index.load=function(t){var r={},i={},n=t.fieldVectors,s={},o=t.invertedIndex,a=new e.TokenSet.Builder,u=e.Pipeline.load(t.pipeline);t.version!=e.version&&e.utils.warn("Version mismatch when loading serialised index. Current version of lunr '"+e.version+"' does not match serialized index '"+t.version+"'");for(var l,h=0;h<n.length;h++)l=n[h],ref=l[0],elements=l[1],i[ref]=new e.Vector(elements);for(h=0;h<o.length;h++)l=o[h],term=l[0],posting=l[1],a.insert(term),s[term]=posting;return a.finish(),r.fields=t.fields,r.fieldVectors=i,r.invertedIndex=s,r.tokenSet=a.root,r.pipeline=u,new e.Index(r)},e.Builder=function(){this._ref="id",this._fields=[],this.invertedIndex=Object.create(null),this.fieldTermFrequencies={},this.fieldLengths={},this.tokenizer=e.tokenizer,this.pipeline=new e.Pipeline,this.searchPipeline=new e.Pipeline,this.documentCount=0,this._b=.75,this._k1=1.2,this.termIndex=0,this.metadataWhitelist=[]},e.Builder.prototype.ref=function(e){this._ref=e},e.Builder.prototype.field=function(e){this._fields.push(e)},e.Builder.prototype.b=function(e){e<0?this._b=0:e>1?this._b=1:this._b=e},e.Builder.prototype.k1=function(e){this._k1=e},e.Builder.prototype.add=function(t){var r=t[this._ref];this.documentCount+=1;for(var i=0;i<this._fields.length;i++){var n=this._fields[i],s=t[n],o=this.tokenizer(s),a=this.pipeline.run(o),u=new e.FieldRef(r,n),l=Object.create(null);this.fieldTermFrequencies[u]=l,this.fieldLengths[u]=0,this.fieldLengths[u]+=a.length;for(var h=0;h<a.length;h++){var d=a[h];if(void 0===l[d]&&(l[d]=0),l[d]+=1,void 0===this.invertedIndex[d]){var c=Object.create(null);c._index=this.termIndex,this.termIndex+=1;for(var f=0;f<this._fields.length;f++)c[this._fields[f]]=Object.create(null);this.invertedIndex[d]=c}void 0===this.invertedIndex[d][n][r]&&(this.invertedIndex[d][n][r]=Object.create(null));for(var p=0;p<this.metadataWhitelist.length;p++){var g=this.metadataWhitelist[p],m=d.metadata[g];void 0===this.invertedIndex[d][n][r][g]&&(this.invertedIndex[d][n][r][g]=[]),this.invertedIndex[d][n][r][g].push(m)}}}},e.Builder.prototype.calculateAverageFieldLengths=function(){for(var t,r=Object.keys(this.fieldLengths),i=r.length,n={},s={},o=0;o<i;o++){var a=e.FieldRef.fromString(r[o]);t=a.fieldName,(s[t]||(s[t]=0))&&(s[t]+=1),(n[t]||(n[t]=0))&&(n[t]+=this.fieldLengths[a])}for(o=0;o<this._fields.length;o++)t=this._fields[o],n[t]=n[t]/s[t];this.averageFieldLength=n},e.Builder.prototype.createFieldVectors=function(){for(var t={},r=Object.keys(this.fieldTermFrequencies),i=r.length,n=Object.create(null),s=0;s<i;s++){for(var o=e.FieldRef.fromString(r[s]),a=o.fieldName,u=this.fieldLengths[o],l=new e.Vector,h=this.fieldTermFrequencies[o],d=Object.keys(h),c=d.length,f=0;f<c;f++){var p,g,m,y=d[f],v=h[y],x=this.invertedIndex[y]._index;void 0===n[y]?(p=e.idf(this.invertedIndex[y],this.documentCount),n[y]=p):p=n[y],g=p*((this._k1+1)*v)/(this._k1*(1-this._b+this._b*(u/this.averageFieldLength[a]))+v),m=Math.round(1e3*g)/1e3,l.insert(x,m)}t[o]=l}this.fieldVectors=t},e.Builder.prototype.createTokenSet=function(){this.tokenSet=e.TokenSet.fromArray(Object.keys(this.invertedIndex).sort())},e.Builder.prototype.build=function(){return this.calculateAverageFieldLengths(),this.createFieldVectors(),this.createTokenSet(),new e.Index({invertedIndex:this.invertedIndex,fieldVectors:this.fieldVectors,tokenSet:this.tokenSet,fields:this._fields,pipeline:this.searchPipeline})},e.Builder.prototype.use=function(e){var t=Array.prototype.slice.call(arguments,1);t.unshift(this),e.apply(this,t)},e.MatchData=function(e,t,r){for(var i=Object.create(null),n=Object.keys(r),s=0;s<n.length;s++){var o=n[s];i[o]=r[o].slice()}this.metadata=Object.create(null),this.metadata[e]=Object.create(null),this.metadata[e][t]=i},e.MatchData.prototype.combine=function(e){for(var t=Object.keys(e.metadata),r=0;r<t.length;r++){var i=t[r],n=Object.keys(e.metadata[i]);void 0===this.metadata[i]&&(this.metadata[i]=Object.create(null));for(var s=0;s<n.length;s++){var o=n[s],a=Object.keys(e.metadata[i][o]);void 0===this.metadata[i][o]&&(this.metadata[i][o]=Object.create(null));for(var u=0;u<a.length;u++){var l=a[u];void 0===this.metadata[i][o][l]?this.metadata[i][o][l]=e.metadata[i][o][l]:this.metadata[i][o][l]=this.metadata[i][o][l].concat(e.metadata[i][o][l])}}}},e.MatchData.prototype.add=function(e,t,r){if(!(e in this.metadata))return this.metadata[e]=Object.create(null),void(this.metadata[e][t]=r);if(!(t in this.metadata[e]))return void(this.metadata[e][t]=r);for(var i=Object.keys(r),n=0;n<i.length;n++){var s=i[n];s in this.metadata[e][t]?this.metadata[e][t][s]=this.metadata[e][t][s].concat(r[s]):this.metadata[e][t][s]=r[s]}},e.Query=function(e){this.clauses=[],this.allFields=e},e.Query.wildcard="*",e.Query.wildcard.NONE=0,e.Query.wildcard.LEADING=1,e.Query.wildcard.TRAILING=2,e.Query.prototype.clause=function(t){return"fields"in t||(t.fields=this.allFields),"boost"in t||(t.boost=1),"usePipeline"in t||(t.usePipeline=!0),"wildcard"in t||(t.wildcard=e.Query.wildcard.NONE),t.wildcard&e.Query.wildcard.LEADING&&t.term.charAt(0)!=e.Query.wildcard&&(t.term="*"+t.term),t.wildcard&e.Query.wildcard.TRAILING&&t.term.slice(-1)!=e.Query.wildcard&&(t.term=""+t.term+"*"),this.clauses.push(t),this},e.Query.prototype.term=function(e,t){var r=t||{};return r.term=e,this.clause(r),this},e.QueryParseError=function(e,t,r){this.name="QueryParseError",this.message=e,this.start=t,this.end=r},e.QueryParseError.prototype=new Error,e.QueryLexer=function(e){this.lexemes=[],this.str=e,this.length=e.length,this.pos=0,this.start=0,this.escapeCharPositions=[]},e.QueryLexer.prototype.run=function(){for(var t=e.QueryLexer.lexText;t;)t=t(this)},e.QueryLexer.prototype.sliceString=function(){for(var e=[],t=this.start,r=this.pos,i=0;i<this.escapeCharPositions.length;i++)r=this.escapeCharPositions[i],e.push(this.str.slice(t,r)),t=r+1;return e.push(this.str.slice(t,this.pos)),this.escapeCharPositions.length=0,e.join("")},e.QueryLexer.prototype.emit=function(e){this.lexemes.push({type:e,str:this.sliceString(),start:this.start,end:this.pos}),this.start=this.pos},e.QueryLexer.prototype.escapeCharacter=function(){this.escapeCharPositions.push(this.pos-1),this.pos+=1},e.QueryLexer.prototype.next=function(){if(this.pos>=this.length)return e.QueryLexer.EOS;var t=this.str.charAt(this.pos);return this.pos+=1,t},e.QueryLexer.prototype.width=function(){return this.pos-this.start},e.QueryLexer.prototype.ignore=function(){this.start==this.pos&&(this.pos+=1),this.start=this.pos},e.QueryLexer.prototype.backup=function(){this.pos-=1},e.QueryLexer.prototype.acceptDigitRun=function(){var t,r;do t=this.next(),r=t.charCodeAt(0);while(r>47&&r<58);t!=e.QueryLexer.EOS&&this.backup()},e.QueryLexer.prototype.more=function(){return this.pos<this.length},e.QueryLexer.EOS="EOS",e.QueryLexer.FIELD="FIELD",e.QueryLexer.TERM="TERM",e.QueryLexer.EDIT_DISTANCE="EDIT_DISTANCE",e.QueryLexer.BOOST="BOOST",e.QueryLexer.lexField=function(t){return t.backup(),t.emit(e.QueryLexer.FIELD),t.ignore(),e.QueryLexer.lexText},e.QueryLexer.lexTerm=function(t){if(t.width()>1&&(t.backup(),t.emit(e.QueryLexer.TERM)),t.ignore(),t.more())return e.QueryLexer.lexText},e.QueryLexer.lexEditDistance=function(t){return t.ignore(),t.acceptDigitRun(),t.emit(e.QueryLexer.EDIT_DISTANCE),e.QueryLexer.lexText},e.QueryLexer.lexBoost=function(t){return t.ignore(),t.acceptDigitRun(),t.emit(e.QueryLexer.BOOST),e.QueryLexer.lexText},e.QueryLexer.lexEOS=function(t){t.width()>0&&t.emit(e.QueryLexer.TERM)},e.QueryLexer.termSeparator=e.tokenizer.separator,e.QueryLexer.lexText=function(t){for(;;){var r=t.next();if(r==e.QueryLexer.EOS)return e.QueryLexer.lexEOS;if(92!=r.charCodeAt(0)){if(":"==r)return e.QueryLexer.lexField;if("~"==r)return t.backup(),t.width()>0&&t.emit(e.QueryLexer.TERM),e.QueryLexer.lexEditDistance;if("^"==r)return t.backup(),t.width()>0&&t.emit(e.QueryLexer.TERM),e.QueryLexer.lexBoost;if(r.match(e.QueryLexer.termSeparator))return e.QueryLexer.lexTerm}else t.escapeCharacter()}},e.QueryParser=function(t,r){this.lexer=new e.QueryLexer(t),this.query=r,this.currentClause={},this.lexemeIdx=0},e.QueryParser.prototype.parse=function(){this.lexer.run(),this.lexemes=this.lexer.lexemes;for(var t=e.QueryParser.parseFieldOrTerm;t;)t=t(this);return this.query},e.QueryParser.prototype.peekLexeme=function(){return this.lexemes[this.lexemeIdx]},e.QueryParser.prototype.consumeLexeme=function(){var e=this.peekLexeme();return this.lexemeIdx+=1,e},e.QueryParser.prototype.nextClause=function(){var e=this.currentClause;this.query.clause(e),this.currentClause={}},e.QueryParser.parseFieldOrTerm=function(t){var r=t.peekLexeme();if(void 0!==r)switch(r.type){case e.QueryLexer.FIELD:return e.QueryParser.parseField;case e.QueryLexer.TERM:return e.QueryParser.parseTerm;default:var i="expected either a field or a term, found "+r.type;throw r.str.length>=1&&(i+=" with value '"+r.str+"'"),new e.QueryParseError(i,r.start,r.end)}},e.QueryParser.parseField=function(t){var r=t.consumeLexeme();if(void 0!==r){var i;if(t.query.allFields.indexOf(r.str)==-1){var n=t.query.allFields.map(function(e){return"'"+e+"'"}).join(", ");throw i="unrecognised field '"+r.str+"', possible fields: "+n,new e.QueryParseError(i,r.start,r.end)}t.currentClause.fields=[r.str];var s=t.peekLexeme();if(void 0===s)throw i="expecting term, found nothing",new e.QueryParseError(i,r.start,r.end);switch(s.type){case e.QueryLexer.TERM:return e.QueryParser.parseTerm;default:throw i="expecting term, found '"+s.type+"'",new e.QueryParseError(i,s.start,s.end)}}},e.QueryParser.parseTerm=function(t){var r=t.consumeLexeme();if(void 0!==r){t.currentClause.term=r.str.toLowerCase(),r.str.indexOf("*")!=-1&&(t.currentClause.usePipeline=!1);var i=t.peekLexeme();if(void 0===i)return void t.nextClause();switch(i.type){case e.QueryLexer.TERM:return t.nextClause(),e.QueryParser.parseTerm;case e.QueryLexer.FIELD:return t.nextClause(),e.QueryParser.parseField;case e.QueryLexer.EDIT_DISTANCE:return e.QueryParser.parseEditDistance;case e.QueryLexer.BOOST:return e.QueryParser.parseBoost;default:var n="Unexpected lexeme type '"+i.type+"'";throw new e.QueryParseError(n,i.start,i.end)}}},e.QueryParser.parseEditDistance=function(t){var r=t.consumeLexeme();if(void 0!==r){var i,n=parseInt(r.str,10);if(isNaN(n))throw i="edit distance must be numeric",new e.QueryParseError(i,r.start,r.end);t.currentClause.editDistance=n;var s=t.peekLexeme();if(void 0===s)return void t.nextClause();switch(s.type){case e.QueryLexer.TERM:return t.nextClause(),e.QueryParser.parseTerm;case e.QueryLexer.FIELD:return t.nextClause(),e.QueryParser.parseField;case e.QueryLexer.EDIT_DISTANCE:return e.QueryParser.parseEditDistance;case e.QueryLexer.BOOST:return e.QueryParser.parseBoost;default:throw i="Unexpected lexeme type '"+s.type+"'",new e.QueryParseError(i,s.start,s.end)}}},e.QueryParser.parseBoost=function(t){var r,i=t.consumeLexeme();if(void 0!==i){var n=parseInt(i.str,10);if(isNaN(n))throw r="boost must be numeric",new e.QueryParseError(r,i.start,i.end);t.currentClause.boost=n;var s=t.peekLexeme();if(void 0===s)return void t.nextClause();switch(s.type){case e.QueryLexer.TERM:return t.nextClause(),e.QueryParser.parseTerm;case e.QueryLexer.FIELD:return t.nextClause(),e.QueryParser.parseField;case e.QueryLexer.EDIT_DISTANCE:return e.QueryParser.parseEditDistance;case e.QueryLexer.BOOST:return e.QueryParser.parseBoost;default:throw r="Unexpected lexeme type '"+s.type+"'",new e.QueryParseError(r,s.start,s.end)}}},function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.lunr=t()}(this,function(){return e})}(),function(e,t){"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return t(e)}):"object"==typeof module&&module&&module.exports?module.exports=t(e):e.Levenshtein=t(e)}(this,function(e){function t(e,t){var r,i;for(r=-1,i=e.length;++r<i;)t(e[r],r,e)}function r(e,r){var i;return i=Array(e.length),t(e,function(e,t,n){i.push(r(e,t,n))}),i}function i(e,r,i){return t(e,function(e,t,n){i=r(e,t,n)}),i}function n(e,t){return e.charAt(t)}function s(e,t){return e[t]}function o(e,r){var i,o,a,u;if("string"==typeof e&&"string"==typeof r)u=n;else{if("object"!=typeof e||"object"!=typeof r)throw"Levensthtein: input must be two strings or two arrays";u=s}return a=this._matrix=[],e==r?(this.distance=0,this.distance):""===e?(this.distance=r.length,this.distance):""===r?(this.distance=e.length,this.distance):(i=[0],t(e,function(e,t){t++,i[t]=t}),a[0]=i,t(r,function(n,s){o=[++s],t(e,function(t,n){n++,u(e,n-1)==u(r,s-1)?o[n]=i[n-1]:o[n]=Math.min(i[n]+1,o[n-1]+1,i[n-1]+1)}),i=o,a[a.length]=i}),this.distance=o[o.length-1],this.distance)}return o.prototype.toString=o.prototype.inspect=function(e){var t,n,s,o,a;for(t=this.getMatrix(),n=i(t,function(e,t){return Math.max(e,i(t,Math.max,0))},0),s=Array((n+"").length).join(" "),o=[];o.length<(t[0]&&t[0].length||0);)o[o.length]=Array(s.length+1).join("-");return o=o.join("-+")+"-",a=r(t,function(e){var t;return t=r(e,function(e){return(s+e).slice(-s.length)}),t.join(" |")+" "}),a.join("\n"+o+"\n")},o.prototype.getSteps=function(){var e,t,r,i,n,s,o,a;for(e=[],t=this.getMatrix(),r=t.length-1,i=t[0].length-1;0!==r||0!==i;)n=i>0?t[r][i-1]:Number.MAX_VALUE,s=r>0?t[r-1][i]:Number.MAX_VALUE,o=i>0&&r>0?t[r-1][i-1]:Number.MAX_VALUE,a=Math.min(n,s,o),a===o?(o<t[r][i]&&e.push(["substitute",i,r]),r--,i--):a===s?(e.push(["insert",i,r]),r--):(e.push(["delete",i,r]),i--);return e},o.prototype.getMatrix=function(){return this._matrix.slice()},o.prototype.valueOf=function(){return this.distance},o}),e.fn.ghostHunter=function(t){var r=e.extend({},e.fn.ghostHunter.defaults,t);if(r.results)return a.init(this,r),a},e.fn.ghostHunter.defaults={resultsData:!1,onPageLoad:!0,onKeyUp:!1,result_template:"<a id='gh-{{ref}}' class='gh-search-item' href='{{link}}'><p><h2>{{title}}</h2><h4>{{prettyPubDate}}</h4></p></a>",info_template:"<p>Number of posts found: {{amount}}</p>",displaySearchInfo:!0,zeroResultsInfo:!0,before:!1,onComplete:!1,includepages:!1,filterfields:!1,subpath:"",item_preprocessor:!1,indexing_start:!1,indexing_end:!1};var t=function(e){var t=new Date(e),r=["January","February","March","April","May","June","July","August","September","October","November","December"];return t.getDate()+" "+r[t.getMonth()]+" "+t.getFullYear()},r=function(e){return e.replace(/^\//,"").replace(/\//g,"-")},i=null,n=function(){e(".gh-search-item").each(function(){var e=this.getAttribute("id"),t=e.replace(/^new-/,"");this.setAttribute("id",t)})},s=function(e,t,r){for(var i=0,s=r.length;i<s;i++){var o=r[i];if("delete"==o[0])e.eq(o[1]-1).remove();else{var a=t[o[2]-1].ref,u=this.blogData[a],l=this.format(this.result_template,u);if("substitute"===o[0])e.eq(o[1]-1).replaceWith(l);else if("insert"===o[0]){var h;h=0===o[1]?null:o[1]-1,e.eq(h).after(l)}}}n()},o=function(){this.blogData={},this.latestPost=0;var i={limit:"all",include:"tags",formats:["plaintext"]};this.includepages&&(i.filter="(page:true,page:false)");var n=this;e.get(ghost.url.api("posts",i)).done(function(e){var i=e.posts;n.index=lunr(function(){this.ref("id"),this.field("title"),this.field("description"),this.field("plaintext"),this.field("pubDate"),this.field("tag"),i.forEach(function(e){var r=new Date(e.updated_at).getTime(),i=new Date(n.latestPost).getTime();r>i&&(n.latestPost=e.updated_at);var s=e.tags.map(function(e){return e.name});null===e.meta_description&&(e.meta_description="");var o=s.join(", ");o.length<1&&(o="undefined");var a={id:String(e.id),title:String(e.title),description:String(e.custom_excerpt),plaintext:String(e.plaintext),pubDate:String(e.published_at),tag:o};this.add(a);var u=n.subpath+e.url;n.blogData[e.id]={title:e.title,description:e.meta_description,pubDate:t(a.pubDate),link:u,tags:s},n.item_preprocessor&&Object.assign(n.blogData[e.id],n.item_preprocessor(e))},this)});try{var s=r(n.subpath);localStorage.setItem("ghost_"+s+"_lunrIndex",JSON.stringify(n.index)),localStorage.setItem("ghost_"+s+"_blogData",JSON.stringify(n.blogData)),localStorage.setItem("ghost_"+s+"_latestPost",n.latestPost)}catch(o){console.warn("ghostHunter: save to localStorage failed: "+o)}n.indexing_end&&n.indexing_end(),n.isInit=!0})},a={isInit:!1,init:function(e,t){var r=this;Object.assign(this,t),console.log("ghostHunter: init");var i=function(){};t.onPageLoad?(i=function(){r.loadAPI()},window.setTimeout(i,1)):e.focus(function(){r.loadAPI()}),e.closest("form").submit(function(t){t.preventDefault(),r.find(e.val())}),t.onKeyUp&&(e.keydown(function(e){if(13===e.which)return!1}),e.keyup(function(t){r.find(e.val())}))},loadAPI:function(){if(!this.isInit){this.indexing_start&&this.indexing_start();try{var t=r(this.subpath);this.index=localStorage.getItem("ghost_"+t+"_lunrIndex"),this.blogData=localStorage.getItem("ghost_"+t+"_blogData"),this.latestPost=localStorage.getItem("ghost_"+t+"_latestPost"),this.latestPost&&this.index&&this.blogData&&(this.latestPost=this.latestPost,this.index=lunr.Index.load(JSON.parse(this.index)),this.blogData=JSON.parse(this.blogData),this.isInit=!0)}catch(i){console.warn("ghostHunter: retrieve from localStorage failed: "+i)}}if(this.isInit){var n={limit:"all",filter:"updated_at:>'"+this.latestPost.replace(/\..*/,"").replace(/T/," ")+"'",fields:"id"},s=this;e.get(ghost.url.api("posts",n)).done(function(e){e.posts.length>0?o.call(s):(s.indexing_end&&s.indexing_end(),s.isInit=!0)})}else o.call(this)},find:function(t){clearTimeout(i),t||(t=""),t=t.toLowerCase(),i=setTimeout(function(){for(var r=[],i=t.split(/\s+/),o=0,a=i.length;o<a;o++){var u=i[o];u&&r.push(this.index.query(function(e){e.term(u,{usePipeline:!0,boost:100}),e.term(u,{usePipeline:!1,boost:10,wildcard:lunr.Query.wildcard.TRAILING}),e.term(u,{usePipeline:!1,editDistance:1,boost:1})}))}var l;if(r.length>1)for(l=r[0],r=r.slice(1),o=l.length-1;o>-1;o--){var h=l[o].ref;for(j=0,jlen=r.length;j<jlen;j++){for(var d={},c=0,f=r[j].length;c<f;c++)d[r[j][c].ref]=!0;if(!d[h]){l=l.slice(0,o).concat(l.slice(o+1));break}}}else l=1===r.length?r[0]:[];var p=e(this.results),g=[];for(0===l.length?(p.empty(),this.displaySearchInfo&&this.zeroResultsInfo&&p.append(this.format(this.info_template,{
amount:0}))):this.displaySearchInfo&&(p.length>0?p.children().eq(0).replaceWith(this.format(this.info_template,{amount:l.length})):p.append(this.format(this.info_template,{amount:l.length}))),this.before&&this.before(),o=0;o<l.length;o++){var m=l[o].ref,y=this.blogData[m];y?(y.ref=m,g.push(y)):console.warn("ghostHunter: index/data mismatch. Ouch.")}var v=e(".gh-search-item"),x=v.map(function(){return this.id.slice(3)}).get();if(0===x.length){for(o=0,a=g.length;o<a;o++)p.append(this.format(this.result_template,g[o]));n()}else{var w=[];for(o=0,a=l.length;o<a;o++)w.push(l[o].ref);var b=new Levenshtein(x,w),k=b.getSteps();s.call(this,v,l,k)}this.onComplete&&this.onComplete(g)}.bind(this),100)},clear:function(){e(this.results).empty()},format:function(e,t){return e.replace(/{{([^{}]*)}}/g,function(e,r){var i=t[r];return"string"==typeof i||"number"==typeof i?i:e})}}}(jQuery);
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){"use strict";var n=function(e){if("string"!=typeof e)return 0;var n=e.match(/\d/g);return n?Math.min.apply(null,n):1},t=function(n,t){for(;t--;)n=e("<ol/>").appendTo(n),t&&(n=e("<li/>").appendTo(n));return n},r=function(e,n){for(;n--;)e=e.parent();return e},o=function(e,n){return function(t,r,o){var i=t.text(),a=n+"-"+o;r.text(i);var c=t[0],f=r[0],u=e?a:c.id||a;u=encodeURIComponent(u),c.id=u,f.href="#"+u}},i=function(i){var a=i.selector,c=i.scope,f=e("<ol/>"),u=f,p=null,s=n(a),l=o(i.overwrite,i.prefix);return e(c).find(a).each(function(o,i){var a=n(i.tagName),c=a-s;c>0&&(u=t(p,c)),c<0&&(u=r(u,2*-c)),u.length||(u=f);var h=e("<li/>"),d=e("<a/>");l(e(i),d,o),h.append(d).appendTo(u),p=h,s=a}),f};e.fn.initTOC=function(n){var t={selector:"h1, h2, h3, h4, h5, h6",scope:"body",overwrite:!1,prefix:"toc"};n=e.extend(t,n);var r=n.selector;if("string"!=typeof r)throw new TypeError("selector must be a string");if(!r.match(/^(?:h[1-6],?\s*)+$/g))throw new TypeError("selector must contains only h1-6");e(this).append(i(n));var o=location.hash;return o&&setTimeout(function(){var e=document.getElementById(o.slice(1));e&&e.scrollIntoView()},0),e(this)}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJhc2UuanMiLCJqcXVlcnkuZ2hvc3RodW50ZXIuanMiLCJqcXVlcnkudG9jLmpzIl0sIm5hbWVzIjpbImxvYWRKUyIsInVybCIsImNhbGxiYWNrIiwiZWwiLCJpc0lFIiwid2luZG93IiwiQWN0aXZlWE9iamVjdCIsImlzSUU2IiwiWE1MSHR0cFJlcXVlc3QiLCJzY3JpcHQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJoZWFkIiwiZG9jdW1lbnRFbGVtZW50IiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJ0eXBlIiwiYXN5bmMiLCJyZWFkeVN0YXRlIiwib25yZWFkeXN0YXRlY2hhbmdlIiwib25sb2FkIiwic3JjIiwiZ2V0RWxlbWVudEJ5SWQiLCJhcHBlbmRDaGlsZCIsImluc2VydEJlZm9yZSIsImZpcnN0Q2hpbGQiLCJpc0RlYnVnIiwiJCIsImZuIiwiZXh0ZW5kIiwiaXNPblNjcmVlblZpc2libGUiLCJoYXNDbGFzcyIsIndpbiIsInZpZXdwb3J0IiwidG9wIiwic2Nyb2xsVG9wIiwibGVmdCIsInNjcm9sbExlZnQiLCJyaWdodCIsIndpZHRoIiwiYm90dG9tIiwiaGVpZ2h0IiwiYm91bmRzIiwidGhpcyIsIm9mZnNldCIsIm91dGVyV2lkdGgiLCJvdXRlckhlaWdodCIsIkdlbmVyYWwiLCJpc01vYmlsZSIsImlzV2VjaGF0Iiwidmlld1dpZHRoIiwiYWJzVXJsIiwibG9jYXRpb24iLCJwcm90b2NvbCIsImhvc3QiLCJpbml0IiwiVUEiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJ0b0xvd2VyQ2FzZSIsImlzQW5kcm9pZCIsImFwcFZlcnNpb24iLCJtYXRjaCIsImFkZENsYXNzIiwidXBkYXRlSW1hZ2VXaWR0aCIsInJld2FyZExvYWRlciIsIndlYkZvbnRMb2FkZXIiLCJzY3JvbGxUb1BvcyIsIiR0aGlzIiwiY29udGVudFdpZHRoIiwiJHBvc3RDb250ZW50IiwiaW1hZ2VXaWR0aCIsIm5hdHVyYWxXaWR0aCIsInJlbW92ZUNsYXNzIiwiY2FzcGVyRnVsbEltZyIsIiRpbWciLCJlYWNoIiwib24iLCJXZWJGb250Q29uZmlnIiwibG9hZGluZyIsImNvbnNvbGUiLCJsb2ciLCJjdXN0b20iLCJmYW1pbGllcyIsInVybHMiLCJXZWJGb250IiwibG9hZCIsInBvc2l0aW9uIiwiU1RSX1RPX1RPUCIsImJ1dHRvbiIsImFwcGVuZFRvIiwic2Nyb2xsIiwiZmFkZUluIiwiZmFkZU91dCIsImNsaWNrIiwiZSIsInByZXZlbnREZWZhdWx0IiwiYW5pbWF0ZSIsImhhc2giLCJ1cmxJY29ubGl6ZSIsImRvbWFpbiIsIl9vdXRwdXQiLCJpY29uTWFwIiwidHdpdHRlciIsInF6b25lIiwid2VpYm8iLCJmYWNlYm9vayIsImdpdGh1YiIsImRvdWJhbiIsImdvb2dsZSIsImx1b2xlaSIsImRyaWJibGUiLCJ2MmV4IiwiemhpaHUiLCJ3aWtpcGVkaWEiLCJqaWFuc2h1IiwieW91a3UiLCJ5b3V0dWJlIiwianVlamluIiwid2VpeGluIiwic2VnbWVudGZhdWx0IiwibmFtZSIsIk1hcEtleSIsImluZGV4T2YiLCJhZGRJY29ucyIsImkiLCJfc3JjIiwiYXR0ciIsInRtcCIsImhyZWYiLCJfc2VsZkRvbWFpbiIsImhvc3RuYW1lIiwicHJlcGVuZCIsIl9zZWxmQ29sb3IiLCJmaW5kIiwiY3NzIiwiX29yaWdpbmFsQ29sb3IiLCJob3ZlciIsImxvYWRRUiIsImFsaXBheSIsIndlY2hhdCIsImh0bWwiLCJJbWFnZVNtYXJ0TG9hZGVyIiwiaXNXZWJQU3VwcG9ydGVkIiwiaXNJbWFnZUNvbXByZXNzZWQiLCJ3ZWJQQ2hlY2siLCJpc0NvbXByZXNzZWRDaGVjayIsImZlYXR1cmUiLCJUZXN0SW1hZ2VzIiwiZGVtbyIsImltZyIsIkltYWdlIiwid2ViUExvYWRlciIsIm9uZXJyb3IiLCJpbWdMb2FkZXIiLCJsYXp5bG9hZCIsImFkdmFuY2VkX2xvYWQiLCJkYXRhX2F0dHJpYnV0ZSIsIndlYlBfbG9hZCIsImlzX3NjYWxlIiwic2NhbGVfd2lkdGgiLCJyZWFkeSIsIiR3aW5kb3ciLCJzY3JvbGxIaW50IiwiJGNvdmVyIiwiY2xvc2VzdCIsImFkZEV2ZW50TGlzdGVuZXIiLCJwYWdlWU9mZnNldCIsImNsYXNzTGlzdCIsInJlbW92ZSIsImFkZCIsImluaXRUT0MiLCJzZWxlY3RvciIsInNjb3BlIiwib3ZlcndyaXRlIiwicHJlZml4Iiwic2VhcmNoRmllbGQiLCJjbGVhciIsInNldFRpbWVvdXQiLCJmb2N1cyIsImRpc3F1c19zaG9ydG5hbWUiLCJkaXNxdXNfbG9hZGVkIiwiX3RoaXMiLCJzbGlkZVRvZ2dsZSIsImFqYXgiLCJkYXRhVHlwZSIsImNhY2hlIiwib3B0aW9ucyIsInVwZGF0ZSIsImNvdW50ZXIiLCJlbGVtZW50cyIsInNldHRpbmdzIiwic2tpcF9pbnZpc2libGUiLCJpcyIsImFib3ZldGhldG9wIiwibGVmdG9mYmVnaW4iLCJiZWxvd3RoZWZvbGQiLCJyaWdodG9mZm9sZCIsImZhaWx1cmVfbGltaXQiLCJ0cmlnZ2VyIiwiJGNvbnRhaW5lciIsInRocmVzaG9sZCIsImV2ZW50IiwiZWZmZWN0IiwiY29udGFpbmVyIiwiYXBwZWFyIiwicGxhY2Vob2xkZXIiLCJ1bmRlZmluZWQiLCJmYWlsdXJlbGltaXQiLCJlZmZlY3RzcGVlZCIsImVmZmVjdF9zcGVlZCIsImJpbmQiLCJzZWxmIiwiJHNlbGYiLCJsb2FkZWQiLCJvbmUiLCJlbGVtZW50c19sZWZ0IiwibGVuZ3RoIiwiY2FsbCIsInVwZGF0ZWRVcmwiLCJzdHlsZSIsImJhY2tncm91bmRJbWFnZSIsImhpZGUiLCJ0ZW1wIiwiZ3JlcCIsImVsZW1lbnQiLCJ0ZXN0Iiwib3JpZ2luYWxFdmVudCIsInBlcnNpc3RlZCIsImZvbGQiLCJpbm5lckhlaWdodCIsImludmlld3BvcnQiLCJleHByIiwiYmVsb3ctdGhlLWZvbGQiLCJhIiwiYWJvdmUtdGhlLXRvcCIsInJpZ2h0LW9mLXNjcmVlbiIsImxlZnQtb2Ytc2NyZWVuIiwiaW4tdmlld3BvcnQiLCJhYm92ZS10aGUtZm9sZCIsInJpZ2h0LW9mLWZvbGQiLCJsZWZ0LW9mLWZvbGQiLCJsdW5yIiwiY29uZmlnIiwiYnVpbGRlciIsIkJ1aWxkZXIiLCJwaXBlbGluZSIsInRyaW1tZXIiLCJzdG9wV29yZEZpbHRlciIsInN0ZW1tZXIiLCJzZWFyY2hQaXBlbGluZSIsImJ1aWxkIiwidmVyc2lvbiIsInV0aWxzIiwid2FybiIsImdsb2JhbCIsIm1lc3NhZ2UiLCJhc1N0cmluZyIsIm9iaiIsInRvU3RyaW5nIiwiRmllbGRSZWYiLCJkb2NSZWYiLCJmaWVsZE5hbWUiLCJzdHJpbmdWYWx1ZSIsIl9zdHJpbmdWYWx1ZSIsImpvaW5lciIsImZyb21TdHJpbmciLCJzIiwibiIsImZpZWxkUmVmIiwic2xpY2UiLCJwcm90b3R5cGUiLCJpZGYiLCJwb3N0aW5nIiwiZG9jdW1lbnRDb3VudCIsImRvY3VtZW50c1dpdGhUZXJtIiwiT2JqZWN0Iiwia2V5cyIsIngiLCJNYXRoIiwiYWJzIiwiVG9rZW4iLCJzdHIiLCJtZXRhZGF0YSIsImNsb25lIiwidG9rZW5pemVyIiwiQXJyYXkiLCJpc0FycmF5IiwibWFwIiwidCIsInRyaW0iLCJsZW4iLCJ0b2tlbnMiLCJzbGljZUVuZCIsInNsaWNlU3RhcnQiLCJjaGFyIiwiY2hhckF0Iiwic2xpY2VMZW5ndGgiLCJzZXBhcmF0b3IiLCJwdXNoIiwiaW5kZXgiLCJQaXBlbGluZSIsIl9zdGFjayIsInJlZ2lzdGVyZWRGdW5jdGlvbnMiLCJjcmVhdGUiLCJyZWdpc3RlckZ1bmN0aW9uIiwibGFiZWwiLCJ3YXJuSWZGdW5jdGlvbk5vdFJlZ2lzdGVyZWQiLCJpc1JlZ2lzdGVyZWQiLCJzZXJpYWxpc2VkIiwiZm9yRWFjaCIsImZuTmFtZSIsIkVycm9yIiwiZm5zIiwiYXJndW1lbnRzIiwiYWZ0ZXIiLCJleGlzdGluZ0ZuIiwibmV3Rm4iLCJwb3MiLCJzcGxpY2UiLCJiZWZvcmUiLCJydW4iLCJzdGFja0xlbmd0aCIsInIiLCJtZW1vIiwidG9rZW4iLCJqIiwicmVzdWx0IiwiY29uY2F0IiwicmVkdWNlIiwicnVuU3RyaW5nIiwicmVzZXQiLCJ0b0pTT04iLCJWZWN0b3IiLCJfbWFnbml0dWRlIiwicG9zaXRpb25Gb3JJbmRleCIsInN0YXJ0IiwiZW5kIiwicGl2b3RQb2ludCIsImZsb29yIiwicGl2b3RJbmRleCIsImluc2VydCIsImluc2VydElkeCIsInZhbCIsInVwc2VydCIsIm1hZ25pdHVkZSIsInN1bU9mU3F1YXJlcyIsImVsZW1lbnRzTGVuZ3RoIiwic3FydCIsImRvdCIsIm90aGVyVmVjdG9yIiwiZG90UHJvZHVjdCIsImIiLCJhTGVuIiwiYkxlbiIsImFWYWwiLCJiVmFsIiwic2ltaWxhcml0eSIsInRvQXJyYXkiLCJvdXRwdXQiLCJzdGVwMmxpc3QiLCJhdGlvbmFsIiwidGlvbmFsIiwiZW5jaSIsImFuY2kiLCJpemVyIiwiYmxpIiwiYWxsaSIsImVudGxpIiwiZWxpIiwib3VzbGkiLCJpemF0aW9uIiwiYXRpb24iLCJhdG9yIiwiYWxpc20iLCJpdmVuZXNzIiwiZnVsbmVzcyIsIm91c25lc3MiLCJhbGl0aSIsIml2aXRpIiwiYmlsaXRpIiwibG9naSIsInN0ZXAzbGlzdCIsImljYXRlIiwiYXRpdmUiLCJhbGl6ZSIsImljaXRpIiwiaWNhbCIsImZ1bCIsIm5lc3MiLCJjIiwidiIsIkMiLCJWIiwibWdyMCIsIm1lcTEiLCJtZ3IxIiwic192IiwicmVfbWdyMCIsIlJlZ0V4cCIsInJlX21ncjEiLCJyZV9tZXExIiwicmVfc192IiwicmVfMWEiLCJyZTJfMWEiLCJyZV8xYiIsInJlMl8xYiIsInJlXzFiXzIiLCJyZTJfMWJfMiIsInJlM18xYl8yIiwicmU0XzFiXzIiLCJyZV8xYyIsInJlXzIiLCJyZV8zIiwicmVfNCIsInJlMl80IiwicmVfNSIsInJlXzVfMSIsInJlM181IiwicG9ydGVyU3RlbW1lciIsInciLCJzdGVtIiwic3VmZml4IiwiZmlyc3RjaCIsInJlIiwicmUyIiwicmUzIiwicmU0Iiwic3Vic3RyIiwidG9VcHBlckNhc2UiLCJyZXBsYWNlIiwiZnAiLCJleGVjIiwiZ2VuZXJhdGVTdG9wV29yZEZpbHRlciIsInN0b3BXb3JkcyIsIndvcmRzIiwic3RvcFdvcmQiLCJUb2tlblNldCIsImVkZ2VzIiwiaWQiLCJfbmV4dElkIiwiZnJvbUFycmF5IiwiYXJyIiwiZmluaXNoIiwicm9vdCIsImZyb21DbGF1c2UiLCJjbGF1c2UiLCJmcm9tRnV6enlTdHJpbmciLCJ0ZXJtIiwiZWRpdERpc3RhbmNlIiwic3RhY2siLCJub2RlIiwiZWRpdHNSZW1haW5pbmciLCJmcmFtZSIsInBvcCIsIm5vRWRpdE5vZGUiLCJkZWxldGlvbk5vZGUiLCJzdWJzdGl0dXRpb25Ob2RlIiwiaW5zZXJ0aW9uTm9kZSIsInRyYW5zcG9zZU5vZGUiLCJjaGFyQSIsImNoYXJCIiwid2lsZGNhcmRGb3VuZCIsImZpbmFsIiwibmV4dCIsImVkZ2UiLCJfc3RyIiwibGFiZWxzIiwic29ydCIsImludGVyc2VjdCIsInFOb2RlIiwicUVkZ2VzIiwicUxlbiIsIm5FZGdlcyIsIm5MZW4iLCJxIiwicUVkZ2UiLCJuRWRnZSIsInByZXZpb3VzV29yZCIsInVuY2hlY2tlZE5vZGVzIiwibWluaW1pemVkTm9kZXMiLCJ3b3JkIiwiY29tbW9uUHJlZml4IiwibWluaW1pemUiLCJjaGlsZCIsIm5leHROb2RlIiwicGFyZW50IiwiZG93blRvIiwiY2hpbGRLZXkiLCJJbmRleCIsImF0dHJzIiwiaW52ZXJ0ZWRJbmRleCIsImZpZWxkVmVjdG9ycyIsInRva2VuU2V0IiwiZmllbGRzIiwic2VhcmNoIiwicXVlcnlTdHJpbmciLCJxdWVyeSIsInBhcnNlciIsIlF1ZXJ5UGFyc2VyIiwicGFyc2UiLCJRdWVyeSIsIm1hdGNoaW5nRmllbGRzIiwicXVlcnlWZWN0b3JzIiwidGVybUZpZWxkQ2FjaGUiLCJjbGF1c2VzIiwidGVybXMiLCJ1c2VQaXBlbGluZSIsIm0iLCJKU09OIiwic3RyaW5naWZ5IiwidGVybUluZGV4IiwidGVybVRva2VuU2V0IiwiZXhwYW5kZWRUZXJtcyIsImV4cGFuZGVkVGVybSIsIl9pbmRleCIsImsiLCJmaWVsZCIsImZpZWxkUG9zdGluZyIsIm1hdGNoaW5nRG9jdW1lbnRSZWZzIiwidGVybUZpZWxkIiwiYm9vc3QiLCJsIiwiZmllbGRNYXRjaCIsIm1hdGNoaW5nRG9jdW1lbnRSZWYiLCJtYXRjaGluZ0ZpZWxkUmVmIiwiTWF0Y2hEYXRhIiwibWF0Y2hpbmdGaWVsZFJlZnMiLCJyZXN1bHRzIiwibWF0Y2hlcyIsImRvY01hdGNoIiwiZmllbGRWZWN0b3IiLCJzY29yZSIsIm1hdGNoRGF0YSIsImNvbWJpbmUiLCJyZWYiLCJzZXJpYWxpemVkSW5kZXgiLCJzZXJpYWxpemVkVmVjdG9ycyIsInNlcmlhbGl6ZWRJbnZlcnRlZEluZGV4IiwidG9rZW5TZXRCdWlsZGVyIiwidHVwbGUiLCJfcmVmIiwiX2ZpZWxkcyIsImZpZWxkVGVybUZyZXF1ZW5jaWVzIiwiZmllbGRMZW5ndGhzIiwiX2IiLCJfazEiLCJtZXRhZGF0YVdoaXRlbGlzdCIsIm51bWJlciIsImsxIiwiZG9jIiwiZmllbGRUZXJtcyIsIm1ldGFkYXRhS2V5IiwiY2FsY3VsYXRlQXZlcmFnZUZpZWxkTGVuZ3RocyIsImZpZWxkUmVmcyIsIm51bWJlck9mRmllbGRzIiwiYWNjdW11bGF0b3IiLCJkb2N1bWVudHNXaXRoRmllbGQiLCJhdmVyYWdlRmllbGRMZW5ndGgiLCJjcmVhdGVGaWVsZFZlY3RvcnMiLCJmaWVsZFJlZnNMZW5ndGgiLCJ0ZXJtSWRmQ2FjaGUiLCJmaWVsZExlbmd0aCIsInRlcm1GcmVxdWVuY2llcyIsInRlcm1zTGVuZ3RoIiwic2NvcmVXaXRoUHJlY2lzaW9uIiwidGYiLCJyb3VuZCIsImNyZWF0ZVRva2VuU2V0IiwidXNlIiwiYXJncyIsInVuc2hpZnQiLCJhcHBseSIsImNsb25lZE1ldGFkYXRhIiwibWV0YWRhdGFLZXlzIiwia2V5Iiwib3RoZXJNYXRjaERhdGEiLCJhbGxGaWVsZHMiLCJ3aWxkY2FyZCIsIk5PTkUiLCJMRUFESU5HIiwiVFJBSUxJTkciLCJRdWVyeVBhcnNlRXJyb3IiLCJRdWVyeUxleGVyIiwibGV4ZW1lcyIsImVzY2FwZUNoYXJQb3NpdGlvbnMiLCJzdGF0ZSIsImxleFRleHQiLCJzbGljZVN0cmluZyIsInN1YlNsaWNlcyIsImpvaW4iLCJlbWl0IiwiZXNjYXBlQ2hhcmFjdGVyIiwiRU9TIiwiaWdub3JlIiwiYmFja3VwIiwiYWNjZXB0RGlnaXRSdW4iLCJjaGFyQ29kZSIsImNoYXJDb2RlQXQiLCJtb3JlIiwiRklFTEQiLCJURVJNIiwiRURJVF9ESVNUQU5DRSIsIkJPT1NUIiwibGV4RmllbGQiLCJsZXhlciIsImxleFRlcm0iLCJsZXhFZGl0RGlzdGFuY2UiLCJsZXhCb29zdCIsImxleEVPUyIsInRlcm1TZXBhcmF0b3IiLCJjdXJyZW50Q2xhdXNlIiwibGV4ZW1lSWR4IiwicGFyc2VGaWVsZE9yVGVybSIsInBlZWtMZXhlbWUiLCJjb25zdW1lTGV4ZW1lIiwibGV4ZW1lIiwibmV4dENsYXVzZSIsImNvbXBsZXRlZENsYXVzZSIsInBhcnNlRmllbGQiLCJwYXJzZVRlcm0iLCJlcnJvck1lc3NhZ2UiLCJwb3NzaWJsZUZpZWxkcyIsImYiLCJuZXh0TGV4ZW1lIiwicGFyc2VFZGl0RGlzdGFuY2UiLCJwYXJzZUJvb3N0IiwicGFyc2VJbnQiLCJpc05hTiIsImZhY3RvcnkiLCJkZWZpbmUiLCJhbWQiLCJleHBvcnRzIiwibW9kdWxlIiwiTGV2ZW5zaHRlaW4iLCJhcnJheSIsImdldENoYXIiLCJpZHgiLCJnZXRBcnJheU1lbWJlciIsInN0cl9tIiwic3RyX24iLCJwcmV2aW91cyIsImN1cnJlbnQiLCJtYXRyaXgiLCJnZXRFbGVtIiwiX21hdHJpeCIsImRpc3RhbmNlIiwibl92YWwiLCJuX2lkeCIsIm1fdmFsIiwibV9pZHgiLCJtaW4iLCJpbnNwZWN0Iiwibm9fcHJpbnQiLCJtYXgiLCJidWZmIiwic2VwIiwicm93cyIsImdldE1hdHJpeCIsIm8iLCJyb3ciLCJjZWxscyIsImNlbGwiLCJnZXRTdGVwcyIsInN0ZXBzIiwieSIsInUiLCJkIiwiTnVtYmVyIiwiTUFYX1ZBTFVFIiwidmFsdWVPZiIsImdob3N0SHVudGVyIiwib3B0cyIsImRlZmF1bHRzIiwicGx1Z2luTWV0aG9kcyIsInJlc3VsdHNEYXRhIiwib25QYWdlTG9hZCIsIm9uS2V5VXAiLCJyZXN1bHRfdGVtcGxhdGUiLCJpbmZvX3RlbXBsYXRlIiwiZGlzcGxheVNlYXJjaEluZm8iLCJ6ZXJvUmVzdWx0c0luZm8iLCJvbkNvbXBsZXRlIiwiaW5jbHVkZXBhZ2VzIiwiZmlsdGVyZmllbGRzIiwic3VicGF0aCIsIml0ZW1fcHJlcHJvY2Vzc29yIiwiaW5kZXhpbmdfc3RhcnQiLCJpbmRleGluZ19lbmQiLCJwcmV0dHlEYXRlIiwiZGF0ZSIsIkRhdGUiLCJtb250aE5hbWVzIiwiZ2V0RGF0ZSIsImdldE1vbnRoIiwiZ2V0RnVsbFllYXIiLCJnZXRTdWJwYXRoS2V5IiwibGFzdFRpbWVvdXRJRCIsInNldHRsZUlEcyIsIm9sZEF0dHIiLCJnZXRBdHRyaWJ1dGUiLCJuZXdBdHRyIiwic2V0QXR0cmlidXRlIiwidXBkYXRlU2VhcmNoTGlzdCIsImxpc3RJdGVtcyIsImFwaURhdGEiLCJpbGVuIiwic3RlcCIsImVxIiwibHVucnJlZiIsInBvc3REYXRhIiwiYmxvZ0RhdGEiLCJmb3JtYXQiLCJyZXBsYWNlV2l0aCIsImdyYWJBbmRJbmRleCIsImxhdGVzdFBvc3QiLCJwYXJhbXMiLCJsaW1pdCIsImluY2x1ZGUiLCJmb3JtYXRzIiwiZmlsdGVyIiwibWUiLCJnZXQiLCJnaG9zdCIsImFwaSIsImRvbmUiLCJkYXRhIiwiaWR4U3JjIiwicG9zdHMiLCJhcnJheUl0ZW0iLCJpdGVtRGF0ZSIsInVwZGF0ZWRfYXQiLCJnZXRUaW1lIiwicmVjb3JkZWREYXRlIiwidGFnX2FyciIsInRhZ3MiLCJtZXRhX2Rlc2NyaXB0aW9uIiwiY2F0ZWdvcnkiLCJwYXJzZWREYXRhIiwiU3RyaW5nIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImN1c3RvbV9leGNlcnB0IiwicGxhaW50ZXh0IiwicHViRGF0ZSIsInB1Ymxpc2hlZF9hdCIsInRhZyIsImxvY2FsVXJsIiwibGluayIsImFzc2lnbiIsInN1YnBhdGhLZXkiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiaXNJbml0IiwidGFyZ2V0IiwidGhhdCIsIm1pYW0iLCJsb2FkQVBJIiwic3VibWl0Iiwia2V5ZG93biIsIndoaWNoIiwia2V5dXAiLCJnZXRJdGVtIiwidmFsdWUiLCJjbGVhclRpbWVvdXQiLCJ0aGluZ3NGb3VuZCIsInZhbHVlU3BsaXQiLCJzcGxpdCIsInNlYXJjaFJlc3VsdCIsImpsZW4iLCJvdGhlclJlZnMiLCJrbGVuIiwiZW1wdHkiLCJhcHBlbmQiLCJhbW91bnQiLCJjaGlsZHJlbiIsImN1cnJlbnRSZWZzIiwibmV3UmVmcyIsImxldmVuc2h0ZWluIiwialF1ZXJ5IiwiZ2V0TGV2ZWwiLCJoZWFkZXIiLCJkZWNzIiwiY3JlYXRlTGlzdCIsIiR3cmFwcGVyIiwiY291bnQiLCJqdW1wQmFjayIsIiRjdXJyZW50V3JhcHBlciIsInNldEF0dHJzIiwiJHNyYyIsIiR0YXJnZXQiLCJjb250ZW50IiwidGV4dCIsInByZSIsImVuY29kZVVSSUNvbXBvbmVudCIsImJ1aWxkVE9DIiwiJHJldCIsIiRsYXN0TGkiLCJwcmV2RGVwdGgiLCJfc2V0QXR0cnMiLCJlbGVtIiwiY3VycmVudERlcHRoIiwidGFnTmFtZSIsIiRsaSIsIiRhIiwiZGVmYXVsdE9wdHMiLCJUeXBlRXJyb3IiLCJjdXJyZW50SGFzaCIsImFuY2hvciIsInNjcm9sbEludG9WaWV3Il0sIm1hcHBpbmdzIjoiQUF5QkEsUUFBU0EsUUFBT0MsRUFBS0MsRUFBVUMsR0FDM0IsR0FBSUMsS0FBU0MsT0FBT0MsY0FDaEJDLEVBQVFILElBQVNDLE9BQU9HLGVBQ3hCQyxFQUFTQyxTQUFTQyxjQUFjLFVBQ2hDQyxFQUFPTCxFQUFRRyxTQUFTRyxnQkFBa0JILFNBQVNJLHFCQUFxQixRQUFRLEVBQ3BGTCxHQUFPTSxLQUFPLGtCQUNkTixFQUFPTyxPQUFRLEVBQ1hQLEVBQU9RLFdBQ1BSLEVBQU9TLG1CQUFxQixXQUNDLFVBQXJCVCxFQUFPUSxZQUErQyxZQUFyQlIsRUFBT1EsYUFDeENSLEVBQU9T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LElBRy9CQSxFQUFTLElBVVRvdUIsRUFBV0UsRUFBU0YsRUFBb0IsR0FBVHB1QixJQUc5Qm91QixFQUFTdmpCLFNBQ1Z1akIsRUFBV1ksRUFHZixJQUFJTyxHQUFNeHdCLEVBQUUsU0FDUnl3QixFQUFLendCLEVBQUUsT0FFWG93QixHQUFVcHdCLEVBQUVxd0IsR0FBT0ksRUFBSXhmLEdBRXZCdWYsRUFBSTlCLE9BQU8rQixHQUFJMXNCLFNBQVNzckIsR0FFeEJhLEVBQVVNLEVBQ1ZMLEVBQVlHLElBR2JMLEVBYVhqd0IsR0FBRUMsR0FBRytJLFFBQVUsU0FBVWdCLEdBQ3JCLEdBQUkwbUIsSUFDQXpuQixTQUFVLHlCQUNWQyxNQUFPLE9BQ1BDLFdBQVcsRUFDWEMsT0FBUSxNQUdaWSxHQUFVaEssRUFBRUUsT0FBT3d3QixFQUFhMW1CLEVBRWhDLElBQUlmLEdBQVdlLEVBQVFmLFFBRXZCLElBQXdCLGdCQUFiQSxHQUNQLEtBQU0sSUFBSTBuQixXQUFVLDRCQUd4QixLQUFLMW5CLEVBQVM5RyxNQUFNLHVCQUNoQixLQUFNLElBQUl3dUIsV0FBVSxtQ0FHeEIzd0IsR0FBRWdCLE1BQU0wdEIsT0FBT3NCLEVBQVNobUIsR0FFeEIsSUFBSTRtQixHQUFjbnZCLFNBQVM4QyxJQVMzQixPQVBJcXNCLElBQ0FybkIsV0FBVyxXQUNQLEdBQUlzbkIsR0FBUzd4QixTQUFTVyxlQUFlaXhCLEVBQVl6aEIsTUFBTSxHQUNuRDBoQixJQUFRQSxFQUFPQyxrQkFDcEIsR0FHQTl3QixFQUFFZ0IiLCJmaWxlIjoiZGV2Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBpc0RlYnVnID0gZmFsc2U7XG5cbiQuZm4uZXh0ZW5kKHtcblxuICAgIGlzT25TY3JlZW5WaXNpYmxlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCEkKCdib2R5JykuaGFzQ2xhc3MoJ3Bvc3QtdGVtcGxhdGUnKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciB3aW4gPSAkKHdpbmRvdyk7XG4gICAgICAgIHZhciB2aWV3cG9ydCA9IHtcbiAgICAgICAgICAgIHRvcDogd2luLnNjcm9sbFRvcCgpLFxuICAgICAgICAgICAgbGVmdDogd2luLnNjcm9sbExlZnQoKVxuICAgICAgICB9O1xuICAgICAgICB2aWV3cG9ydC5yaWdodCA9IHZpZXdwb3J0LmxlZnQgKyB3aW4ud2lkdGgoKTtcbiAgICAgICAgdmlld3BvcnQuYm90dG9tID0gdmlld3BvcnQudG9wICsgd2luLmhlaWdodCgpO1xuXG4gICAgICAgIHZhciBib3VuZHMgPSB0aGlzLm9mZnNldCgpO1xuICAgICAgICBib3VuZHMucmlnaHQgPSBib3VuZHMubGVmdCArIHRoaXMub3V0ZXJXaWR0aCgpO1xuICAgICAgICBib3VuZHMuYm90dG9tID0gYm91bmRzLnRvcCArIHRoaXMub3V0ZXJIZWlnaHQoKTtcblxuICAgICAgICByZXR1cm4gKCEodmlld3BvcnQucmlnaHQgPCBib3VuZHMubGVmdCB8fCB2aWV3cG9ydC5sZWZ0ID4gYm91bmRzLnJpZ2h0IHx8IHZpZXdwb3J0LmJvdHRvbSA8IGJvdW5kcy50b3AgfHwgdmlld3BvcnQudG9wID4gYm91bmRzLmJvdHRvbSkpO1xuICAgIH0sXG5cbn0pO1xuXG5mdW5jdGlvbiBsb2FkSlModXJsLCBjYWxsYmFjaywgZWwpIHtcbiAgICB2YXIgaXNJRSA9ICEhd2luZG93LkFjdGl2ZVhPYmplY3QsXG4gICAgICAgIGlzSUU2ID0gaXNJRSAmJiAhd2luZG93LlhNTEh0dHBSZXF1ZXN0LFxuICAgICAgICBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpLFxuICAgICAgICBoZWFkID0gaXNJRTYgPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgOiBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF07XG4gICAgc2NyaXB0LnR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiO1xuICAgIHNjcmlwdC5hc3luYyA9IHRydWU7XG4gICAgaWYgKHNjcmlwdC5yZWFkeVN0YXRlKSB7XG4gICAgICAgIHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChzY3JpcHQucmVhZHlTdGF0ZSA9PSBcImxvYWRlZFwiIHx8IHNjcmlwdC5yZWFkeVN0YXRlID09IFwiY29tcGxldGVcIikge1xuICAgICAgICAgICAgICAgIHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBzY3JpcHQub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBzY3JpcHQuc3JjID0gdXJsO1xuICAgIGlmIChlbCkge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbCkuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBoZWFkLmluc2VydEJlZm9yZShzY3JpcHQsIGhlYWQuZmlyc3RDaGlsZCk7XG4gICAgfVxufVxuXG4vKipcbiAqIFlhc3VrbyDphY3nva7mlofku7ZcbiAqIOWkmuivtOivhOiuuuiwg+eUqOetiVxuICovXG5cbnZhciBHZW5lcmFsID0ge1xuICAgIGlzTW9iaWxlOiBmYWxzZSxcbiAgICBpc1dlY2hhdDogZmFsc2UsXG4gICAgdmlld1dpZHRoOiAkKHdpbmRvdykud2lkdGgoKSxcbiAgICBhYnNVcmw6IGxvY2F0aW9uLnByb3RvY29sICsgJy8vJyArIGxvY2F0aW9uLmhvc3QsXG4gICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB3aW4gPSB3aW5kb3c7XG4gICAgICAgIHZhciBkb2MgPSB3aW4uZG9jdW1lbnQ7XG4gICAgICAgIHZhciBVQSA9IG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgdmFyIGlzQW5kcm9pZCA9IHdpbi5uYXZpZ2F0b3IuYXBwVmVyc2lvbi5tYXRjaCgvYW5kcm9pZC9naSk7XG4gICAgICAgIHZhciBpc0lQaG9uZSA9IHdpbi5uYXZpZ2F0b3IuYXBwVmVyc2lvbi5tYXRjaCgvaXBob25lL2dpKTtcbiAgICAgICAgaWYgKFVBLm1hdGNoKC9NaWNyb01lc3Nlbmdlci9pKSA9PSBcIm1pY3JvbWVzc2VuZ2VyXCIpIHtcbiAgICAgICAgICAgIEdlbmVyYWwuaXNXZWNoYXQgPSB0cnVlO1xuICAgICAgICAgICAgJCgnYm9keScpLmFkZENsYXNzKCd3ZWNoYXQtd2VidmlldycpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghIWlzQW5kcm9pZCkge1xuICAgICAgICAgICAgR2VuZXJhbC5pc01vYmlsZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCQoJ2JvZHknKS5oYXNDbGFzcygncG9zdC10ZW1wbGF0ZScpKSB7XG4gICAgICAgICAgICBHZW5lcmFsLnVwZGF0ZUltYWdlV2lkdGgoKTtcbiAgICAgICAgICAgIEdlbmVyYWwucmV3YXJkTG9hZGVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBHZW5lcmFsLndlYkZvbnRMb2FkZXIoKTtcbiAgICAgICAgR2VuZXJhbC5zY3JvbGxUb1BvcygpO1xuICAgIH0sXG4gICAgdXBkYXRlSW1hZ2VXaWR0aDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciAkcG9zdENvbnRlbnQgPSAkKFwiLnBvc3QtY29udGVudFwiKTtcbiAgICAgICAgLy8gJHBvc3RDb250ZW50LmZpdFZpZHMoKTtcblxuICAgICAgICBmdW5jdGlvbiB1cGRhdGVJbWFnZVdpZHRoKCkge1xuICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICBjb250ZW50V2lkdGggPSAkcG9zdENvbnRlbnQub3V0ZXJXaWR0aCgpLCAvLyBXaWR0aCBvZiB0aGUgY29udGVudFxuICAgICAgICAgICAgICAgIGltYWdlV2lkdGggPSB0aGlzLm5hdHVyYWxXaWR0aDsgLy8gT3JpZ2luYWwgaW1hZ2UgcmVzb2x1dGlvblxuXG4gICAgICAgICAgICBpZiAoaW1hZ2VXaWR0aCA+PSBjb250ZW50V2lkdGgpIHtcbiAgICAgICAgICAgICAgICAkdGhpcy5hZGRDbGFzcygnZnVsbC1pbWcnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJHRoaXMucmVtb3ZlQ2xhc3MoJ2Z1bGwtaW1nJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgJGltZyA9ICQoXCIuc2luZ2xlLXBvc3QtaW5uZXIgaW1nXCIpLm9uKCdsb2FkJywgdXBkYXRlSW1hZ2VXaWR0aCk7XG5cbiAgICAgICAgZnVuY3Rpb24gY2FzcGVyRnVsbEltZygpIHtcbiAgICAgICAgICAgICRpbWcuZWFjaCh1cGRhdGVJbWFnZVdpZHRoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNhc3BlckZ1bGxJbWcoKTtcbiAgICB9LFxuXG4gICAgLy8gR2VuZXJhbC5hYnNVcmwgKyAnL2Fzc2V0cy9jc3MvZm9udC5taW4uY3NzJyAvLyDov5nkuKrmmK8gRXhvIOWtl+S9k++8jOiAg+iZkeS4jeWKoOi9veWugyzmj5Dpq5jml7bpl7RcbiAgICB3ZWJGb250TG9hZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgV2ViRm9udENvbmZpZyA9IHtcbiAgICAgICAgICAgIGxvYWRpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBpZiAoaXNEZWJ1Zykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdsb2FkaW5nIGZvbnQnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGN1c3RvbToge1xuICAgICAgICAgICAgICAgIGZhbWlsaWVzOiBbJ09wZW4gU2FucycsICdpY29uZm9udCcsICdmb250YXdlc29tZSddLFxuICAgICAgICAgICAgICAgIHVybHM6IFtHZW5lcmFsLmFic1VybCArICcvYXNzZXRzL2Nzcy9mb250Lm1pbi5jc3MnLFxuICAgICAgICAgICAgICAgICAgICAgICAnaHR0cHM6Ly9vYjZtY2kzMGcucW5zc2wuY29tL2ZvbnRzcy9pY29uZm9udC5jc3MnLFxuICAgICAgICAgICAgICAgICAgICAgICBHZW5lcmFsLmFic1VybCArICcvYXNzZXRzL2Nzcy9mb250LWF3ZXNvbWUubWluLmNzcydcbiAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGxvYWRKUyhHZW5lcmFsLmFic1VybCArICcvYXNzZXRzL2pzL3dlYmZvbnQuanMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChpc0RlYnVnKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfliqDovb3lrZfkvZNKUycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgV2ViRm9udC5sb2FkKHtcbiAgICAgICAgICAgICAgICBjdXN0b206IHtcbiAgICAgICAgICAgICAgICAgICAgZmFtaWxpZXM6IFsnT3BlbiBTYW5zJywgJ2ljb25mb250JywgJ2ZvbnRhd2Vzb21lJ11cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8v5bmz5ruR5rua5Yqo5Yiw6aG26YOoXG4gICAgc2Nyb2xsVG9Qb3M6IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgIHZhciBTVFJfVE9fVE9QID0gJ+aIkeimgemjnuWIsOacgOmrmCcsXG4gICAgICAgICAgICBjb3ZlckhlaWdodCA9IHBvc2l0aW9uIHx8ICQod2luZG93KS5oZWlnaHQoKTsgLy/ojrflvpflm77niYfpq5jluqZcbiAgICAgICAgdmFyIGJ1dHRvbiA9ICQoJzxhIGhyZWY9XCIjXCIgaWQ9XCJ0by10b3BcIiB0aXRsZT1cIicgKyBTVFJfVE9fVE9QICsgJ1wiPiA8ZGl2IGNsYXNzPVwidG8tdG9wLXdyYXBcIj48L2Rpdj48L2E+JykuYXBwZW5kVG8oJ2JvZHknKTtcbiAgICAgICAgJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICgkKHdpbmRvdykuc2Nyb2xsVG9wKCkgPiAkKHdpbmRvdykuaGVpZ2h0KCkpIHtcbiAgICAgICAgICAgICAgICBidXR0b24uZmFkZUluKDUwMCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJ1dHRvbi5mYWRlT3V0KDUwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGJ1dHRvbi5jbGljayhmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAkKCdodG1sLGJvZHknKS5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICBzY3JvbGxUb3A6IDBcbiAgICAgICAgICAgIH0sIDY2NiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSAnIyc7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChpc0RlYnVnKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfmiJHot7MnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICAvKue7meaWh+eroOS4reeahHVybOa3u+WKoGljb25mb2505pa55L6/6K+G5YirKi9cbiAgICB1cmxJY29ubGl6ZTogZnVuY3Rpb24odXJsKSB7XG4gICAgICAgIHZhciBkb21haW4sXG4gICAgICAgICAgICBfb3V0cHV0O1xuICAgICAgICB2YXIgaWNvbkZvbnRUYWcgPSAnaWNvbmZvbnQnO1xuICAgICAgICB2YXIgaWNvbk1hcCA9IHsgLyrntKLlvJUg5Y+v5Zyo6L+Z6YeM5re75Yqg5Yy56YWN6KeE5YiZKi9cbiAgICAgICAgICAgICd0d2l0dGVyJzogJ2ljb25mb250LXR3aXR0ZXIgaWNvbi1pY29uZm9udHR3aXR0ZXInLFxuICAgICAgICAgICAgJ3F6b25lJzogJ2ljb25mb250LXF6b25lIGljb24tcXpvbmUnLFxuICAgICAgICAgICAgJ3dlaWJvJzogJ2ljb25mb250LXdlaWJvIGljb24taWNvbmZvbnR3ZWlibycsXG4gICAgICAgICAgICAnZmFjZWJvb2snOiAnaWNvbmZvbnQtZmFjZWJvb2sgaWNvbi1pY29uZm9udGZhY2Vib29rJyxcbiAgICAgICAgICAgICdnaXRodWInOiAnaWNvbmZvbnQtZ2l0aHViIGljb24tZ2l0aHViJyxcbiAgICAgICAgICAgICdkb3ViYW4nOiAnaWNvbmZvbnQtZG91YmFuIGljb24taWNvbmZvbnRkb3ViYW4nLFxuICAgICAgICAgICAgJ2dvb2dsZSc6ICdpY29uZm9udC1nb29nbGUgaWNvbi1pY29uZm9udGdvb2dsZScsXG4gICAgICAgICAgICAnbHVvbGVpJzogJ2ljb25mb250LWx1b2xlaSBpY29uLWx1b2xlaScsXG4gICAgICAgICAgICAnZHJpYmJsZSc6ICdpY29uZm9udC1kcmliYmxlIGljb24tZHJpYmJibGVjaXJjbGVkJyxcbiAgICAgICAgICAgICd2MmV4JzogJ2ljb25mb250LXYyZXggaWNvbi1pY29uZm9udHYyZXgnLFxuICAgICAgICAgICAgJ3poaWh1JzogJ2ljb25mb250LXpoaWh1IGljb24taWNvbmZvbnR6aGlodScsXG4gICAgICAgICAgICAnd2lraXBlZGlhJzogJ2ljb25mb250LXdpa2lwZWRpYSBpY29uLWljb25mb250d2lraXBlZGlhJyxcbiAgICAgICAgICAgICdqaWFuc2h1JzogJ2ljb25mb250LWppYW5zaHUgaWNvbi1qaWFuc2h1JyxcbiAgICAgICAgICAgICd5b3VrdSc6ICdpY29uZm9udC15b3VrdSBpY29uLWljb25mb250eW91a3UnLFxuICAgICAgICAgICAgJ3lvdXR1YmUnOiAnaWNvbmZvbnQteW91dHViZSBpY29uLXlvdXR1YmUnLFxuICAgICAgICAgICAgJ2p1ZWppbic6J2ljb25mb250LWp1ZWppbiBpY29uLWp1ZWppbicsXG4gICAgICAgICAgICAnd2VpeGluJzonaWNvbmZvbnQtd2VpeGluIGljb24taWNvbmZvbnR3ZWNoYXQnLFxuICAgICAgICAgICAgJ3NlZ21lbnRmYXVsdCc6J2ljb25mb250LXNmIGljb24taWNvbnNmLWNvcHknXG4gICAgICAgIH07XG5cbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiBpY29uTWFwKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGljb25NYXBbbmFtZV0gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICB2YXIgTWFwS2V5ID0gbmFtZTtcbiAgICAgICAgICAgICAgICBpZiAodXJsLmluZGV4T2YoTWFwS2V5KSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvbWFpbiA9IE1hcEtleTtcbiAgICAgICAgICAgICAgICAgICAgX291dHB1dCA9IGljb25NYXBbTWFwS2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gX291dHB1dDtcbiAgICB9LFxuICAgIGFkZEljb25zOiBmdW5jdGlvbigpIHtcbiAgICAgICAgLyrnu5nljZrlrqLmlofnq6DlnLDlnYB1cmzmt7vliqBpY2/or4bliKsqL1xuICAgICAgICAkKCcuc2luZ2xlLXBvc3QtaW5uZXIgIGE6bm90KDpoYXMoaW1nKSknKS5lYWNoKGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgICAgIHZhciBfc3JjID0gJCh0aGlzKS5hdHRyKCdocmVmJyk7XG4gICAgICAgICAgICB2YXIgdG1wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICAgICAgdG1wLmhyZWYgPSBfc3JjO1xuICAgICAgICAgICAgX3NlbGZEb21haW4gPSB0bXAuaG9zdG5hbWU7XG4gICAgICAgICAgICBHZW5lcmFsLnVybEljb25saXplKF9zZWxmRG9tYWluKTtcbiAgICAgICAgICAgIGlmIChpc0RlYnVnKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9zZWxmRG9tYWluKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICQodGhpcykucHJlcGVuZCgnPGkgY2xhc3M9XCJpY29uZm9udCAnICsgR2VuZXJhbC51cmxJY29ubGl6ZShfc2VsZkRvbWFpbikgKyAnXCI+PC9pPicpO1xuICAgICAgICAgICAgdmFyIF9zZWxmQ29sb3IgPSAkKHRoaXMpLmZpbmQoJ2knKS5jc3MoJ2NvbG9yJyksXG4gICAgICAgICAgICAgICAgX29yaWdpbmFsQ29sb3IgPSAkKHRoaXMpLmNzcygnY29sb3InKTtcblxuICAgICAgICAgICAgLyrpvKDmoIfmgqzmta7ml7YqL1xuICAgICAgICAgICAgJCh0aGlzKS5ob3ZlcihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmNzcygnY29sb3InLCBfc2VsZkNvbG9yKTtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdhbmltYXRlZCBwdWxzZScpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5jc3MoJ2NvbG9yJywgX29yaWdpbmFsQ29sb3IpO1xuICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2FuaW1hdGVkIHB1bHNlJyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIC8v5omT6LWPXG4gICAgcmV3YXJkTG9hZGVyOiBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgbG9hZFFSID0ge1xuICAgICAgICAgICAgYWxpcGF5OiAnL2Fzc2V0cy9pbWFnZXMvcXItYWxpcGF5LTI1NS5wbmcnLFxuICAgICAgICAgICAgd2VjaGF0OiAnL2Fzc2V0cy9pbWFnZXMvcXItd2VjaGF0LTI1NS5wbmcnXG4gICAgICAgIH07XG4gICAgICAgIHZhciBsb2FkUVJVcmw7XG4gICAgICAgIGlmICghIUdlbmVyYWwuaXNXZWNoYXQpIHtcbiAgICAgICAgICAgICQoJy53ZWNoYXQtY29kZSBiJykuaHRtbCgn6ZW/5oyJ5LiK5pa55LqM57u056CB5omT6LWP5L2c6ICFJyk7XG4gICAgICAgICAgICAvLyAkKCcucXItY29kZScpLmZhZGVPdXQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgICQoJy5tb25leS1saWtlIC5yZXdhcmQtYnV0dG9uJykuaG92ZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoaXNEZWJ1Zykge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5oKs5rWuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkKCdpbWcud2VjaGF0LWltZycpLmF0dHIoJ3NyYycsIGxvYWRRUi53ZWNoYXQpO1xuICAgICAgICAgICAgJCgnaW1nLmFsaXBheS1pbWcnKS5hdHRyKCdzcmMnLCBsb2FkUVIuYWxpcGF5KTtcbiAgICAgICAgICAgICQoJy5tb25leS1jb2RlJykuZmFkZUluKCk7XG4gICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKCcubW9uZXktY29kZScpLmZhZGVPdXQoKTtcbiAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICB9LCA4MDApO1xuXG4gICAgICAgICQoJy5tb25leS1saWtlIC5yZXdhcmQtYnV0dG9uJykuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcygnYWN0aXZlJykpIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoJ2ltZy53ZWNoYXQtaW1nJykuYXR0cignc3JjJywgbG9hZFFSLndlY2hhdCk7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5maW5kKCdpbWcuYWxpcGF5LWltZycpLmF0dHIoJ3NyYycsIGxvYWRRUi5hbGlwYXkpO1xuICAgICAgICAgICAgICAgICQoJy5tb25leS1jb2RlJykuZmFkZU91dCgpO1xuICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICQoJy5tb25leS1jb2RlJykuZmFkZUluKCk7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5cbnZhciBJbWFnZVNtYXJ0TG9hZGVyID0ge1xuICAgIGlzV2ViUFN1cHBvcnRlZDogZmFsc2UsXG4gICAgaXNJbWFnZUNvbXByZXNzZWQ6IGZhbHNlLFxuICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBJbWFnZVNtYXJ0TG9hZGVyLndlYlBDaGVjaygpO1xuICAgIH0sXG4gICAgaXNDb21wcmVzc2VkQ2hlY2s6IGZ1bmN0aW9uKCkge1xuXG4gICAgfSxcbiAgICB3ZWJQQ2hlY2s6IGZ1bmN0aW9uKGZlYXR1cmUsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBUZXN0SW1hZ2VzID0ge1xuICAgICAgICAgICAgZGVtbzogXCJVa2xHUmtvQUFBQlhSVUpRVmxBNFdBb0FBQUFRQUFBQUFBQUFBQUFBUVV4UVNBc0FBQUFCQnhBUkVZaUkvZ2NBQUFCV1VEZ2dHQUFBQURBQkFKMEJLZ0VBQVFBQkFCd2xwQUFEY0FEKy9nYlFBQT09XCJcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGlzRGVidWcpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn5pSv5oyBV2VicOWTpicpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgaW1nLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IChpbWcud2lkdGggPiAwKSAmJiAoaW1nLmhlaWdodCA+IDApO1xuICAgICAgICAgICAgaWYgKGlzRGVidWcpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+aUr+aMgVdlYnAnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGFsZXJ0KCfmlK/mjIEnKVxuICAgICAgICAgICAgSW1hZ2VTbWFydExvYWRlci5pc1dlYlBTdXBwb3J0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgSW1hZ2VTbWFydExvYWRlci53ZWJQTG9hZGVyKCk7XG4gICAgICAgIH07XG4gICAgICAgIGltZy5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoaXNEZWJ1Zykge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5LiN5pSv5oyBV2VicCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgSW1hZ2VTbWFydExvYWRlci5pc1dlYlBTdXBwb3J0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIEltYWdlU21hcnRMb2FkZXIud2ViUExvYWRlcigpO1xuICAgICAgICB9O1xuICAgICAgICBpbWcuc3JjID0gXCJkYXRhOmltYWdlL3dlYnA7YmFzZTY0LFwiICsgVGVzdEltYWdlcy5kZW1vO1xuXG4gICAgfSxcbiAgICBpbWdMb2FkZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoaXNEZWJ1Zykge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfliqDovb3pu5jorqTlm77niYcnKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgd2ViUExvYWRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChpc0RlYnVnKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ+WKoOi9vXdlYlAnKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhbGVydChJbWFnZVNtYXJ0TG9hZGVyLmlzV2ViUFN1cHBvcnRlZCk7XG4gICAgICAgIGlmIChJbWFnZVNtYXJ0TG9hZGVyLmlzV2ViUFN1cHBvcnRlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgaWYgKGlzRGVidWcpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+WuveW6puaYrycgKyBHZW5lcmFsLnZpZXdXaWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoR2VuZXJhbC52aWV3V2lkdGggPT0gNzY4KSB7XG4gICAgICAgICAgICAgICAgJChcIi5sYXp5XCIpLmxhenlsb2FkKHtcbiAgICAgICAgICAgICAgICAgICAgYWR2YW5jZWRfbG9hZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YV9hdHRyaWJ1dGU6ICd1cmwnLFxuICAgICAgICAgICAgICAgICAgICB3ZWJQX2xvYWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGlzX3NjYWxlOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChHZW5lcmFsLnZpZXdXaWR0aCA8IDc2OCkge1xuICAgICAgICAgICAgICAgICQoXCIubGF6eVwiKS5sYXp5bG9hZCh7XG4gICAgICAgICAgICAgICAgICAgIGFkdmFuY2VkX2xvYWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGRhdGFfYXR0cmlidXRlOiAndXJsJyxcbiAgICAgICAgICAgICAgICAgICAgd2ViUF9sb2FkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBpc19zY2FsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgc2NhbGVfd2lkdGg6IDc1MFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBhbGVydCgn5pmu6YCa5pSv5oyBJylcbiAgICAgICAgICAgICAgICAkKFwiLmxhenlcIikubGF6eWxvYWQoe1xuICAgICAgICAgICAgICAgICAgICBhZHZhbmNlZF9sb2FkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBkYXRhX2F0dHJpYnV0ZTogJ3VybCcsXG4gICAgICAgICAgICAgICAgICAgIHdlYlBfbG9hZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgaXNfc2NhbGU6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChHZW5lcmFsLnZpZXdXaWR0aCA9PSA3NjgpIHtcbiAgICAgICAgICAgICAgICAkKFwiLmxhenlcIikubGF6eWxvYWQoe1xuICAgICAgICAgICAgICAgICAgICBhZHZhbmNlZF9sb2FkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBkYXRhX2F0dHJpYnV0ZTogJ3VybCcsXG4gICAgICAgICAgICAgICAgICAgIHdlYlBfbG9hZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGlzX3NjYWxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBzY2FsZV93aWR0aDogMTUwMFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChHZW5lcmFsLnZpZXdXaWR0aCA8IDc2OCkge1xuICAgICAgICAgICAgICAgICQoXCIubGF6eVwiKS5sYXp5bG9hZCh7XG4gICAgICAgICAgICAgICAgICAgIGFkdmFuY2VkX2xvYWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGRhdGFfYXR0cmlidXRlOiAndXJsJyxcbiAgICAgICAgICAgICAgICAgICAgd2ViUF9sb2FkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgaXNfc2NhbGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHNjYWxlX3dpZHRoOiA3NTBcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gYWxlcnQoJ+aZrumAmuaUr+aMgScpXG4gICAgICAgICAgICAgICAgJChcIi5sYXp5XCIpLmxhenlsb2FkKHtcbiAgICAgICAgICAgICAgICAgICAgYWR2YW5jZWRfbG9hZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YV9hdHRyaWJ1dGU6ICd1cmwnLFxuICAgICAgICAgICAgICAgICAgICB3ZWJQX2xvYWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBpc19zY2FsZTogZmFsc2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG59O1xuXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICB2YXIgJHdpbmRvdyA9ICQod2luZG93KTtcblxuICAgIC8vIFNjcm9sbCB0byBjb250ZW50XG5cdFx0Ly8gJCgnLnNjcm9sbC1kb3duJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuXHRcdC8vIFx0dmFyICRjb3ZlciA9ICQodGhpcykuY2xvc2VzdCgnLmNvdmVyJyk7XG5cdFx0Ly8gXHQkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XG5cdFx0Ly8gXHRcdHNjcm9sbFRvcDogJGNvdmVyLnBvc2l0aW9uKCkudG9wICsgJGNvdmVyLmhlaWdodCgpXG5cdFx0Ly8gXHR9LCA4MDAgKTtcblx0XHQvLyBcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHQvLyB9KTtcblxuICAgIC8vIGFkanVzdENvdmVyKCk7XG4gICAgLy8gdmFyIGxhenlSZXNpemUgPSBkZWJvdW5jZShhZGp1c3RDb3ZlciwgMjAwLCBmYWxzZSk7XG4gICAgLy8gJCh3aW5kb3cpLnJlc2l6ZShsYXp5UmVzaXplKTtcblxuICAgIC8vIFNjcm9sbCB0byBjb250ZW50XG4gICAgdmFyIHNjcm9sbEhpbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2Nyb2xsLWhpbnQnKTtcbiAgICBpZiAoc2Nyb2xsSGludCAhPT0gbnVsbCkge1xuICAgICAgLy8gICBzY3JvbGxIaW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAvLyAgICAgaWYgKCFzY3JvbGxIaW50LmNsYXNzTGlzdC5jb250YWlucygndmlzaWJsZScpKVxuICAgICAgLy8gICAgICAgICByZXR1cm47XG4gICAgICAvLyAgICAgICB3aW5kb3cuc2Nyb2xsQnkoe1xuICAgICAgLy8gICAgICAgICB0b3A6IHdpbmRvdy5pbm5lckhlaWdodCxcbiAgICAgIC8vICAgICAgICAgbGVmdDogMCxcbiAgICAgIC8vICAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnXG4gICAgICAvLyAgICAgfSk7XG4gICAgICAvLyB9KTtcblxuICAgICAgLy8gU2Nyb2xsIHRvIGNvbnRlbnRcblx0XHQkKCcuaGVhZGVyLXNjcm9sbC1oaW50Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuXHRcdFx0dmFyICRjb3ZlciA9ICQodGhpcykuY2xvc2VzdCgnLmNvdmVyJyk7XG5cdFx0XHQkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XG5cdFx0XHRcdHNjcm9sbFRvcDogJGNvdmVyLnBvc2l0aW9uKCkudG9wICsgJGNvdmVyLmhlaWdodCgpXG5cdFx0XHR9LCA0MDAgKTtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHR9KTtcblxuICAgICAgLy8gJCgnLmNvdmVyIC5hcnJvdy1kb3duJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgLy8gICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7J3Njcm9sbFRvcCc6ICQoJy5jb3ZlcicpLmhlaWdodCgpfSwgODAwKTtcbiAgICAgIC8vICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgLy8gfSk7XG5cbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIHNjcm9sbFRvcCA9IHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xuICAgICAgICAgIGlmIChzY3JvbGxUb3AgPiAwKSB7XG4gICAgICAgICAgICAgIHNjcm9sbEhpbnQuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNjcm9sbEhpbnQuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xuICAgICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIHNjcm9sbFRvcCA9IHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xuICAgICAgICAgIGlmIChzY3JvbGxUb3AgPiAwKSB7XG4gICAgICAgICAgICAgIHNjcm9sbEhpbnQuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNjcm9sbEhpbnQuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xuICAgICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkanVzdENvdmVyKCkge1xuXHRcdCAgICBzZXRFbGVtZW50SGVpZ2h0KCcucG9zdC1oZWFkZXIuY292ZXInKTtcblx0ICB9XG5cbiAgICAvL+WIneWni+WMliB0b2Mg5o+S5Lu2XG4gICAgJCgnI3RvYycpLmluaXRUT0Moe1xuICAgICAgICBzZWxlY3RvcjogXCJoMSwgaDIsIGgzLCBoNCwgaDUsIGg2XCIsXG4gICAgICAgIHNjb3BlOiBcImFydGljbGVcIixcbiAgICAgICAgb3ZlcndyaXRlOiBmYWxzZSxcbiAgICAgICAgcHJlZml4OiBcInRvY1wiXG4gICAgfSk7XG5cbiAgICAvL+WKqOaAgeiuvue9ruagt+W8jyzkvovlpoI65rua5Yqo5Yiw5LiA5a6a56iL5bqm5LmL5ZCO6ZqQ6JeP55uu5b2VXG4gICAgLy8gdmFyIG1hcl9sZWZ0ID0gJChcIi5wb3N0XCIpLndpZHRoKCkgLyAyICsgMjA7XG4gICAgLy92YXIgdG9wID0gJChcIiN0b2NcIikuY3NzKFwidG9wXCIpOyAg6L+Z5Y+q6IO96I635Y+W57G75Ly8MTUycHjnmoTlrZfnrKbkuLIs5LiL6Z2i5omN6IO96I635Y+W5YC8XG4gICAgLy92YXIgdG9wID0gJChcIiN0b2NcIikucG9zaXRpb24oKS50b3A7XG4gICAgLy8gdmFyIHRvcCA9ICQod2luZG93KS5oZWlnaHQoKTtcbiAgICAvLyAkKFwiI3RvY1wiKS5jc3MoXCJ0b3BcIix0b3AgLyAyLSAodG9wIC8gNCkrXCJweFwiKTtcbiAgICAvLyAkKFwiI3RvYyBvbFwiKS5odG1sKGZ1bmN0aW9uKGksb3JpZ1RleHQpe1xuICAgIC8vICAgICByZXR1cm4gb3JpZ1RleHQgKyBcIjxsaT48YSBpZD0nc2Nyb2xsVG9wJyBocmVmPScjJz7ov5Tlm57pobbpg6g8L2E+PC9saT5cIjtcbiAgICAvLyB9KTtcbiAgICAvLyAkKFwiI3RvY1wiKS5jc3Moe1wibWFyZ2luLWxlZnRcIjptYXJfbGVmdCtcInB4XCJ9KTtcblxuICAgIC8vICQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24oKXtcbiAgICAvLyAgICAgdmFyIHdpbmRvd19vZmZzZXQgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCk7XG4gICAgLy8gICAgIHZhciBtYWluX2hlYWRlcl9oZWlnaHQgPSAkKFwiLm1haW4taGVhZGVyXCIpLmhlaWdodCgpO1xuICAgIC8vICAgICB2YXIgY29udGVudF9oZWlnaHQgPSAkKFwiLmNvbnRlbnRcIikuaGVpZ2h0KCk7XG4gICAgLy8gICAgIGlmKHdpbmRvd19vZmZzZXQgPCBtYWluX2hlYWRlcl9oZWlnaHQgLSAxMDApIHtcbiAgICAvLyAgICAgICAgICQoXCIjdG9jXCIpLmhpZGUoKTtcbiAgICAvLyAgICAgICAgIC8v5LiL6Z2i55qE5p2h5Lu25LiN6IO955SoIGE+eD5j6L+Z56eN5b2i5byPLOWPquiDveeUqCYmLui6q+S4uuS4gOS4quWJjeerr+Wwj+eZveihqOekuuS8pOS4jei1ty4uLlxuICAgIC8vICAgICB9ZWxzZSBpZih3aW5kb3dfb2Zmc2V0ID4gbWFpbl9oZWFkZXJfaGVpZ2h0JiZtYWluX2hlYWRlcl9oZWlnaHQrY29udGVudF9oZWlnaHQgLSA1MDAgPiB3aW5kb3dfb2Zmc2V0KSB7XG4gICAgLy8gICAgICAgICAkKFwiI3RvY1wiKS5zaG93KCk7XG4gICAgLy8gICAgIH1lbHNle1xuICAgIC8vICAgICAgICAgJChcIiN0b2NcIikuaGlkZSgpO1xuICAgIC8vICAgICB9XG4gICAgLy8gfSk7XG5cblx0ICAvLyBTZXQgdGhlIG5ldyBoZWlnaHQgb2YgYW4gZWxlbWVudFxuXHQgIGZ1bmN0aW9uIHNldEVsZW1lbnRIZWlnaHQoZWxlbWVudCl7XG5cdFx0ICAgIHZhciB3aW5kb3dIZWlnaHQgPSAoIHRydWU9PT1pc2lQb2QoKSAmJiB0cnVlPT09aXNTYWZhcmkoKSApID8gd2luZG93LnNjcmVlbi5hdmFpbEhlaWdodCA6ICQod2luZG93KS5oZWlnaHQoKTtcblx0XHQgICAgICB2YXIgb2Zmc2V0SGVpZ2h0ID0gJCgnLnNpdGUtaGVhZGVyJykub3V0ZXJIZWlnaHQoKTtcblx0XHQgICAgICAgIHZhciBuZXdIZWlnaHQgPSB3aW5kb3dIZWlnaHQ7XG5cdFx0ICAgICAgICAgIGlmICggJChlbGVtZW50KS5maW5kKCcuc2Nyb2xsLWRvd24nKS5pcygnOmhpZGRlbicpICkge1xuXHRcdFx0ICAgICAgICAgICAgICQoZWxlbWVudCkucmVtb3ZlQXR0cignc3R5bGUnKTtcblx0XHRcdCAgICAgICAgICAgICAgICAkKGVsZW1lbnQpLmZpbmQoJy5jb3Zlci1iZycpLmNzcygndG9wJywnJyk7XG5cdFx0ICAgICAgICAgIH1cblx0XHQgICAgICAgICAgZWxzZSB7XG5cdFx0XHQgICAgICAgICAgICAgJChlbGVtZW50KS5vdXRlckhlaWdodChuZXdIZWlnaHQpO1xuXHRcdFx0ICAgICAgICAgICAgICAgICQoZWxlbWVudCkuZmluZCgnLmNvdmVyLWJnJykuY3NzKCd0b3AnLG9mZnNldEhlaWdodCk7XG5cdFx0ICAgICAgICAgIH1cblx0ICB9XG5cblx0ICAvLyBUaHJvdHRsZXMgYW4gYWN0aW9uLlxuXHQgIC8vIFRha2VuIGZyb20gVW5kZXJzY29yZS5qcy5cblx0ICBmdW5jdGlvbiBkZWJvdW5jZSAoZnVuYywgd2FpdCwgaW1tZWRpYXRlKSB7XG5cdFx0ICAgIHZhciB0aW1lb3V0LCBhcmdzLCBjb250ZXh0LCB0aW1lc3RhbXAsIHJlc3VsdDtcblx0XHQgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHQgICAgICAgICBjb250ZXh0ID0gdGhpcztcblx0XHRcdCAgICAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XG5cdFx0XHQgICAgICAgICB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpO1xuXHRcdFx0ICAgICAgICAgdmFyIGxhdGVyID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdCAgICAgICAgICAgIHZhciBsYXN0ID0gKG5ldyBEYXRlKCkpIC0gdGltZXN0YW1wO1xuXHRcdFx0XHQgICAgICAgICAgICBpZiAobGFzdCA8IHdhaXQpIHtcblx0XHRcdFx0XHQgICAgICAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHdhaXQgLSBsYXN0KTtcblx0XHRcdFx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0XHRcdFx0XHQgICAgICAgICAgICAgIHRpbWVvdXQgPSBudWxsO1xuXHRcdFx0XHRcdCAgICAgICAgICAgICAgaWYgKCFpbW1lZGlhdGUpIHtcblx0XHRcdFx0XHRcdCAgICAgICAgICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuXHRcdFx0XHRcdCAgICAgICAgICAgICAgfVxuXHRcdFx0XHQgICAgICAgICAgICB9XG5cdFx0XHQgICAgICAgICB9O1xuXHRcdFx0ICAgICAgICAgdmFyIGNhbGxOb3cgPSBpbW1lZGlhdGUgJiYgIXRpbWVvdXQ7XG5cdFx0XHQgICAgICAgICAgICBpZiAoIXRpbWVvdXQpIHtcblx0XHRcdFx0ICAgICAgICAgICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCB3YWl0KTtcblx0XHRcdCAgICAgICAgICAgIH1cblx0XHRcdCAgICAgICAgICAgIGlmIChjYWxsTm93KSB7XG5cdFx0XHRcdCAgICAgICAgICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuXHRcdFx0ICAgICAgICAgICAgfVxuXHRcdFx0ICAgIHJldHVybiByZXN1bHQ7XG5cdFx0ICAgICAgfTtcblx0ICB9XG5cblx0ICAvLyBDaGVjayBpZiBkZXZpY2UgaXMgYW4gaVBob25lIG9yIGlQb2Rcblx0ICBmdW5jdGlvbiBpc2lQb2QoKXtcblx0XHQgICAgcmV0dXJuKC8oaVBob25lfGlQb2QpL2cpLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5cdCAgfVxuXG5cdCAgLy8gQ2hlY2sgaWYgYnJvd3NlciBpcyBTYWZhcmlcblx0ICBmdW5jdGlvbiBpc1NhZmFyaSgpe1xuXHRcdCAgICByZXR1cm4oLTEhPT1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ1NhZmFyaScpJiYtMT09PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignQ2hyb21lJykpO1xuXHQgIH1cblxuXHRcdC8vIEhpZGRlbiBzZWN0aW9uc1xuXHRcdCQoJy5zaWRlYmFyLXRvZ2dsZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpe1xuXHRcdFx0Ly8gJCgnYm9keScpLnRvZ2dsZUNsYXNzKCdzaWRlYmFyLW9wZW5lZCcpOyDliIfmjaLnsbvliKvlj6/ku6Xnm7TmjqXnlKggdG9nZ2xlQ2xhc3NcbiAgICAgIGlmICggJCgnYm9keScpLmhhc0NsYXNzKCdzaWRlYmFyLW9wZW5lZCcpICkge1xuXHRcdFx0XHQkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ3NpZGViYXItb3BlbmVkJyk7XG4gICAgICAgICQoJ2JvZHknKS5jc3MoJ292ZXJmbG93Jywnc2Nyb2xsJyk7IC8vIOaBouWkjSBib2R577yM5YWB6K645LiL5bGC5ruR5YqoXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQkKCdib2R5JykuYWRkQ2xhc3MoJ3NpZGViYXItb3BlbmVkJyk7XG4gICAgICAgICQoJ2JvZHknKS5jc3MoJ292ZXJmbG93JywnaGlkZGVuJyk7IC8vIOmUgeWumiBib2R577yM56aB5q2i5LiL5bGC5ruR5YqoXG5cdFx0XHR9XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0fSk7XG5cblx0XHQkKCcuc2VhcmNoLXRvZ2dsZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpe1xuXHRcdFx0aWYgKCAkKCdib2R5JykuaGFzQ2xhc3MoJ3NlYXJjaC1vcGVuZWQnKSApIHtcblx0XHRcdFx0JCgnYm9keScpLnJlbW92ZUNsYXNzKCdzZWFyY2gtb3BlbmVkJyk7XG4gICAgICAgICQoJ2JvZHknKS5jc3MoJ292ZXJmbG93Jywnc2Nyb2xsJyk7IC8vIOaBouWkjSBib2R577yM5YWB6K645LiL5bGC5ruR5YqoXG5cdFx0XHRcdHNlYXJjaEZpZWxkLmNsZWFyKCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQkKCdib2R5JykuYWRkQ2xhc3MoJ3NlYXJjaC1vcGVuZWQnKTtcbiAgICAgICAgJCgnYm9keScpLmNzcygnb3ZlcmZsb3cnLCdoaWRkZW4nKTsgLy8g6ZSB5a6aIGJvZHnvvIznpoHmraLkuIvlsYLmu5Hliqhcblx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHQkKCcjc2VhcmNoLWZpZWxkJykuZm9jdXMoKTtcblx0XHRcdFx0fSwgMzAwKTtcblx0XHRcdH1cblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHR9KTtcblx0XHQkKCcub3ZlcmxheScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpe1xuXHRcdFx0JCgnYm9keScpLnJlbW92ZUNsYXNzKCdzaWRlYmFyLW9wZW5lZCBzZWFyY2gtb3BlbmVkJyk7XG4gICAgICAkKCdib2R5JykuY3NzKCdvdmVyZmxvdycsJ3Njcm9sbCcpOyAvLyDmgaLlpI0gYm9kee+8jOWFgeiuuOS4i+Wxgua7keWKqFxuXHRcdFx0c2VhcmNoRmllbGQuY2xlYXIoKTtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHR9KTtcblxuICAgIC8vIFNob3cgY29tbWVudHNcblx0XHRpZiAoIHR5cGVvZiBkaXNxdXNfc2hvcnRuYW1lICE9PSAndW5kZWZpbmVkJyApIHtcblx0XHRcdHZhciBkaXNxdXNfbG9hZGVkID0gZmFsc2U7XG5cdFx0XHQkKCcuY29tbWVudHMtdGl0bGUnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIF90aGlzID0gJCh0aGlzKTtcblx0XHRcdFx0aWYgKCAhIGRpc3F1c19sb2FkZWQgKSB7XG5cdFx0XHRcdFx0JC5hamF4KHtcblx0XHRcdFx0XHRcdHR5cGU6IFwiR0VUXCIsXG5cdFx0XHRcdFx0XHR1cmw6IFwiLy9cIiArIGRpc3F1c19zaG9ydG5hbWUgKyBcIi5kaXNxdXMuY29tL2VtYmVkLmpzXCIsXG5cdFx0XHRcdFx0XHRkYXRhVHlwZTogXCJzY3JpcHRcIixcblx0XHRcdFx0XHRcdGNhY2hlOiB0cnVlXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0X3RoaXMuYWRkQ2xhc3MoJ3RvZ2dsZWQtb24nKTtcblx0XHRcdFx0XHRkaXNxdXNfbG9hZGVkID0gdHJ1ZTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQkKCcjZGlzcXVzX3RocmVhZCcpLnNsaWRlVG9nZ2xlKCk7XG5cdFx0XHRcdFx0aWYgKCBfdGhpcy5oYXNDbGFzcygndG9nZ2xlZC1vbicpICkge1xuXHRcdFx0XHRcdFx0X3RoaXMucmVtb3ZlQ2xhc3MoJ3RvZ2dsZWQtb24nKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0X3RoaXMuYWRkQ2xhc3MoJ3RvZ2dsZWQtb24nKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblxuICAgICQuZm4ubGF6eWxvYWQgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIHZhciBlbGVtZW50cyA9IHRoaXM7XG4gICAgICAgIHZhciAkY29udGFpbmVyO1xuICAgICAgICB2YXIgc2V0dGluZ3MgPSB7XG4gICAgICAgICAgICB0aHJlc2hvbGQ6IDAsXG4gICAgICAgICAgICBmYWlsdXJlX2xpbWl0OiAwLFxuICAgICAgICAgICAgZXZlbnQ6IFwic2Nyb2xsXCIsXG4gICAgICAgICAgICBlZmZlY3Q6IFwic2hvd1wiLFxuICAgICAgICAgICAgY29udGFpbmVyOiB3aW5kb3csXG4gICAgICAgICAgICBkYXRhX2F0dHJpYnV0ZTogXCJvcmlnaW5hbFwiLFxuICAgICAgICAgICAgc2tpcF9pbnZpc2libGU6IGZhbHNlLFxuICAgICAgICAgICAgYXBwZWFyOiBudWxsLFxuICAgICAgICAgICAgbG9hZDogbnVsbCxcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcIlwiLFxuICAgICAgICAgICAgYWR2YW5jZWRfbG9hZDogZmFsc2UsXG4gICAgICAgICAgICB3ZWJQX2xvYWQ6IGZhbHNlLFxuICAgICAgICAgICAgaXNfc2NhbGU6IGZhbHNlLFxuICAgICAgICAgICAgc2NhbGVfd2lkdGg6IDc1MFxuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBjb3VudGVyID0gMDtcblxuICAgICAgICAgICAgZWxlbWVudHMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzLnNraXBfaW52aXNpYmxlICYmICEkdGhpcy5pcyhcIjp2aXNpYmxlXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCQuYWJvdmV0aGV0b3AodGhpcywgc2V0dGluZ3MpIHx8XG4gICAgICAgICAgICAgICAgICAgICQubGVmdG9mYmVnaW4odGhpcywgc2V0dGluZ3MpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qIE5vdGhpbmcuICovXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghJC5iZWxvd3RoZWZvbGQodGhpcywgc2V0dGluZ3MpICYmXG4gICAgICAgICAgICAgICAgICAgICEkLnJpZ2h0b2Zmb2xkKHRoaXMsIHNldHRpbmdzKSkge1xuICAgICAgICAgICAgICAgICAgICAkdGhpcy50cmlnZ2VyKFwiYXBwZWFyXCIpO1xuICAgICAgICAgICAgICAgICAgICAvKiBpZiB3ZSBmb3VuZCBhbiBpbWFnZSB3ZSdsbCBsb2FkLCByZXNldCB0aGUgY291bnRlciAqL1xuICAgICAgICAgICAgICAgICAgICBjb3VudGVyID0gMDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoKytjb3VudGVyID4gc2V0dGluZ3MuZmFpbHVyZV9saW1pdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgICAgICAvKiBNYWludGFpbiBCQyBmb3IgYSBjb3VwbGUgb2YgdmVyc2lvbnMuICovXG4gICAgICAgICAgICBpZiAodW5kZWZpbmVkICE9PSBvcHRpb25zLmZhaWx1cmVsaW1pdCkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuZmFpbHVyZV9saW1pdCA9IG9wdGlvbnMuZmFpbHVyZWxpbWl0O1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLmZhaWx1cmVsaW1pdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh1bmRlZmluZWQgIT09IG9wdGlvbnMuZWZmZWN0c3BlZWQpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmVmZmVjdF9zcGVlZCA9IG9wdGlvbnMuZWZmZWN0c3BlZWQ7XG4gICAgICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMuZWZmZWN0c3BlZWQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICQuZXh0ZW5kKHNldHRpbmdzLCBvcHRpb25zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qIENhY2hlIGNvbnRhaW5lciBhcyBqUXVlcnkgYXMgb2JqZWN0LiAqL1xuICAgICAgICAkY29udGFpbmVyID0gKHNldHRpbmdzLmNvbnRhaW5lciA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICBzZXR0aW5ncy5jb250YWluZXIgPT09IHdpbmRvdykgPyAkd2luZG93IDogJChzZXR0aW5ncy5jb250YWluZXIpO1xuXG4gICAgICAgIC8qIEZpcmUgb25lIHNjcm9sbCBldmVudCBwZXIgc2Nyb2xsLiBOb3Qgb25lIHNjcm9sbCBldmVudCBwZXIgaW1hZ2UuICovXG4gICAgICAgIGlmICgwID09PSBzZXR0aW5ncy5ldmVudC5pbmRleE9mKFwic2Nyb2xsXCIpKSB7XG4gICAgICAgICAgICAkY29udGFpbmVyLmJpbmQoc2V0dGluZ3MuZXZlbnQsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCfmu5rliqjkuoYxMTEnKTtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygn5rua5YqoJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgJHNlbGYgPSAkKHNlbGYpO1xuXG4gICAgICAgICAgICBzZWxmLmxvYWRlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAvKiBJZiBubyBzcmMgYXR0cmlidXRlIGdpdmVuIHVzZSBkYXRhOnVyaS4gKi9cbiAgICAgICAgICAgIGlmICgkc2VsZi5hdHRyKFwic3JjXCIpID09PSB1bmRlZmluZWQgfHwgJHNlbGYuYXR0cihcInNyY1wiKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoJHNlbGYuaXMoXCJpbWdcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNlbGYuYXR0cihcInNyY1wiLCBzZXR0aW5ncy5wbGFjZWhvbGRlcik7XG4gICAgICAgICAgICAgICAgICAgICRzZWxmLmFkZENsYXNzKFwibG9hZGluZ1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8qIFdoZW4gYXBwZWFyIGlzIHRyaWdnZXJlZCBsb2FkIG9yaWdpbmFsIGltYWdlLiAqL1xuICAgICAgICAgICAgJHNlbGYub25lKFwiYXBwZWFyXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5sb2FkZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzLmFwcGVhcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnRzX2xlZnQgPSBlbGVtZW50cy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5hcHBlYXIuY2FsbChzZWxmLCBlbGVtZW50c19sZWZ0LCBzZXR0aW5ncyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRGVidWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnMS5zZWxmLmF0dHIgPSAnLCRzZWxmKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgdXBkYXRlZFVybCA9ICRzZWxmLmF0dHIoXCJkYXRhLVwiICsgc2V0dGluZ3MuZGF0YV9hdHRyaWJ1dGUpO1xuICAgICAgICAgICAgICAgICAgICAvLyB2YXIgdXBkYXRlZFVybCA9ICRzZWxmLmF0dHIoXCJkYXRhLW9yaWdpbmFsXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh1cGRhdGVkVXJsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkVXJsID0gJHNlbGYuYXR0cihcInNyY1wiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodXBkYXRlZFVybCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+a1i+ivlSA9ICcsJHNlbGYuc3R5bGUpO1xuICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRVcmwgPSAkc2VsZi5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHVwZGF0ZWRVcmwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0RlYnVnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygndXBkYXRlZFVybCA9ICcsdXBkYXRlZFVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5Zu+54mH5Zyw5Z2AJyArdXBkYXRlZFVybC5pbmRleE9mKCdvYjZtY2kzMGcucW5zc2wuY29tJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0NETuWcsOWdgCcgK3VwZGF0ZWRVcmwuaW5kZXhPZignZmlsZS5pczI2LmNvbScpKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHVwZGF0ZWRVcmwuaW5kZXhPZignb2I2bWNpMzBnLnFuc3NsLmNvbScpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWxlcnQoMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzLmFkdmFuY2VkX2xvYWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRVcmwgKz0gJz9pbWFnZVZpZXcyJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2V0dGluZ3MuaXNfc2NhbGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRVcmwgKz0gJy8wL3cvJyArIHNldHRpbmdzLnNjYWxlX3dpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXR0aW5ncy53ZWJQX2xvYWQgPT09IHRydWUgJiYgc2V0dGluZ3MuaXNfc2NhbGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkVXJsICs9ICcvMC9mb3JtYXQvd2VicCc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzLndlYlBfbG9hZCA9PT0gdHJ1ZSAmJiBzZXR0aW5ncy5pc19zY2FsZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFVybCArPSAnL2Zvcm1hdC93ZWJwJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0RlYnVnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+S4remXtOaJk+WNsHVwZGF0ZWRVcmwnLHVwZGF0ZWRVcmwpO1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCcqKioqKioqKirkuK3pl7TmiZPljbAgaW1nLnNyYyA9ICcsJHNlbGYuYXR0cihcInNyY1wiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJyoqKioqKioqKuS4remXtOaJk+WNsCBpbWcgPSAnLCQoXCI8aW1nIC8+XCIpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICQoXCI8aW1nIC8+XCIpLmJpbmQoXCJsb2FkXCIsIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNlbGYuaGlkZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzZWxmLmlzKFwiaW1nXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzZWxmLmF0dHIoXCJzcmNcIiwgdXBkYXRlZFVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0RlYnVnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJyoqKioqKioqKmltZy5zcmMgPSAnLCRzZWxmLmF0dHIoXCJzcmNcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNlbGYuY3NzKFwiYmFja2dyb3VuZC1pbWFnZVwiLCBcInVybCgnXCIgKyB1cGRhdGVkVXJsICsgXCInKVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzRGVidWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnKioqKioqKioqYmFja2dyb3VuZC1pbWFnZSA9ICcsJHNlbGYuY3NzKFwiYmFja2dyb3VuZC1pbWFnZVwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNlbGZbc2V0dGluZ3MuZWZmZWN0XShzZXR0aW5ncy5lZmZlY3Rfc3BlZWQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5sb2FkZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogUmVtb3ZlIGltYWdlIGZyb20gYXJyYXkgc28gaXQgaXMgbm90IGxvb3BlZCBuZXh0IHRpbWUuICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSAkLmdyZXAoZWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFlbGVtZW50LmxvYWRlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50cyA9ICQodGVtcCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2V0dGluZ3MubG9hZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbWVudHNfbGVmdCA9IGVsZW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3MubG9hZC5jYWxsKHNlbGYsIGVsZW1lbnRzX2xlZnQsIHNldHRpbmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNlbGYucmVtb3ZlQ2xhc3MoXCJsb2FkaW5nXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwic3JjXCIsIHVwZGF0ZWRVcmwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvKiBXaGVuIHdhbnRlZCBldmVudCBpcyB0cmlnZ2VyZWQgbG9hZCBvcmlnaW5hbCBpbWFnZSAqL1xuICAgICAgICAgICAgLyogYnkgdHJpZ2dlcmluZyBhcHBlYXIuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmICgwICE9PSBzZXR0aW5ncy5ldmVudC5pbmRleE9mKFwic2Nyb2xsXCIpKSB7XG4gICAgICAgICAgICAgICAgJHNlbGYuYmluZChzZXR0aW5ncy5ldmVudCwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc2VsZi5sb2FkZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzZWxmLnRyaWdnZXIoXCJhcHBlYXJcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLyogQ2hlY2sgaWYgc29tZXRoaW5nIGFwcGVhcnMgd2hlbiB3aW5kb3cgaXMgcmVzaXplZC4gKi9cbiAgICAgICAgJHdpbmRvdy5iaW5kKFwicmVzaXplXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdXBkYXRlKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8qIFdpdGggSU9TNSBmb3JjZSBsb2FkaW5nIGltYWdlcyB3aGVuIG5hdmlnYXRpbmcgd2l0aCBiYWNrIGJ1dHRvbi4gKi9cbiAgICAgICAgLyogTm9uIG9wdGltYWwgd29ya2Fyb3VuZC4gKi9cbiAgICAgICAgaWYgKCgvKD86aXBob25lfGlwb2R8aXBhZCkuKm9zIDUvZ2kpLnRlc3QobmF2aWdhdG9yLmFwcFZlcnNpb24pKSB7XG4gICAgICAgICAgICAkd2luZG93LmJpbmQoXCJwYWdlc2hvd1wiLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgIGlmIChldmVudC5vcmlnaW5hbEV2ZW50ICYmIGV2ZW50Lm9yaWdpbmFsRXZlbnQucGVyc2lzdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnRyaWdnZXIoXCJhcHBlYXJcIik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLyogRm9yY2UgaW5pdGlhbCBjaGVjayBpZiBpbWFnZXMgc2hvdWxkIGFwcGVhci4gKi9cbiAgICAgICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB1cGRhdGUoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qIENvbnZlbmllbmNlIG1ldGhvZHMgaW4galF1ZXJ5IG5hbWVzcGFjZS4gICAgICAgICAgICovXG4gICAgLyogVXNlIGFzICAkLmJlbG93dGhlZm9sZChlbGVtZW50LCB7dGhyZXNob2xkIDogMTAwLCBjb250YWluZXIgOiB3aW5kb3d9KSAqL1xuXG4gICAgJC5iZWxvd3RoZWZvbGQgPSBmdW5jdGlvbihlbGVtZW50LCBzZXR0aW5ncykge1xuICAgICAgICB2YXIgZm9sZDtcblxuICAgICAgICBpZiAoc2V0dGluZ3MuY29udGFpbmVyID09PSB1bmRlZmluZWQgfHwgc2V0dGluZ3MuY29udGFpbmVyID09PSB3aW5kb3cpIHtcbiAgICAgICAgICAgIGZvbGQgPSAod2luZG93LmlubmVySGVpZ2h0ID8gd2luZG93LmlubmVySGVpZ2h0IDogJHdpbmRvdy5oZWlnaHQoKSkgKyAkd2luZG93LnNjcm9sbFRvcCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9sZCA9ICQoc2V0dGluZ3MuY29udGFpbmVyKS5vZmZzZXQoKS50b3AgKyAkKHNldHRpbmdzLmNvbnRhaW5lcikuaGVpZ2h0KCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZm9sZCA8PSAkKGVsZW1lbnQpLm9mZnNldCgpLnRvcCAtIHNldHRpbmdzLnRocmVzaG9sZDtcbiAgICB9O1xuXG4gICAgJC5yaWdodG9mZm9sZCA9IGZ1bmN0aW9uKGVsZW1lbnQsIHNldHRpbmdzKSB7XG4gICAgICAgIHZhciBmb2xkO1xuXG4gICAgICAgIGlmIChzZXR0aW5ncy5jb250YWluZXIgPT09IHVuZGVmaW5lZCB8fCBzZXR0aW5ncy5jb250YWluZXIgPT09IHdpbmRvdykge1xuICAgICAgICAgICAgZm9sZCA9ICR3aW5kb3cud2lkdGgoKSArICR3aW5kb3cuc2Nyb2xsTGVmdCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9sZCA9ICQoc2V0dGluZ3MuY29udGFpbmVyKS5vZmZzZXQoKS5sZWZ0ICsgJChzZXR0aW5ncy5jb250YWluZXIpLndpZHRoKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZm9sZCA8PSAkKGVsZW1lbnQpLm9mZnNldCgpLmxlZnQgLSBzZXR0aW5ncy50aHJlc2hvbGQ7XG4gICAgfTtcblxuICAgICQuYWJvdmV0aGV0b3AgPSBmdW5jdGlvbihlbGVtZW50LCBzZXR0aW5ncykge1xuICAgICAgICB2YXIgZm9sZDtcblxuICAgICAgICBpZiAoc2V0dGluZ3MuY29udGFpbmVyID09PSB1bmRlZmluZWQgfHwgc2V0dGluZ3MuY29udGFpbmVyID09PSB3aW5kb3cpIHtcbiAgICAgICAgICAgIGZvbGQgPSAkd2luZG93LnNjcm9sbFRvcCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9sZCA9ICQoc2V0dGluZ3MuY29udGFpbmVyKS5vZmZzZXQoKS50b3A7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZm9sZCA+PSAkKGVsZW1lbnQpLm9mZnNldCgpLnRvcCArIHNldHRpbmdzLnRocmVzaG9sZCArICQoZWxlbWVudCkuaGVpZ2h0KCk7XG4gICAgfTtcblxuICAgICQubGVmdG9mYmVnaW4gPSBmdW5jdGlvbihlbGVtZW50LCBzZXR0aW5ncykge1xuICAgICAgICB2YXIgZm9sZDtcblxuICAgICAgICBpZiAoc2V0dGluZ3MuY29udGFpbmVyID09PSB1bmRlZmluZWQgfHwgc2V0dGluZ3MuY29udGFpbmVyID09PSB3aW5kb3cpIHtcbiAgICAgICAgICAgIGZvbGQgPSAkd2luZG93LnNjcm9sbExlZnQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvbGQgPSAkKHNldHRpbmdzLmNvbnRhaW5lcikub2Zmc2V0KCkubGVmdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmb2xkID49ICQoZWxlbWVudCkub2Zmc2V0KCkubGVmdCArIHNldHRpbmdzLnRocmVzaG9sZCArICQoZWxlbWVudCkud2lkdGgoKTtcbiAgICB9O1xuXG4gICAgJC5pbnZpZXdwb3J0ID0gZnVuY3Rpb24oZWxlbWVudCwgc2V0dGluZ3MpIHtcblxuICAgICAgICByZXR1cm4gISQucmlnaHRvZmZvbGQoZWxlbWVudCwgc2V0dGluZ3MpICYmICEkLmxlZnRvZmJlZ2luKGVsZW1lbnQsIHNldHRpbmdzKSAmJlxuICAgICAgICAgICAgISQuYmVsb3d0aGVmb2xkKGVsZW1lbnQsIHNldHRpbmdzKSAmJiAhJC5hYm92ZXRoZXRvcChlbGVtZW50LCBzZXR0aW5ncyk7XG4gICAgfTtcblxuICAgIC8qIEN1c3RvbSBzZWxlY3RvcnMgZm9yIHlvdXIgY29udmVuaWVuY2UuICAgKi9cbiAgICAvKiBVc2UgYXMgJChcImltZzpiZWxvdy10aGUtZm9sZFwiKS5zb21ldGhpbmcoKSBvciAqL1xuICAgIC8qICQoXCJpbWdcIikuZmlsdGVyKFwiOmJlbG93LXRoZS1mb2xkXCIpLnNvbWV0aGluZygpIHdoaWNoIGlzIGZhc3RlciAqL1xuXG4gICAgJC5leHRlbmQoJC5leHByW1wiOlwiXSwge1xuICAgICAgICBcImJlbG93LXRoZS1mb2xkXCI6IGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICAgIHJldHVybiAkLmJlbG93dGhlZm9sZChhLCB7XG4gICAgICAgICAgICAgICAgdGhyZXNob2xkOiAwXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgXCJhYm92ZS10aGUtdG9wXCI6IGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICAgIHJldHVybiAhJC5iZWxvd3RoZWZvbGQoYSwge1xuICAgICAgICAgICAgICAgIHRocmVzaG9sZDogMFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIFwicmlnaHQtb2Ytc2NyZWVuXCI6IGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICAgIHJldHVybiAkLnJpZ2h0b2Zmb2xkKGEsIHtcbiAgICAgICAgICAgICAgICB0aHJlc2hvbGQ6IDBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBcImxlZnQtb2Ytc2NyZWVuXCI6IGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICAgIHJldHVybiAhJC5yaWdodG9mZm9sZChhLCB7XG4gICAgICAgICAgICAgICAgdGhyZXNob2xkOiAwXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgXCJpbi12aWV3cG9ydFwiOiBmdW5jdGlvbihhKSB7XG4gICAgICAgICAgICByZXR1cm4gJC5pbnZpZXdwb3J0KGEsIHtcbiAgICAgICAgICAgICAgICB0aHJlc2hvbGQ6IDBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICAvKiBNYWludGFpbiBCQyBmb3IgY291cGxlIG9mIHZlcnNpb25zLiAqL1xuICAgICAgICBcImFib3ZlLXRoZS1mb2xkXCI6IGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICAgIHJldHVybiAhJC5iZWxvd3RoZWZvbGQoYSwge1xuICAgICAgICAgICAgICAgIHRocmVzaG9sZDogMFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIFwicmlnaHQtb2YtZm9sZFwiOiBmdW5jdGlvbihhKSB7XG4gICAgICAgICAgICByZXR1cm4gJC5yaWdodG9mZm9sZChhLCB7XG4gICAgICAgICAgICAgICAgdGhyZXNob2xkOiAwXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgXCJsZWZ0LW9mLWZvbGRcIjogZnVuY3Rpb24oYSkge1xuICAgICAgICAgICAgcmV0dXJuICEkLnJpZ2h0b2Zmb2xkKGEsIHtcbiAgICAgICAgICAgICAgICB0aHJlc2hvbGQ6IDBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBHZW5lcmFsLmluaXQoKTtcbiAgICBJbWFnZVNtYXJ0TG9hZGVyLmluaXQoKTtcbiAgICBpZiAoJCgnYm9keScpLmhhc0NsYXNzKCdwb3N0LXRlbXBsYXRlJykpIHtcbiAgICAgICAgR2VuZXJhbC5hZGRJY29ucygpO1xuICAgIH1cblxuICAgIC8vIFNpdGUgc2VhcmNoXG4gICAgLy8gdmFyIHNlYXJjaEZpZWxkID0gJCgnI3NlYXJjaC1maWVsZCcpLmdob3N0SHVudGVyKHtcbiAgICAvLyAgIHJlc3VsdHMgOiBcIiNzZWFyY2gtcmVzdWx0c1wiLFxuICAgIC8vICAgb25LZXlVcCA6IHRydWUsXG4gICAgLy8gICBvblBhZ2VMb2FkIDogdHJ1ZSxcbiAgICAvLyAgIGluY2x1ZGVwYWdlcyA6IHRydWUsXG4gICAgLy8gICBpbmZvX3RlbXBsYXRlIDogJzxkaXYgY2xhc3M9XCJyZXN1bHRzLWluZm9cIj5Qb3N0cyBmb3VuZDoge3thbW91bnR9fTwvZGl2PicsXG4gICAgLy8gICByZXN1bHRfdGVtcGxhdGUgOiAnPGRpdiBjbGFzcz1cInJlc3VsdC1pdGVtXCI+PGEgaHJlZj1cInt7bGlua319XCI+PGRpdiBjbGFzcz1cInJlc3VsdC10aXRsZVwiPnt7dGl0bGV9fTwvZGl2PjxkaXYgY2xhc3M9XCJyZXN1bHQtZGF0ZVwiPnt7cHViRGF0ZX19PC9kaXY+PC9hPjwvZGl2PidcbiAgICAvLyB9KTtcbn0pO1xuIiwiLyoqXG4qIGdob3N0SHVudGVyIC0gMC41LjBcbiAqIENvcHlyaWdodCAoQykgMjAxNCBKYW1hbCBOZXVmZWxkIChqYW1hbEBpMTF1Lm1lKVxuICogTUlUIExpY2Vuc2VkXG4gKiBAbGljZW5zZVxuKi9cbihmdW5jdGlvbiggJCApIHtcblxuICAvKipcbiAqIGx1bnIgLSBodHRwOi8vbHVucmpzLmNvbSAtIEEgYml0IGxpa2UgU29sciwgYnV0IG11Y2ggc21hbGxlciBhbmQgbm90IGFzIGJyaWdodCAtIDIuMS41XG4gKiBDb3B5cmlnaHQgKEMpIDIwMTcgT2xpdmVyIE5pZ2h0aW5nYWxlXG4gKiBAbGljZW5zZSBNSVRcbiAqL1xuXG47KGZ1bmN0aW9uKCl7XG5cbi8qKlxuICogQSBjb252ZW5pZW5jZSBmdW5jdGlvbiBmb3IgY29uZmlndXJpbmcgYW5kIGNvbnN0cnVjdGluZ1xuICogYSBuZXcgbHVuciBJbmRleC5cbiAqXG4gKiBBIGx1bnIuQnVpbGRlciBpbnN0YW5jZSBpcyBjcmVhdGVkIGFuZCB0aGUgcGlwZWxpbmUgc2V0dXBcbiAqIHdpdGggYSB0cmltbWVyLCBzdG9wIHdvcmQgZmlsdGVyIGFuZCBzdGVtbWVyLlxuICpcbiAqIFRoaXMgYnVpbGRlciBvYmplY3QgaXMgeWllbGRlZCB0byB0aGUgY29uZmlndXJhdGlvbiBmdW5jdGlvblxuICogdGhhdCBpcyBwYXNzZWQgYXMgYSBwYXJhbWV0ZXIsIGFsbG93aW5nIHRoZSBsaXN0IG9mIGZpZWxkc1xuICogYW5kIG90aGVyIGJ1aWxkZXIgcGFyYW1ldGVycyB0byBiZSBjdXN0b21pc2VkLlxuICpcbiAqIEFsbCBkb2N1bWVudHMgX211c3RfIGJlIGFkZGVkIHdpdGhpbiB0aGUgcGFzc2VkIGNvbmZpZyBmdW5jdGlvbi5cbiAqXG4gKiBAZXhhbXBsZVxuICogdmFyIGlkeCA9IGx1bnIoZnVuY3Rpb24gKCkge1xuICogICB0aGlzLmZpZWxkKCd0aXRsZScpXG4gKiAgIHRoaXMuZmllbGQoJ2JvZHknKVxuICogICB0aGlzLnJlZignaWQnKVxuICpcbiAqICAgZG9jdW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGRvYykge1xuICogICAgIHRoaXMuYWRkKGRvYylcbiAqICAgfSwgdGhpcylcbiAqIH0pXG4gKlxuICogQHNlZSB7QGxpbmsgbHVuci5CdWlsZGVyfVxuICogQHNlZSB7QGxpbmsgbHVuci5QaXBlbGluZX1cbiAqIEBzZWUge0BsaW5rIGx1bnIudHJpbW1lcn1cbiAqIEBzZWUge0BsaW5rIGx1bnIuc3RvcFdvcmRGaWx0ZXJ9XG4gKiBAc2VlIHtAbGluayBsdW5yLnN0ZW1tZXJ9XG4gKiBAbmFtZXNwYWNlIHtmdW5jdGlvbn0gbHVuclxuICovXG52YXIgbHVuciA9IGZ1bmN0aW9uIChjb25maWcpIHtcbiAgdmFyIGJ1aWxkZXIgPSBuZXcgbHVuci5CdWlsZGVyKCk7XG5cbiAgYnVpbGRlci5waXBlbGluZS5hZGQoXG4gICAgbHVuci50cmltbWVyLFxuICAgIGx1bnIuc3RvcFdvcmRGaWx0ZXIsXG4gICAgbHVuci5zdGVtbWVyXG4gICk7XG5cbiAgYnVpbGRlci5zZWFyY2hQaXBlbGluZS5hZGQoXG4gICAgbHVuci5zdGVtbWVyXG4gICk7XG5cbiAgY29uZmlnLmNhbGwoYnVpbGRlciwgYnVpbGRlcik7XG4gIHJldHVybiBidWlsZGVyLmJ1aWxkKCk7XG59O1xuXG5sdW5yLnZlcnNpb24gPSBcIjIuMS41XCI7XG4vKiFcbiAqIGx1bnIudXRpbHNcbiAqIENvcHlyaWdodCAoQykgMjAxNyBPbGl2ZXIgTmlnaHRpbmdhbGVcbiAqL1xuXG4vKipcbiAqIEEgbmFtZXNwYWNlIGNvbnRhaW5pbmcgdXRpbHMgZm9yIHRoZSByZXN0IG9mIHRoZSBsdW5yIGxpYnJhcnlcbiAqL1xubHVuci51dGlscyA9IHt9O1xuXG4vKipcbiAqIFByaW50IGEgd2FybmluZyBtZXNzYWdlIHRvIHRoZSBjb25zb2xlLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlIFRoZSBtZXNzYWdlIHRvIGJlIHByaW50ZWQuXG4gKiBAbWVtYmVyT2YgVXRpbHNcbiAqL1xubHVuci51dGlscy53YXJuID0gKGZ1bmN0aW9uIChnbG9iYWwpIHtcbiAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICByZXR1cm4gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICBpZiAoZ2xvYmFsLmNvbnNvbGUgJiYgY29uc29sZS53YXJuKSB7XG4gICAgICBjb25zb2xlLndhcm4obWVzc2FnZSk7XG4gICAgfVxuICB9O1xuICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cbn0pKHRoaXMpO1xuXG4vKipcbiAqIENvbnZlcnQgYW4gb2JqZWN0IHRvIGEgc3RyaW5nLlxuICpcbiAqIEluIHRoZSBjYXNlIG9mIGBudWxsYCBhbmQgYHVuZGVmaW5lZGAgdGhlIGZ1bmN0aW9uIHJldHVybnNcbiAqIHRoZSBlbXB0eSBzdHJpbmcsIGluIGFsbCBvdGhlciBjYXNlcyB0aGUgcmVzdWx0IG9mIGNhbGxpbmdcbiAqIGB0b1N0cmluZ2Agb24gdGhlIHBhc3NlZCBvYmplY3QgaXMgcmV0dXJuZWQuXG4gKlxuICogQHBhcmFtIHtBbnl9IG9iaiBUaGUgb2JqZWN0IHRvIGNvbnZlcnQgdG8gYSBzdHJpbmcuXG4gKiBAcmV0dXJuIHtTdHJpbmd9IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgcGFzc2VkIG9iamVjdC5cbiAqIEBtZW1iZXJPZiBVdGlsc1xuICovXG5sdW5yLnV0aWxzLmFzU3RyaW5nID0gZnVuY3Rpb24gKG9iaikge1xuICBpZiAob2JqID09PSB2b2lkIDAgfHwgb2JqID09PSBudWxsKSB7XG4gICAgcmV0dXJuIFwiXCI7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG9iai50b1N0cmluZygpO1xuICB9XG59O1xubHVuci5GaWVsZFJlZiA9IGZ1bmN0aW9uIChkb2NSZWYsIGZpZWxkTmFtZSwgc3RyaW5nVmFsdWUpIHtcbiAgdGhpcy5kb2NSZWYgPSBkb2NSZWY7XG4gIHRoaXMuZmllbGROYW1lID0gZmllbGROYW1lO1xuICB0aGlzLl9zdHJpbmdWYWx1ZSA9IHN0cmluZ1ZhbHVlO1xufTtcblxubHVuci5GaWVsZFJlZi5qb2luZXIgPSBcIi9cIjtcblxubHVuci5GaWVsZFJlZi5mcm9tU3RyaW5nID0gZnVuY3Rpb24gKHMpIHtcbiAgdmFyIG4gPSBzLmluZGV4T2YobHVuci5GaWVsZFJlZi5qb2luZXIpO1xuXG4gIGlmIChuID09PSAtMSkge1xuICAgIHRocm93IFwibWFsZm9ybWVkIGZpZWxkIHJlZiBzdHJpbmdcIjtcbiAgfVxuXG4gIHZhciBmaWVsZFJlZiA9IHMuc2xpY2UoMCwgbiksXG4gICAgICBkb2NSZWYgPSBzLnNsaWNlKG4gKyAxKTtcblxuICByZXR1cm4gbmV3IGx1bnIuRmllbGRSZWYgKGRvY1JlZiwgZmllbGRSZWYsIHMpO1xufTtcblxubHVuci5GaWVsZFJlZi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLl9zdHJpbmdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpcy5fc3RyaW5nVmFsdWUgPSB0aGlzLmZpZWxkTmFtZSArIGx1bnIuRmllbGRSZWYuam9pbmVyICsgdGhpcy5kb2NSZWY7XG4gIH1cblxuICByZXR1cm4gdGhpcy5fc3RyaW5nVmFsdWU7XG59O1xuLyoqXG4gKiBBIGZ1bmN0aW9uIHRvIGNhbGN1bGF0ZSB0aGUgaW52ZXJzZSBkb2N1bWVudCBmcmVxdWVuY3kgZm9yXG4gKiBhIHBvc3RpbmcuIFRoaXMgaXMgc2hhcmVkIGJldHdlZW4gdGhlIGJ1aWxkZXIgYW5kIHRoZSBpbmRleFxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge29iamVjdH0gcG9zdGluZyAtIFRoZSBwb3N0aW5nIGZvciBhIGdpdmVuIHRlcm1cbiAqIEBwYXJhbSB7bnVtYmVyfSBkb2N1bWVudENvdW50IC0gVGhlIHRvdGFsIG51bWJlciBvZiBkb2N1bWVudHMuXG4gKi9cbmx1bnIuaWRmID0gZnVuY3Rpb24gKHBvc3RpbmcsIGRvY3VtZW50Q291bnQpIHtcbiAgdmFyIGRvY3VtZW50c1dpdGhUZXJtID0gMDtcblxuICBmb3IgKHZhciBmaWVsZE5hbWUgaW4gcG9zdGluZykge1xuICAgIGlmIChmaWVsZE5hbWUgPT0gJ19pbmRleCcpIGNvbnRpbnVlOyAvLyBJZ25vcmUgdGhlIHRlcm0gaW5kZXgsIGl0cyBub3QgYSBmaWVsZFxuICAgIGRvY3VtZW50c1dpdGhUZXJtICs9IE9iamVjdC5rZXlzKHBvc3RpbmdbZmllbGROYW1lXSkubGVuZ3RoO1xuICB9XG5cbiAgdmFyIHggPSAoZG9jdW1lbnRDb3VudCAtIGRvY3VtZW50c1dpdGhUZXJtICsgMC41KSAvIChkb2N1bWVudHNXaXRoVGVybSArIDAuNSk7XG5cbiAgcmV0dXJuIE1hdGgubG9nKDEgKyBNYXRoLmFicyh4KSk7XG59O1xuXG4vKipcbiAqIEEgdG9rZW4gd3JhcHMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSB0b2tlblxuICogYXMgaXQgaXMgcGFzc2VkIHRocm91Z2ggdGhlIHRleHQgcHJvY2Vzc2luZyBwaXBlbGluZS5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyPScnXSAtIFRoZSBzdHJpbmcgdG9rZW4gYmVpbmcgd3JhcHBlZC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbbWV0YWRhdGE9e31dIC0gTWV0YWRhdGEgYXNzb2NpYXRlZCB3aXRoIHRoaXMgdG9rZW4uXG4gKi9cbmx1bnIuVG9rZW4gPSBmdW5jdGlvbiAoc3RyLCBtZXRhZGF0YSkge1xuICB0aGlzLnN0ciA9IHN0ciB8fCBcIlwiO1xuICB0aGlzLm1ldGFkYXRhID0gbWV0YWRhdGEgfHwge307XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIHRva2VuIHN0cmluZyB0aGF0IGlzIGJlaW5nIHdyYXBwZWQgYnkgdGhpcyBvYmplY3QuXG4gKlxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xubHVuci5Ub2tlbi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLnN0cjtcbn07XG5cbi8qKlxuICogQSB0b2tlbiB1cGRhdGUgZnVuY3Rpb24gaXMgdXNlZCB3aGVuIHVwZGF0aW5nIG9yIG9wdGlvbmFsbHlcbiAqIHdoZW4gY2xvbmluZyBhIHRva2VuLlxuICpcbiAqIEBjYWxsYmFjayBsdW5yLlRva2VufnVwZGF0ZUZ1bmN0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIC0gVGhlIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgdG9rZW4uXG4gKiBAcGFyYW0ge09iamVjdH0gbWV0YWRhdGEgLSBBbGwgbWV0YWRhdGEgYXNzb2NpYXRlZCB3aXRoIHRoaXMgdG9rZW4uXG4gKi9cblxuLyoqXG4gKiBBcHBsaWVzIHRoZSBnaXZlbiBmdW5jdGlvbiB0byB0aGUgd3JhcHBlZCBzdHJpbmcgdG9rZW4uXG4gKlxuICogQGV4YW1wbGVcbiAqIHRva2VuLnVwZGF0ZShmdW5jdGlvbiAoc3RyLCBtZXRhZGF0YSkge1xuICogICByZXR1cm4gc3RyLnRvVXBwZXJDYXNlKClcbiAqIH0pXG4gKlxuICogQHBhcmFtIHtsdW5yLlRva2VufnVwZGF0ZUZ1bmN0aW9ufSBmbiAtIEEgZnVuY3Rpb24gdG8gYXBwbHkgdG8gdGhlIHRva2VuIHN0cmluZy5cbiAqIEByZXR1cm5zIHtsdW5yLlRva2VufVxuICovXG5sdW5yLlRva2VuLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZm4pIHtcbiAgdGhpcy5zdHIgPSBmbih0aGlzLnN0ciwgdGhpcy5tZXRhZGF0YSk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyB0b2tlbi4gT3B0aW9uYWxseSBhIGZ1bmN0aW9uIGNhbiBiZVxuICogYXBwbGllZCB0byB0aGUgY2xvbmVkIHRva2VuLlxuICpcbiAqIEBwYXJhbSB7bHVuci5Ub2tlbn51cGRhdGVGdW5jdGlvbn0gW2ZuXSAtIEFuIG9wdGlvbmFsIGZ1bmN0aW9uIHRvIGFwcGx5IHRvIHRoZSBjbG9uZWQgdG9rZW4uXG4gKiBAcmV0dXJucyB7bHVuci5Ub2tlbn1cbiAqL1xubHVuci5Ub2tlbi5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoZm4pIHtcbiAgZm4gPSBmbiB8fCBmdW5jdGlvbiAocykgeyByZXR1cm4gczsgfTtcbiAgcmV0dXJuIG5ldyBsdW5yLlRva2VuIChmbih0aGlzLnN0ciwgdGhpcy5tZXRhZGF0YSksIHRoaXMubWV0YWRhdGEpO1xufTtcbi8qIVxuICogbHVuci50b2tlbml6ZXJcbiAqIENvcHlyaWdodCAoQykgMjAxNyBPbGl2ZXIgTmlnaHRpbmdhbGVcbiAqL1xuXG4vKipcbiAqIEEgZnVuY3Rpb24gZm9yIHNwbGl0dGluZyBhIHN0cmluZyBpbnRvIHRva2VucyByZWFkeSB0byBiZSBpbnNlcnRlZCBpbnRvXG4gKiB0aGUgc2VhcmNoIGluZGV4LiBVc2VzIGBsdW5yLnRva2VuaXplci5zZXBhcmF0b3JgIHRvIHNwbGl0IHN0cmluZ3MsIGNoYW5nZVxuICogdGhlIHZhbHVlIG9mIHRoaXMgcHJvcGVydHkgdG8gY2hhbmdlIGhvdyBzdHJpbmdzIGFyZSBzcGxpdCBpbnRvIHRva2Vucy5cbiAqXG4gKiBUaGlzIHRva2VuaXplciB3aWxsIGNvbnZlcnQgaXRzIHBhcmFtZXRlciB0byBhIHN0cmluZyBieSBjYWxsaW5nIGB0b1N0cmluZ2AgYW5kXG4gKiB0aGVuIHdpbGwgc3BsaXQgdGhpcyBzdHJpbmcgb24gdGhlIGNoYXJhY3RlciBpbiBgbHVuci50b2tlbml6ZXIuc2VwYXJhdG9yYC5cbiAqIEFycmF5cyB3aWxsIGhhdmUgdGhlaXIgZWxlbWVudHMgY29udmVydGVkIHRvIHN0cmluZ3MgYW5kIHdyYXBwZWQgaW4gYSBsdW5yLlRva2VuLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSB7PyhzdHJpbmd8b2JqZWN0fG9iamVjdFtdKX0gb2JqIC0gVGhlIG9iamVjdCB0byBjb252ZXJ0IGludG8gdG9rZW5zXG4gKiBAcmV0dXJucyB7bHVuci5Ub2tlbltdfVxuICovXG5sdW5yLnRva2VuaXplciA9IGZ1bmN0aW9uIChvYmopIHtcbiAgaWYgKG9iaiA9PT0gbnVsbCB8fCBvYmogPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICByZXR1cm4gb2JqLm1hcChmdW5jdGlvbiAodCkge1xuICAgICAgcmV0dXJuIG5ldyBsdW5yLlRva2VuKGx1bnIudXRpbHMuYXNTdHJpbmcodCkudG9Mb3dlckNhc2UoKSk7XG4gICAgfSk7XG4gIH1cblxuICB2YXIgc3RyID0gb2JqLnRvU3RyaW5nKCkudHJpbSgpLnRvTG93ZXJDYXNlKCksXG4gICAgICBsZW4gPSBzdHIubGVuZ3RoLFxuICAgICAgdG9rZW5zID0gW107XG5cbiAgZm9yICh2YXIgc2xpY2VFbmQgPSAwLCBzbGljZVN0YXJ0ID0gMDsgc2xpY2VFbmQgPD0gbGVuOyBzbGljZUVuZCsrKSB7XG4gICAgdmFyIGNoYXIgPSBzdHIuY2hhckF0KHNsaWNlRW5kKSxcbiAgICAgICAgc2xpY2VMZW5ndGggPSBzbGljZUVuZCAtIHNsaWNlU3RhcnQ7XG5cbiAgICBpZiAoKGNoYXIubWF0Y2gobHVuci50b2tlbml6ZXIuc2VwYXJhdG9yKSB8fCBzbGljZUVuZCA9PSBsZW4pKSB7XG5cbiAgICAgIGlmIChzbGljZUxlbmd0aCA+IDApIHtcbiAgICAgICAgdG9rZW5zLnB1c2goXG4gICAgICAgICAgbmV3IGx1bnIuVG9rZW4gKHN0ci5zbGljZShzbGljZVN0YXJ0LCBzbGljZUVuZCksIHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBbc2xpY2VTdGFydCwgc2xpY2VMZW5ndGhdLFxuICAgICAgICAgICAgaW5kZXg6IHRva2Vucy5sZW5ndGhcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBzbGljZVN0YXJ0ID0gc2xpY2VFbmQgKyAxO1xuICAgIH1cblxuICB9XG5cbiAgcmV0dXJuIHRva2Vucztcbn07XG5cbi8qKlxuICogVGhlIHNlcGFyYXRvciB1c2VkIHRvIHNwbGl0IGEgc3RyaW5nIGludG8gdG9rZW5zLiBPdmVycmlkZSB0aGlzIHByb3BlcnR5IHRvIGNoYW5nZSB0aGUgYmVoYXZpb3VyIG9mXG4gKiBgbHVuci50b2tlbml6ZXJgIGJlaGF2aW91ciB3aGVuIHRva2VuaXppbmcgc3RyaW5ncy4gQnkgZGVmYXVsdCB0aGlzIHNwbGl0cyBvbiB3aGl0ZXNwYWNlIGFuZCBoeXBoZW5zLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBzZWUgbHVuci50b2tlbml6ZXJcbiAqL1xubHVuci50b2tlbml6ZXIuc2VwYXJhdG9yID0gL1tcXHNcXC1dKy87XG4vKiFcbiAqIGx1bnIuUGlwZWxpbmVcbiAqIENvcHlyaWdodCAoQykgMjAxNyBPbGl2ZXIgTmlnaHRpbmdhbGVcbiAqL1xuXG4vKipcbiAqIGx1bnIuUGlwZWxpbmVzIG1haW50YWluIGFuIG9yZGVyZWQgbGlzdCBvZiBmdW5jdGlvbnMgdG8gYmUgYXBwbGllZCB0byBhbGxcbiAqIHRva2VucyBpbiBkb2N1bWVudHMgZW50ZXJpbmcgdGhlIHNlYXJjaCBpbmRleCBhbmQgcXVlcmllcyBiZWluZyByYW4gYWdhaW5zdFxuICogdGhlIGluZGV4LlxuICpcbiAqIEFuIGluc3RhbmNlIG9mIGx1bnIuSW5kZXggY3JlYXRlZCB3aXRoIHRoZSBsdW5yIHNob3J0Y3V0IHdpbGwgY29udGFpbiBhXG4gKiBwaXBlbGluZSB3aXRoIGEgc3RvcCB3b3JkIGZpbHRlciBhbmQgYW4gRW5nbGlzaCBsYW5ndWFnZSBzdGVtbWVyLiBFeHRyYVxuICogZnVuY3Rpb25zIGNhbiBiZSBhZGRlZCBiZWZvcmUgb3IgYWZ0ZXIgZWl0aGVyIG9mIHRoZXNlIGZ1bmN0aW9ucyBvciB0aGVzZVxuICogZGVmYXVsdCBmdW5jdGlvbnMgY2FuIGJlIHJlbW92ZWQuXG4gKlxuICogV2hlbiBydW4gdGhlIHBpcGVsaW5lIHdpbGwgY2FsbCBlYWNoIGZ1bmN0aW9uIGluIHR1cm4sIHBhc3NpbmcgYSB0b2tlbiwgdGhlXG4gKiBpbmRleCBvZiB0aGF0IHRva2VuIGluIHRoZSBvcmlnaW5hbCBsaXN0IG9mIGFsbCB0b2tlbnMgYW5kIGZpbmFsbHkgYSBsaXN0IG9mXG4gKiBhbGwgdGhlIG9yaWdpbmFsIHRva2Vucy5cbiAqXG4gKiBUaGUgb3V0cHV0IG9mIGZ1bmN0aW9ucyBpbiB0aGUgcGlwZWxpbmUgd2lsbCBiZSBwYXNzZWQgdG8gdGhlIG5leHQgZnVuY3Rpb25cbiAqIGluIHRoZSBwaXBlbGluZS4gVG8gZXhjbHVkZSBhIHRva2VuIGZyb20gZW50ZXJpbmcgdGhlIGluZGV4IHRoZSBmdW5jdGlvblxuICogc2hvdWxkIHJldHVybiB1bmRlZmluZWQsIHRoZSByZXN0IG9mIHRoZSBwaXBlbGluZSB3aWxsIG5vdCBiZSBjYWxsZWQgd2l0aFxuICogdGhpcyB0b2tlbi5cbiAqXG4gKiBGb3Igc2VyaWFsaXNhdGlvbiBvZiBwaXBlbGluZXMgdG8gd29yaywgYWxsIGZ1bmN0aW9ucyB1c2VkIGluIGFuIGluc3RhbmNlIG9mXG4gKiBhIHBpcGVsaW5lIHNob3VsZCBiZSByZWdpc3RlcmVkIHdpdGggbHVuci5QaXBlbGluZS4gUmVnaXN0ZXJlZCBmdW5jdGlvbnMgY2FuXG4gKiB0aGVuIGJlIGxvYWRlZC4gSWYgdHJ5aW5nIHRvIGxvYWQgYSBzZXJpYWxpc2VkIHBpcGVsaW5lIHRoYXQgdXNlcyBmdW5jdGlvbnNcbiAqIHRoYXQgYXJlIG5vdCByZWdpc3RlcmVkIGFuIGVycm9yIHdpbGwgYmUgdGhyb3duLlxuICpcbiAqIElmIG5vdCBwbGFubmluZyBvbiBzZXJpYWxpc2luZyB0aGUgcGlwZWxpbmUgdGhlbiByZWdpc3RlcmluZyBwaXBlbGluZSBmdW5jdGlvbnNcbiAqIGlzIG5vdCBuZWNlc3NhcnkuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmx1bnIuUGlwZWxpbmUgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuX3N0YWNrID0gW107XG59O1xuXG5sdW5yLlBpcGVsaW5lLnJlZ2lzdGVyZWRGdW5jdGlvbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4vKipcbiAqIEEgcGlwZWxpbmUgZnVuY3Rpb24gbWFwcyBsdW5yLlRva2VuIHRvIGx1bnIuVG9rZW4uIEEgbHVuci5Ub2tlbiBjb250YWlucyB0aGUgdG9rZW5cbiAqIHN0cmluZyBhcyB3ZWxsIGFzIGFsbCBrbm93biBtZXRhZGF0YS4gQSBwaXBlbGluZSBmdW5jdGlvbiBjYW4gbXV0YXRlIHRoZSB0b2tlbiBzdHJpbmdcbiAqIG9yIG11dGF0ZSAob3IgYWRkKSBtZXRhZGF0YSBmb3IgYSBnaXZlbiB0b2tlbi5cbiAqXG4gKiBBIHBpcGVsaW5lIGZ1bmN0aW9uIGNhbiBpbmRpY2F0ZSB0aGF0IHRoZSBwYXNzZWQgdG9rZW4gc2hvdWxkIGJlIGRpc2NhcmRlZCBieSByZXR1cm5pbmdcbiAqIG51bGwuIFRoaXMgdG9rZW4gd2lsbCBub3QgYmUgcGFzc2VkIHRvIGFueSBkb3duc3RyZWFtIHBpcGVsaW5lIGZ1bmN0aW9ucyBhbmQgd2lsbCBub3QgYmVcbiAqIGFkZGVkIHRvIHRoZSBpbmRleC5cbiAqXG4gKiBNdWx0aXBsZSB0b2tlbnMgY2FuIGJlIHJldHVybmVkIGJ5IHJldHVybmluZyBhbiBhcnJheSBvZiB0b2tlbnMuIEVhY2ggdG9rZW4gd2lsbCBiZSBwYXNzZWRcbiAqIHRvIGFueSBkb3duc3RyZWFtIHBpcGVsaW5lIGZ1bmN0aW9ucyBhbmQgYWxsIHdpbGwgcmV0dXJuZWQgdG9rZW5zIHdpbGwgYmUgYWRkZWQgdG8gdGhlIGluZGV4LlxuICpcbiAqIEFueSBudW1iZXIgb2YgcGlwZWxpbmUgZnVuY3Rpb25zIG1heSBiZSBjaGFpbmVkIHRvZ2V0aGVyIHVzaW5nIGEgbHVuci5QaXBlbGluZS5cbiAqXG4gKiBAaW50ZXJmYWNlIGx1bnIuUGlwZWxpbmVGdW5jdGlvblxuICogQHBhcmFtIHtsdW5yLlRva2VufSB0b2tlbiAtIEEgdG9rZW4gZnJvbSB0aGUgZG9jdW1lbnQgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGkgLSBUaGUgaW5kZXggb2YgdGhpcyB0b2tlbiBpbiB0aGUgY29tcGxldGUgbGlzdCBvZiB0b2tlbnMgZm9yIHRoaXMgZG9jdW1lbnQvZmllbGQuXG4gKiBAcGFyYW0ge2x1bnIuVG9rZW5bXX0gdG9rZW5zIC0gQWxsIHRva2VucyBmb3IgdGhpcyBkb2N1bWVudC9maWVsZC5cbiAqIEByZXR1cm5zIHsoP2x1bnIuVG9rZW58bHVuci5Ub2tlbltdKX1cbiAqL1xuXG4vKipcbiAqIFJlZ2lzdGVyIGEgZnVuY3Rpb24gd2l0aCB0aGUgcGlwZWxpbmUuXG4gKlxuICogRnVuY3Rpb25zIHRoYXQgYXJlIHVzZWQgaW4gdGhlIHBpcGVsaW5lIHNob3VsZCBiZSByZWdpc3RlcmVkIGlmIHRoZSBwaXBlbGluZVxuICogbmVlZHMgdG8gYmUgc2VyaWFsaXNlZCwgb3IgYSBzZXJpYWxpc2VkIHBpcGVsaW5lIG5lZWRzIHRvIGJlIGxvYWRlZC5cbiAqXG4gKiBSZWdpc3RlcmluZyBhIGZ1bmN0aW9uIGRvZXMgbm90IGFkZCBpdCB0byBhIHBpcGVsaW5lLCBmdW5jdGlvbnMgbXVzdCBzdGlsbCBiZVxuICogYWRkZWQgdG8gaW5zdGFuY2VzIG9mIHRoZSBwaXBlbGluZSBmb3IgdGhlbSB0byBiZSB1c2VkIHdoZW4gcnVubmluZyBhIHBpcGVsaW5lLlxuICpcbiAqIEBwYXJhbSB7bHVuci5QaXBlbGluZUZ1bmN0aW9ufSBmbiAtIFRoZSBmdW5jdGlvbiB0byBjaGVjayBmb3IuXG4gKiBAcGFyYW0ge1N0cmluZ30gbGFiZWwgLSBUaGUgbGFiZWwgdG8gcmVnaXN0ZXIgdGhpcyBmdW5jdGlvbiB3aXRoXG4gKi9cbmx1bnIuUGlwZWxpbmUucmVnaXN0ZXJGdW5jdGlvbiA9IGZ1bmN0aW9uIChmbiwgbGFiZWwpIHtcbiAgaWYgKGxhYmVsIGluIHRoaXMucmVnaXN0ZXJlZEZ1bmN0aW9ucykge1xuICAgIGx1bnIudXRpbHMud2FybignT3ZlcndyaXRpbmcgZXhpc3RpbmcgcmVnaXN0ZXJlZCBmdW5jdGlvbjogJyArIGxhYmVsKTtcbiAgfVxuXG4gIGZuLmxhYmVsID0gbGFiZWw7XG4gIGx1bnIuUGlwZWxpbmUucmVnaXN0ZXJlZEZ1bmN0aW9uc1tmbi5sYWJlbF0gPSBmbjtcbn07XG5cbi8qKlxuICogV2FybnMgaWYgdGhlIGZ1bmN0aW9uIGlzIG5vdCByZWdpc3RlcmVkIGFzIGEgUGlwZWxpbmUgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtsdW5yLlBpcGVsaW5lRnVuY3Rpb259IGZuIC0gVGhlIGZ1bmN0aW9uIHRvIGNoZWNrIGZvci5cbiAqIEBwcml2YXRlXG4gKi9cbmx1bnIuUGlwZWxpbmUud2FybklmRnVuY3Rpb25Ob3RSZWdpc3RlcmVkID0gZnVuY3Rpb24gKGZuKSB7XG4gIHZhciBpc1JlZ2lzdGVyZWQgPSBmbi5sYWJlbCAmJiAoZm4ubGFiZWwgaW4gdGhpcy5yZWdpc3RlcmVkRnVuY3Rpb25zKTtcblxuICBpZiAoIWlzUmVnaXN0ZXJlZCkge1xuICAgIGx1bnIudXRpbHMud2FybignRnVuY3Rpb24gaXMgbm90IHJlZ2lzdGVyZWQgd2l0aCBwaXBlbGluZS4gVGhpcyBtYXkgY2F1c2UgcHJvYmxlbXMgd2hlbiBzZXJpYWxpc2luZyB0aGUgaW5kZXguXFxuJywgZm4pO1xuICB9XG59O1xuXG4vKipcbiAqIExvYWRzIGEgcHJldmlvdXNseSBzZXJpYWxpc2VkIHBpcGVsaW5lLlxuICpcbiAqIEFsbCBmdW5jdGlvbnMgdG8gYmUgbG9hZGVkIG11c3QgYWxyZWFkeSBiZSByZWdpc3RlcmVkIHdpdGggbHVuci5QaXBlbGluZS5cbiAqIElmIGFueSBmdW5jdGlvbiBmcm9tIHRoZSBzZXJpYWxpc2VkIGRhdGEgaGFzIG5vdCBiZWVuIHJlZ2lzdGVyZWQgdGhlbiBhblxuICogZXJyb3Igd2lsbCBiZSB0aHJvd24uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHNlcmlhbGlzZWQgLSBUaGUgc2VyaWFsaXNlZCBwaXBlbGluZSB0byBsb2FkLlxuICogQHJldHVybnMge2x1bnIuUGlwZWxpbmV9XG4gKi9cbmx1bnIuUGlwZWxpbmUubG9hZCA9IGZ1bmN0aW9uIChzZXJpYWxpc2VkKSB7XG4gIHZhciBwaXBlbGluZSA9IG5ldyBsdW5yLlBpcGVsaW5lKCk7XG5cbiAgc2VyaWFsaXNlZC5mb3JFYWNoKGZ1bmN0aW9uIChmbk5hbWUpIHtcbiAgICB2YXIgZm4gPSBsdW5yLlBpcGVsaW5lLnJlZ2lzdGVyZWRGdW5jdGlvbnNbZm5OYW1lXTtcblxuICAgIGlmIChmbikge1xuICAgICAgcGlwZWxpbmUuYWRkKGZuKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgbG9hZCB1bnJlZ2lzdGVyZWQgZnVuY3Rpb246ICcgKyBmbk5hbWUpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHBpcGVsaW5lO1xufTtcblxuLyoqXG4gKiBBZGRzIG5ldyBmdW5jdGlvbnMgdG8gdGhlIGVuZCBvZiB0aGUgcGlwZWxpbmUuXG4gKlxuICogTG9ncyBhIHdhcm5pbmcgaWYgdGhlIGZ1bmN0aW9uIGhhcyBub3QgYmVlbiByZWdpc3RlcmVkLlxuICpcbiAqIEBwYXJhbSB7bHVuci5QaXBlbGluZUZ1bmN0aW9uW119IGZ1bmN0aW9ucyAtIEFueSBudW1iZXIgb2YgZnVuY3Rpb25zIHRvIGFkZCB0byB0aGUgcGlwZWxpbmUuXG4gKi9cbmx1bnIuUGlwZWxpbmUucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGZucyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG5cbiAgZm5zLmZvckVhY2goZnVuY3Rpb24gKGZuKSB7XG4gICAgbHVuci5QaXBlbGluZS53YXJuSWZGdW5jdGlvbk5vdFJlZ2lzdGVyZWQoZm4pO1xuICAgIHRoaXMuX3N0YWNrLnB1c2goZm4pO1xuICB9LCB0aGlzKTtcbn07XG5cbi8qKlxuICogQWRkcyBhIHNpbmdsZSBmdW5jdGlvbiBhZnRlciBhIGZ1bmN0aW9uIHRoYXQgYWxyZWFkeSBleGlzdHMgaW4gdGhlXG4gKiBwaXBlbGluZS5cbiAqXG4gKiBMb2dzIGEgd2FybmluZyBpZiB0aGUgZnVuY3Rpb24gaGFzIG5vdCBiZWVuIHJlZ2lzdGVyZWQuXG4gKlxuICogQHBhcmFtIHtsdW5yLlBpcGVsaW5lRnVuY3Rpb259IGV4aXN0aW5nRm4gLSBBIGZ1bmN0aW9uIHRoYXQgYWxyZWFkeSBleGlzdHMgaW4gdGhlIHBpcGVsaW5lLlxuICogQHBhcmFtIHtsdW5yLlBpcGVsaW5lRnVuY3Rpb259IG5ld0ZuIC0gVGhlIG5ldyBmdW5jdGlvbiB0byBhZGQgdG8gdGhlIHBpcGVsaW5lLlxuICovXG5sdW5yLlBpcGVsaW5lLnByb3RvdHlwZS5hZnRlciA9IGZ1bmN0aW9uIChleGlzdGluZ0ZuLCBuZXdGbikge1xuICBsdW5yLlBpcGVsaW5lLndhcm5JZkZ1bmN0aW9uTm90UmVnaXN0ZXJlZChuZXdGbik7XG5cbiAgdmFyIHBvcyA9IHRoaXMuX3N0YWNrLmluZGV4T2YoZXhpc3RpbmdGbik7XG4gIGlmIChwb3MgPT0gLTEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBmaW5kIGV4aXN0aW5nRm4nKTtcbiAgfVxuXG4gIHBvcyA9IHBvcyArIDE7XG4gIHRoaXMuX3N0YWNrLnNwbGljZShwb3MsIDAsIG5ld0ZuKTtcbn07XG5cbi8qKlxuICogQWRkcyBhIHNpbmdsZSBmdW5jdGlvbiBiZWZvcmUgYSBmdW5jdGlvbiB0aGF0IGFscmVhZHkgZXhpc3RzIGluIHRoZVxuICogcGlwZWxpbmUuXG4gKlxuICogTG9ncyBhIHdhcm5pbmcgaWYgdGhlIGZ1bmN0aW9uIGhhcyBub3QgYmVlbiByZWdpc3RlcmVkLlxuICpcbiAqIEBwYXJhbSB7bHVuci5QaXBlbGluZUZ1bmN0aW9ufSBleGlzdGluZ0ZuIC0gQSBmdW5jdGlvbiB0aGF0IGFscmVhZHkgZXhpc3RzIGluIHRoZSBwaXBlbGluZS5cbiAqIEBwYXJhbSB7bHVuci5QaXBlbGluZUZ1bmN0aW9ufSBuZXdGbiAtIFRoZSBuZXcgZnVuY3Rpb24gdG8gYWRkIHRvIHRoZSBwaXBlbGluZS5cbiAqL1xubHVuci5QaXBlbGluZS5wcm90b3R5cGUuYmVmb3JlID0gZnVuY3Rpb24gKGV4aXN0aW5nRm4sIG5ld0ZuKSB7XG4gIGx1bnIuUGlwZWxpbmUud2FybklmRnVuY3Rpb25Ob3RSZWdpc3RlcmVkKG5ld0ZuKTtcblxuICB2YXIgcG9zID0gdGhpcy5fc3RhY2suaW5kZXhPZihleGlzdGluZ0ZuKTtcbiAgaWYgKHBvcyA9PSAtMSkge1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGZpbmQgZXhpc3RpbmdGbicpO1xuICB9XG5cbiAgdGhpcy5fc3RhY2suc3BsaWNlKHBvcywgMCwgbmV3Rm4pO1xufTtcblxuLyoqXG4gKiBSZW1vdmVzIGEgZnVuY3Rpb24gZnJvbSB0aGUgcGlwZWxpbmUuXG4gKlxuICogQHBhcmFtIHtsdW5yLlBpcGVsaW5lRnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byByZW1vdmUgZnJvbSB0aGUgcGlwZWxpbmUuXG4gKi9cbmx1bnIuUGlwZWxpbmUucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChmbikge1xuICB2YXIgcG9zID0gdGhpcy5fc3RhY2suaW5kZXhPZihmbik7XG4gIGlmIChwb3MgPT0gLTEpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB0aGlzLl9zdGFjay5zcGxpY2UocG9zLCAxKTtcbn07XG5cbi8qKlxuICogUnVucyB0aGUgY3VycmVudCBsaXN0IG9mIGZ1bmN0aW9ucyB0aGF0IG1ha2UgdXAgdGhlIHBpcGVsaW5lIGFnYWluc3QgdGhlXG4gKiBwYXNzZWQgdG9rZW5zLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IHRva2VucyBUaGUgdG9rZW5zIHRvIHJ1biB0aHJvdWdoIHRoZSBwaXBlbGluZS5cbiAqIEByZXR1cm5zIHtBcnJheX1cbiAqL1xubHVuci5QaXBlbGluZS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKHRva2Vucykge1xuICB2YXIgc3RhY2tMZW5ndGggPSB0aGlzLl9zdGFjay5sZW5ndGg7XG5cbiAgdmFyIHIgPSBmdW5jdGlvbiAobWVtbywgdG9rZW4sIGopIHtcbiAgICB2YXIgcmVzdWx0ID0gZm4odG9rZW4sIGosIHRva2Vucyk7XG4gICAgaWYgKHJlc3VsdCA9PT0gdm9pZCAwIHx8IHJlc3VsdCA9PT0gJycpIHJldHVybiBtZW1vO1xuICAgIHJldHVybiBtZW1vLmNvbmNhdChyZXN1bHQpO1xuICB9O1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2tMZW5ndGg7IGkrKykge1xuICAgIHZhciBmbiA9IHRoaXMuX3N0YWNrW2ldO1xuICAgIHRva2VucyA9IHRva2Vucy5yZWR1Y2UociwgW10pO1xuICB9XG5cbiAgcmV0dXJuIHRva2Vucztcbn07XG5cbi8qKlxuICogQ29udmVuaWVuY2UgbWV0aG9kIGZvciBwYXNzaW5nIGEgc3RyaW5nIHRocm91Z2ggYSBwaXBlbGluZSBhbmQgZ2V0dGluZ1xuICogc3RyaW5ncyBvdXQuIFRoaXMgbWV0aG9kIHRha2VzIGNhcmUgb2Ygd3JhcHBpbmcgdGhlIHBhc3NlZCBzdHJpbmcgaW4gYVxuICogdG9rZW4gYW5kIG1hcHBpbmcgdGhlIHJlc3VsdGluZyB0b2tlbnMgYmFjayB0byBzdHJpbmdzLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgLSBUaGUgc3RyaW5nIHRvIHBhc3MgdGhyb3VnaCB0aGUgcGlwZWxpbmUuXG4gKiBAcmV0dXJucyB7c3RyaW5nW119XG4gKi9cbmx1bnIuUGlwZWxpbmUucHJvdG90eXBlLnJ1blN0cmluZyA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgdmFyIHRva2VuID0gbmV3IGx1bnIuVG9rZW4gKHN0cik7XG5cbiAgcmV0dXJuIHRoaXMucnVuKFt0b2tlbl0pLm1hcChmdW5jdGlvbiAodCkge1xuICAgIHJldHVybiB0LnRvU3RyaW5nKCk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBSZXNldHMgdGhlIHBpcGVsaW5lIGJ5IHJlbW92aW5nIGFueSBleGlzdGluZyBwcm9jZXNzb3JzLlxuICpcbiAqL1xubHVuci5QaXBlbGluZS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuX3N0YWNrID0gW107XG59O1xuXG4vKipcbiAqIFJldHVybnMgYSByZXByZXNlbnRhdGlvbiBvZiB0aGUgcGlwZWxpbmUgcmVhZHkgZm9yIHNlcmlhbGlzYXRpb24uXG4gKlxuICogTG9ncyBhIHdhcm5pbmcgaWYgdGhlIGZ1bmN0aW9uIGhhcyBub3QgYmVlbiByZWdpc3RlcmVkLlxuICpcbiAqIEByZXR1cm5zIHtBcnJheX1cbiAqL1xubHVuci5QaXBlbGluZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5fc3RhY2subWFwKGZ1bmN0aW9uIChmbikge1xuICAgIGx1bnIuUGlwZWxpbmUud2FybklmRnVuY3Rpb25Ob3RSZWdpc3RlcmVkKGZuKTtcbiAgICByZXR1cm4gZm4ubGFiZWw7XG4gIH0pO1xufTtcbi8qIVxuICogbHVuci5WZWN0b3JcbiAqIENvcHlyaWdodCAoQykgMjAxNyBPbGl2ZXIgTmlnaHRpbmdhbGVcbiAqL1xuXG4vKipcbiAqIEEgdmVjdG9yIGlzIHVzZWQgdG8gY29uc3RydWN0IHRoZSB2ZWN0b3Igc3BhY2Ugb2YgZG9jdW1lbnRzIGFuZCBxdWVyaWVzLiBUaGVzZVxuICogdmVjdG9ycyBzdXBwb3J0IG9wZXJhdGlvbnMgdG8gZGV0ZXJtaW5lIHRoZSBzaW1pbGFyaXR5IGJldHdlZW4gdHdvIGRvY3VtZW50cyBvclxuICogYSBkb2N1bWVudCBhbmQgYSBxdWVyeS5cbiAqXG4gKiBOb3JtYWxseSBubyBwYXJhbWV0ZXJzIGFyZSByZXF1aXJlZCBmb3IgaW5pdGlhbGl6aW5nIGEgdmVjdG9yLCBidXQgaW4gdGhlIGNhc2Ugb2ZcbiAqIGxvYWRpbmcgYSBwcmV2aW91c2x5IGR1bXBlZCB2ZWN0b3IgdGhlIHJhdyBlbGVtZW50cyBjYW4gYmUgcHJvdmlkZWQgdG8gdGhlIGNvbnN0cnVjdG9yLlxuICpcbiAqIEZvciBwZXJmb3JtYW5jZSByZWFzb25zIHZlY3RvcnMgYXJlIGltcGxlbWVudGVkIHdpdGggYSBmbGF0IGFycmF5LCB3aGVyZSBhbiBlbGVtZW50c1xuICogaW5kZXggaXMgaW1tZWRpYXRlbHkgZm9sbG93ZWQgYnkgaXRzIHZhbHVlLiBFLmcuIFtpbmRleCwgdmFsdWUsIGluZGV4LCB2YWx1ZV0uIFRoaXNcbiAqIGFsbG93cyB0aGUgdW5kZXJseWluZyBhcnJheSB0byBiZSBhcyBzcGFyc2UgYXMgcG9zc2libGUgYW5kIHN0aWxsIG9mZmVyIGRlY2VudFxuICogcGVyZm9ybWFuY2Ugd2hlbiBiZWluZyB1c2VkIGZvciB2ZWN0b3IgY2FsY3VsYXRpb25zLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtOdW1iZXJbXX0gW2VsZW1lbnRzXSAtIFRoZSBmbGF0IGxpc3Qgb2YgZWxlbWVudCBpbmRleCBhbmQgZWxlbWVudCB2YWx1ZSBwYWlycy5cbiAqL1xubHVuci5WZWN0b3IgPSBmdW5jdGlvbiAoZWxlbWVudHMpIHtcbiAgdGhpcy5fbWFnbml0dWRlID0gMDtcbiAgdGhpcy5lbGVtZW50cyA9IGVsZW1lbnRzIHx8IFtdO1xufTtcblxuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHBvc2l0aW9uIHdpdGhpbiB0aGUgdmVjdG9yIHRvIGluc2VydCBhIGdpdmVuIGluZGV4LlxuICpcbiAqIFRoaXMgaXMgdXNlZCBpbnRlcm5hbGx5IGJ5IGluc2VydCBhbmQgdXBzZXJ0LiBJZiB0aGVyZSBhcmUgZHVwbGljYXRlIGluZGV4ZXMgdGhlblxuICogdGhlIHBvc2l0aW9uIGlzIHJldHVybmVkIGFzIGlmIHRoZSB2YWx1ZSBmb3IgdGhhdCBpbmRleCB3ZXJlIHRvIGJlIHVwZGF0ZWQsIGJ1dCBpdFxuICogaXMgdGhlIGNhbGxlcnMgcmVzcG9uc2liaWxpdHkgdG8gY2hlY2sgd2hldGhlciB0aGVyZSBpcyBhIGR1cGxpY2F0ZSBhdCB0aGF0IGluZGV4XG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IGluc2VydElkeCAtIFRoZSBpbmRleCBhdCB3aGljaCB0aGUgZWxlbWVudCBzaG91bGQgYmUgaW5zZXJ0ZWQuXG4gKiBAcmV0dXJucyB7TnVtYmVyfVxuICovXG5sdW5yLlZlY3Rvci5wcm90b3R5cGUucG9zaXRpb25Gb3JJbmRleCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAvLyBGb3IgYW4gZW1wdHkgdmVjdG9yIHRoZSB0dXBsZSBjYW4gYmUgaW5zZXJ0ZWQgYXQgdGhlIGJlZ2lubmluZ1xuICBpZiAodGhpcy5lbGVtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIHZhciBzdGFydCA9IDAsXG4gICAgICBlbmQgPSB0aGlzLmVsZW1lbnRzLmxlbmd0aCAvIDIsXG4gICAgICBzbGljZUxlbmd0aCA9IGVuZCAtIHN0YXJ0LFxuICAgICAgcGl2b3RQb2ludCA9IE1hdGguZmxvb3Ioc2xpY2VMZW5ndGggLyAyKSxcbiAgICAgIHBpdm90SW5kZXggPSB0aGlzLmVsZW1lbnRzW3Bpdm90UG9pbnQgKiAyXTtcblxuICB3aGlsZSAoc2xpY2VMZW5ndGggPiAxKSB7XG4gICAgaWYgKHBpdm90SW5kZXggPCBpbmRleCkge1xuICAgICAgc3RhcnQgPSBwaXZvdFBvaW50O1xuICAgIH1cblxuICAgIGlmIChwaXZvdEluZGV4ID4gaW5kZXgpIHtcbiAgICAgIGVuZCA9IHBpdm90UG9pbnQ7XG4gICAgfVxuXG4gICAgaWYgKHBpdm90SW5kZXggPT0gaW5kZXgpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHNsaWNlTGVuZ3RoID0gZW5kIC0gc3RhcnQ7XG4gICAgcGl2b3RQb2ludCA9IHN0YXJ0ICsgTWF0aC5mbG9vcihzbGljZUxlbmd0aCAvIDIpO1xuICAgIHBpdm90SW5kZXggPSB0aGlzLmVsZW1lbnRzW3Bpdm90UG9pbnQgKiAyXTtcbiAgfVxuXG4gIGlmIChwaXZvdEluZGV4ID09IGluZGV4KSB7XG4gICAgcmV0dXJuIHBpdm90UG9pbnQgKiAyO1xuICB9XG5cbiAgaWYgKHBpdm90SW5kZXggPiBpbmRleCkge1xuICAgIHJldHVybiBwaXZvdFBvaW50ICogMjtcbiAgfVxuXG4gIGlmIChwaXZvdEluZGV4IDwgaW5kZXgpIHtcbiAgICByZXR1cm4gKHBpdm90UG9pbnQgKyAxKSAqIDI7XG4gIH1cbn07XG5cbi8qKlxuICogSW5zZXJ0cyBhbiBlbGVtZW50IGF0IGFuIGluZGV4IHdpdGhpbiB0aGUgdmVjdG9yLlxuICpcbiAqIERvZXMgbm90IGFsbG93IGR1cGxpY2F0ZXMsIHdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgdGhlcmUgaXMgYWxyZWFkeSBhbiBlbnRyeVxuICogZm9yIHRoaXMgaW5kZXguXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IGluc2VydElkeCAtIFRoZSBpbmRleCBhdCB3aGljaCB0aGUgZWxlbWVudCBzaG91bGQgYmUgaW5zZXJ0ZWQuXG4gKiBAcGFyYW0ge051bWJlcn0gdmFsIC0gVGhlIHZhbHVlIHRvIGJlIGluc2VydGVkIGludG8gdGhlIHZlY3Rvci5cbiAqL1xubHVuci5WZWN0b3IucHJvdG90eXBlLmluc2VydCA9IGZ1bmN0aW9uIChpbnNlcnRJZHgsIHZhbCkge1xuICB0aGlzLnVwc2VydChpbnNlcnRJZHgsIHZhbCwgZnVuY3Rpb24gKCkge1xuICAgIHRocm93IFwiZHVwbGljYXRlIGluZGV4XCI7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBJbnNlcnRzIG9yIHVwZGF0ZXMgYW4gZXhpc3RpbmcgaW5kZXggd2l0aGluIHRoZSB2ZWN0b3IuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IGluc2VydElkeCAtIFRoZSBpbmRleCBhdCB3aGljaCB0aGUgZWxlbWVudCBzaG91bGQgYmUgaW5zZXJ0ZWQuXG4gKiBAcGFyYW0ge051bWJlcn0gdmFsIC0gVGhlIHZhbHVlIHRvIGJlIGluc2VydGVkIGludG8gdGhlIHZlY3Rvci5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gQSBmdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCBmb3IgdXBkYXRlcywgdGhlIGV4aXN0aW5nIHZhbHVlIGFuZCB0aGVcbiAqIHJlcXVlc3RlZCB2YWx1ZSBhcmUgcGFzc2VkIGFzIGFyZ3VtZW50c1xuICovXG5sdW5yLlZlY3Rvci5wcm90b3R5cGUudXBzZXJ0ID0gZnVuY3Rpb24gKGluc2VydElkeCwgdmFsLCBmbikge1xuICB0aGlzLl9tYWduaXR1ZGUgPSAwO1xuICB2YXIgcG9zaXRpb24gPSB0aGlzLnBvc2l0aW9uRm9ySW5kZXgoaW5zZXJ0SWR4KTtcblxuICBpZiAodGhpcy5lbGVtZW50c1twb3NpdGlvbl0gPT0gaW5zZXJ0SWR4KSB7XG4gICAgdGhpcy5lbGVtZW50c1twb3NpdGlvbiArIDFdID0gZm4odGhpcy5lbGVtZW50c1twb3NpdGlvbiArIDFdLCB2YWwpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuZWxlbWVudHMuc3BsaWNlKHBvc2l0aW9uLCAwLCBpbnNlcnRJZHgsIHZhbCk7XG4gIH1cbn07XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgbWFnbml0dWRlIG9mIHRoaXMgdmVjdG9yLlxuICpcbiAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gKi9cbmx1bnIuVmVjdG9yLnByb3RvdHlwZS5tYWduaXR1ZGUgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLl9tYWduaXR1ZGUpIHJldHVybiB0aGlzLl9tYWduaXR1ZGU7XG5cbiAgdmFyIHN1bU9mU3F1YXJlcyA9IDAsXG4gICAgICBlbGVtZW50c0xlbmd0aCA9IHRoaXMuZWxlbWVudHMubGVuZ3RoO1xuXG4gIGZvciAodmFyIGkgPSAxOyBpIDwgZWxlbWVudHNMZW5ndGg7IGkgKz0gMikge1xuICAgIHZhciB2YWwgPSB0aGlzLmVsZW1lbnRzW2ldO1xuICAgIHN1bU9mU3F1YXJlcyArPSB2YWwgKiB2YWw7XG4gIH1cblxuICB0aGlzLl9tYWduaXR1ZGUgPSBNYXRoLnNxcnQoc3VtT2ZTcXVhcmVzKTtcbiAgcmV0dXJuIHRoaXMuX21hZ25pdHVkZTtcbn07XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZG90IHByb2R1Y3Qgb2YgdGhpcyB2ZWN0b3IgYW5kIGFub3RoZXIgdmVjdG9yLlxuICpcbiAqIEBwYXJhbSB7bHVuci5WZWN0b3J9IG90aGVyVmVjdG9yIC0gVGhlIHZlY3RvciB0byBjb21wdXRlIHRoZSBkb3QgcHJvZHVjdCB3aXRoLlxuICogQHJldHVybnMge051bWJlcn1cbiAqL1xubHVuci5WZWN0b3IucHJvdG90eXBlLmRvdCA9IGZ1bmN0aW9uIChvdGhlclZlY3Rvcikge1xuICB2YXIgZG90UHJvZHVjdCA9IDAsXG4gICAgICBhID0gdGhpcy5lbGVtZW50cywgYiA9IG90aGVyVmVjdG9yLmVsZW1lbnRzLFxuICAgICAgYUxlbiA9IGEubGVuZ3RoLCBiTGVuID0gYi5sZW5ndGgsXG4gICAgICBhVmFsID0gMCwgYlZhbCA9IDAsXG4gICAgICBpID0gMCwgaiA9IDA7XG5cbiAgd2hpbGUgKGkgPCBhTGVuICYmIGogPCBiTGVuKSB7XG4gICAgYVZhbCA9IGFbaV07IGJWYWwgPSBiW2pdO1xuICAgIGlmIChhVmFsIDwgYlZhbCkge1xuICAgICAgaSArPSAyO1xuICAgIH0gZWxzZSBpZiAoYVZhbCA+IGJWYWwpIHtcbiAgICAgIGogKz0gMjtcbiAgICB9IGVsc2UgaWYgKGFWYWwgPT0gYlZhbCkge1xuICAgICAgZG90UHJvZHVjdCArPSBhW2kgKyAxXSAqIGJbaiArIDFdO1xuICAgICAgaSArPSAyO1xuICAgICAgaiArPSAyO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBkb3RQcm9kdWN0O1xufTtcblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBjb3NpbmUgc2ltaWxhcml0eSBiZXR3ZWVuIHRoaXMgdmVjdG9yIGFuZCBhbm90aGVyXG4gKiB2ZWN0b3IuXG4gKlxuICogQHBhcmFtIHtsdW5yLlZlY3Rvcn0gb3RoZXJWZWN0b3IgLSBUaGUgb3RoZXIgdmVjdG9yIHRvIGNhbGN1bGF0ZSB0aGVcbiAqIHNpbWlsYXJpdHkgd2l0aC5cbiAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gKi9cbmx1bnIuVmVjdG9yLnByb3RvdHlwZS5zaW1pbGFyaXR5ID0gZnVuY3Rpb24gKG90aGVyVmVjdG9yKSB7XG4gIHJldHVybiB0aGlzLmRvdChvdGhlclZlY3RvcikgLyAodGhpcy5tYWduaXR1ZGUoKSAqIG90aGVyVmVjdG9yLm1hZ25pdHVkZSgpKTtcbn07XG5cbi8qKlxuICogQ29udmVydHMgdGhlIHZlY3RvciB0byBhbiBhcnJheSBvZiB0aGUgZWxlbWVudHMgd2l0aGluIHRoZSB2ZWN0b3IuXG4gKlxuICogQHJldHVybnMge051bWJlcltdfVxuICovXG5sdW5yLlZlY3Rvci5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIG91dHB1dCA9IG5ldyBBcnJheSAodGhpcy5lbGVtZW50cy5sZW5ndGggLyAyKTtcblxuICBmb3IgKHZhciBpID0gMSwgaiA9IDA7IGkgPCB0aGlzLmVsZW1lbnRzLmxlbmd0aDsgaSArPSAyLCBqKyspIHtcbiAgICBvdXRwdXRbal0gPSB0aGlzLmVsZW1lbnRzW2ldO1xuICB9XG5cbiAgcmV0dXJuIG91dHB1dDtcbn07XG5cbi8qKlxuICogQSBKU09OIHNlcmlhbGl6YWJsZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgdmVjdG9yLlxuICpcbiAqIEByZXR1cm5zIHtOdW1iZXJbXX1cbiAqL1xubHVuci5WZWN0b3IucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuZWxlbWVudHM7XG59O1xuLyogZXNsaW50LWRpc2FibGUgKi9cbi8qIVxuICogbHVuci5zdGVtbWVyXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTcgT2xpdmVyIE5pZ2h0aW5nYWxlXG4gKiBJbmNsdWRlcyBjb2RlIGZyb20gLSBodHRwOi8vdGFydGFydXMub3JnL35tYXJ0aW4vUG9ydGVyU3RlbW1lci9qcy50eHRcbiAqL1xuXG4vKipcbiAqIGx1bnIuc3RlbW1lciBpcyBhbiBlbmdsaXNoIGxhbmd1YWdlIHN0ZW1tZXIsIHRoaXMgaXMgYSBKYXZhU2NyaXB0XG4gKiBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgUG9ydGVyU3RlbW1lciB0YWtlbiBmcm9tIGh0dHA6Ly90YXJ0YXJ1cy5vcmcvfm1hcnRpblxuICpcbiAqIEBzdGF0aWNcbiAqIEBpbXBsZW1lbnRzIHtsdW5yLlBpcGVsaW5lRnVuY3Rpb259XG4gKiBAcGFyYW0ge2x1bnIuVG9rZW59IHRva2VuIC0gVGhlIHN0cmluZyB0byBzdGVtXG4gKiBAcmV0dXJucyB7bHVuci5Ub2tlbn1cbiAqIEBzZWUge0BsaW5rIGx1bnIuUGlwZWxpbmV9XG4gKi9cbmx1bnIuc3RlbW1lciA9IChmdW5jdGlvbigpe1xuICB2YXIgc3RlcDJsaXN0ID0ge1xuICAgICAgXCJhdGlvbmFsXCIgOiBcImF0ZVwiLFxuICAgICAgXCJ0aW9uYWxcIiA6IFwidGlvblwiLFxuICAgICAgXCJlbmNpXCIgOiBcImVuY2VcIixcbiAgICAgIFwiYW5jaVwiIDogXCJhbmNlXCIsXG4gICAgICBcIml6ZXJcIiA6IFwiaXplXCIsXG4gICAgICBcImJsaVwiIDogXCJibGVcIixcbiAgICAgIFwiYWxsaVwiIDogXCJhbFwiLFxuICAgICAgXCJlbnRsaVwiIDogXCJlbnRcIixcbiAgICAgIFwiZWxpXCIgOiBcImVcIixcbiAgICAgIFwib3VzbGlcIiA6IFwib3VzXCIsXG4gICAgICBcIml6YXRpb25cIiA6IFwiaXplXCIsXG4gICAgICBcImF0aW9uXCIgOiBcImF0ZVwiLFxuICAgICAgXCJhdG9yXCIgOiBcImF0ZVwiLFxuICAgICAgXCJhbGlzbVwiIDogXCJhbFwiLFxuICAgICAgXCJpdmVuZXNzXCIgOiBcIml2ZVwiLFxuICAgICAgXCJmdWxuZXNzXCIgOiBcImZ1bFwiLFxuICAgICAgXCJvdXNuZXNzXCIgOiBcIm91c1wiLFxuICAgICAgXCJhbGl0aVwiIDogXCJhbFwiLFxuICAgICAgXCJpdml0aVwiIDogXCJpdmVcIixcbiAgICAgIFwiYmlsaXRpXCIgOiBcImJsZVwiLFxuICAgICAgXCJsb2dpXCIgOiBcImxvZ1wiXG4gICAgfSxcblxuICAgIHN0ZXAzbGlzdCA9IHtcbiAgICAgIFwiaWNhdGVcIiA6IFwiaWNcIixcbiAgICAgIFwiYXRpdmVcIiA6IFwiXCIsXG4gICAgICBcImFsaXplXCIgOiBcImFsXCIsXG4gICAgICBcImljaXRpXCIgOiBcImljXCIsXG4gICAgICBcImljYWxcIiA6IFwiaWNcIixcbiAgICAgIFwiZnVsXCIgOiBcIlwiLFxuICAgICAgXCJuZXNzXCIgOiBcIlwiXG4gICAgfSxcblxuICAgIGMgPSBcIlteYWVpb3VdXCIsICAgICAgICAgIC8vIGNvbnNvbmFudFxuICAgIHYgPSBcIlthZWlvdXldXCIsICAgICAgICAgIC8vIHZvd2VsXG4gICAgQyA9IGMgKyBcIlteYWVpb3V5XSpcIiwgICAgLy8gY29uc29uYW50IHNlcXVlbmNlXG4gICAgViA9IHYgKyBcIlthZWlvdV0qXCIsICAgICAgLy8gdm93ZWwgc2VxdWVuY2VcblxuICAgIG1ncjAgPSBcIl4oXCIgKyBDICsgXCIpP1wiICsgViArIEMsICAgICAgICAgICAgICAgLy8gW0NdVkMuLi4gaXMgbT4wXG4gICAgbWVxMSA9IFwiXihcIiArIEMgKyBcIik/XCIgKyBWICsgQyArIFwiKFwiICsgViArIFwiKT8kXCIsICAvLyBbQ11WQ1tWXSBpcyBtPTFcbiAgICBtZ3IxID0gXCJeKFwiICsgQyArIFwiKT9cIiArIFYgKyBDICsgViArIEMsICAgICAgIC8vIFtDXVZDVkMuLi4gaXMgbT4xXG4gICAgc192ID0gXCJeKFwiICsgQyArIFwiKT9cIiArIHY7ICAgICAgICAgICAgICAgICAgIC8vIHZvd2VsIGluIHN0ZW1cblxuICB2YXIgcmVfbWdyMCA9IG5ldyBSZWdFeHAobWdyMCk7XG4gIHZhciByZV9tZ3IxID0gbmV3IFJlZ0V4cChtZ3IxKTtcbiAgdmFyIHJlX21lcTEgPSBuZXcgUmVnRXhwKG1lcTEpO1xuICB2YXIgcmVfc192ID0gbmV3IFJlZ0V4cChzX3YpO1xuXG4gIHZhciByZV8xYSA9IC9eKC4rPykoc3N8aSllcyQvO1xuICB2YXIgcmUyXzFhID0gL14oLis/KShbXnNdKXMkLztcbiAgdmFyIHJlXzFiID0gL14oLis/KWVlZCQvO1xuICB2YXIgcmUyXzFiID0gL14oLis/KShlZHxpbmcpJC87XG4gIHZhciByZV8xYl8yID0gLy4kLztcbiAgdmFyIHJlMl8xYl8yID0gLyhhdHxibHxpeikkLztcbiAgdmFyIHJlM18xYl8yID0gbmV3IFJlZ0V4cChcIihbXmFlaW91eWxzel0pXFxcXDEkXCIpO1xuICB2YXIgcmU0XzFiXzIgPSBuZXcgUmVnRXhwKFwiXlwiICsgQyArIHYgKyBcIlteYWVpb3V3eHldJFwiKTtcblxuICB2YXIgcmVfMWMgPSAvXiguKz9bXmFlaW91XSl5JC87XG4gIHZhciByZV8yID0gL14oLis/KShhdGlvbmFsfHRpb25hbHxlbmNpfGFuY2l8aXplcnxibGl8YWxsaXxlbnRsaXxlbGl8b3VzbGl8aXphdGlvbnxhdGlvbnxhdG9yfGFsaXNtfGl2ZW5lc3N8ZnVsbmVzc3xvdXNuZXNzfGFsaXRpfGl2aXRpfGJpbGl0aXxsb2dpKSQvO1xuXG4gIHZhciByZV8zID0gL14oLis/KShpY2F0ZXxhdGl2ZXxhbGl6ZXxpY2l0aXxpY2FsfGZ1bHxuZXNzKSQvO1xuXG4gIHZhciByZV80ID0gL14oLis/KShhbHxhbmNlfGVuY2V8ZXJ8aWN8YWJsZXxpYmxlfGFudHxlbWVudHxtZW50fGVudHxvdXxpc218YXRlfGl0aXxvdXN8aXZlfGl6ZSkkLztcbiAgdmFyIHJlMl80ID0gL14oLis/KShzfHQpKGlvbikkLztcblxuICB2YXIgcmVfNSA9IC9eKC4rPyllJC87XG4gIHZhciByZV81XzEgPSAvbGwkLztcbiAgdmFyIHJlM181ID0gbmV3IFJlZ0V4cChcIl5cIiArIEMgKyB2ICsgXCJbXmFlaW91d3h5XSRcIik7XG5cbiAgdmFyIHBvcnRlclN0ZW1tZXIgPSBmdW5jdGlvbiBwb3J0ZXJTdGVtbWVyKHcpIHtcbiAgICB2YXIgc3RlbSxcbiAgICAgIHN1ZmZpeCxcbiAgICAgIGZpcnN0Y2gsXG4gICAgICByZSxcbiAgICAgIHJlMixcbiAgICAgIHJlMyxcbiAgICAgIHJlNDtcblxuICAgIGlmICh3Lmxlbmd0aCA8IDMpIHsgcmV0dXJuIHc7IH1cblxuICAgIGZpcnN0Y2ggPSB3LnN1YnN0cigwLDEpO1xuICAgIGlmIChmaXJzdGNoID09IFwieVwiKSB7XG4gICAgICB3ID0gZmlyc3RjaC50b1VwcGVyQ2FzZSgpICsgdy5zdWJzdHIoMSk7XG4gICAgfVxuXG4gICAgLy8gU3RlcCAxYVxuICAgIHJlID0gcmVfMWE7XG4gICAgcmUyID0gcmUyXzFhO1xuXG4gICAgaWYgKHJlLnRlc3QodykpIHsgdyA9IHcucmVwbGFjZShyZSxcIiQxJDJcIik7IH1cbiAgICBlbHNlIGlmIChyZTIudGVzdCh3KSkgeyB3ID0gdy5yZXBsYWNlKHJlMixcIiQxJDJcIik7IH1cblxuICAgIHZhciBmcDtcbiAgICAvLyBTdGVwIDFiXG4gICAgcmUgPSByZV8xYjtcbiAgICByZTIgPSByZTJfMWI7XG4gICAgaWYgKHJlLnRlc3QodykpIHtcbiAgICAgIGZwID0gcmUuZXhlYyh3KTtcbiAgICAgIHJlID0gcmVfbWdyMDtcbiAgICAgIGlmIChyZS50ZXN0KGZwWzFdKSkge1xuICAgICAgICByZSA9IHJlXzFiXzI7XG4gICAgICAgIHcgPSB3LnJlcGxhY2UocmUsXCJcIik7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChyZTIudGVzdCh3KSkge1xuICAgICAgZnAgPSByZTIuZXhlYyh3KTtcbiAgICAgIHN0ZW0gPSBmcFsxXTtcbiAgICAgIHJlMiA9IHJlX3NfdjtcbiAgICAgIGlmIChyZTIudGVzdChzdGVtKSkge1xuICAgICAgICB3ID0gc3RlbTtcbiAgICAgICAgcmUyID0gcmUyXzFiXzI7XG4gICAgICAgIHJlMyA9IHJlM18xYl8yO1xuICAgICAgICByZTQgPSByZTRfMWJfMjtcbiAgICAgICAgaWYgKHJlMi50ZXN0KHcpKSB7IHcgPSB3ICsgXCJlXCI7IH1cbiAgICAgICAgZWxzZSBpZiAocmUzLnRlc3QodykpIHsgcmUgPSByZV8xYl8yOyB3ID0gdy5yZXBsYWNlKHJlLFwiXCIpOyB9XG4gICAgICAgIGVsc2UgaWYgKHJlNC50ZXN0KHcpKSB7IHcgPSB3ICsgXCJlXCI7IH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTdGVwIDFjIC0gcmVwbGFjZSBzdWZmaXggeSBvciBZIGJ5IGkgaWYgcHJlY2VkZWQgYnkgYSBub24tdm93ZWwgd2hpY2ggaXMgbm90IHRoZSBmaXJzdCBsZXR0ZXIgb2YgdGhlIHdvcmQgKHNvIGNyeSAtPiBjcmksIGJ5IC0+IGJ5LCBzYXkgLT4gc2F5KVxuICAgIHJlID0gcmVfMWM7XG4gICAgaWYgKHJlLnRlc3QodykpIHtcbiAgICAgIGZwID0gcmUuZXhlYyh3KTtcbiAgICAgIHN0ZW0gPSBmcFsxXTtcbiAgICAgIHcgPSBzdGVtICsgXCJpXCI7XG4gICAgfVxuXG4gICAgLy8gU3RlcCAyXG4gICAgcmUgPSByZV8yO1xuICAgIGlmIChyZS50ZXN0KHcpKSB7XG4gICAgICBmcCA9IHJlLmV4ZWModyk7XG4gICAgICBzdGVtID0gZnBbMV07XG4gICAgICBzdWZmaXggPSBmcFsyXTtcbiAgICAgIHJlID0gcmVfbWdyMDtcbiAgICAgIGlmIChyZS50ZXN0KHN0ZW0pKSB7XG4gICAgICAgIHcgPSBzdGVtICsgc3RlcDJsaXN0W3N1ZmZpeF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gU3RlcCAzXG4gICAgcmUgPSByZV8zO1xuICAgIGlmIChyZS50ZXN0KHcpKSB7XG4gICAgICBmcCA9IHJlLmV4ZWModyk7XG4gICAgICBzdGVtID0gZnBbMV07XG4gICAgICBzdWZmaXggPSBmcFsyXTtcbiAgICAgIHJlID0gcmVfbWdyMDtcbiAgICAgIGlmIChyZS50ZXN0KHN0ZW0pKSB7XG4gICAgICAgIHcgPSBzdGVtICsgc3RlcDNsaXN0W3N1ZmZpeF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gU3RlcCA0XG4gICAgcmUgPSByZV80O1xuICAgIHJlMiA9IHJlMl80O1xuICAgIGlmIChyZS50ZXN0KHcpKSB7XG4gICAgICBmcCA9IHJlLmV4ZWModyk7XG4gICAgICBzdGVtID0gZnBbMV07XG4gICAgICByZSA9IHJlX21ncjE7XG4gICAgICBpZiAocmUudGVzdChzdGVtKSkge1xuICAgICAgICB3ID0gc3RlbTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHJlMi50ZXN0KHcpKSB7XG4gICAgICBmcCA9IHJlMi5leGVjKHcpO1xuICAgICAgc3RlbSA9IGZwWzFdICsgZnBbMl07XG4gICAgICByZTIgPSByZV9tZ3IxO1xuICAgICAgaWYgKHJlMi50ZXN0KHN0ZW0pKSB7XG4gICAgICAgIHcgPSBzdGVtO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFN0ZXAgNVxuICAgIHJlID0gcmVfNTtcbiAgICBpZiAocmUudGVzdCh3KSkge1xuICAgICAgZnAgPSByZS5leGVjKHcpO1xuICAgICAgc3RlbSA9IGZwWzFdO1xuICAgICAgcmUgPSByZV9tZ3IxO1xuICAgICAgcmUyID0gcmVfbWVxMTtcbiAgICAgIHJlMyA9IHJlM181O1xuICAgICAgaWYgKHJlLnRlc3Qoc3RlbSkgfHwgKHJlMi50ZXN0KHN0ZW0pICYmICEocmUzLnRlc3Qoc3RlbSkpKSkge1xuICAgICAgICB3ID0gc3RlbTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZSA9IHJlXzVfMTtcbiAgICByZTIgPSByZV9tZ3IxO1xuICAgIGlmIChyZS50ZXN0KHcpICYmIHJlMi50ZXN0KHcpKSB7XG4gICAgICByZSA9IHJlXzFiXzI7XG4gICAgICB3ID0gdy5yZXBsYWNlKHJlLFwiXCIpO1xuICAgIH1cblxuICAgIC8vIGFuZCB0dXJuIGluaXRpYWwgWSBiYWNrIHRvIHlcblxuICAgIGlmIChmaXJzdGNoID09IFwieVwiKSB7XG4gICAgICB3ID0gZmlyc3RjaC50b0xvd2VyQ2FzZSgpICsgdy5zdWJzdHIoMSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHc7XG4gIH07XG5cbiAgcmV0dXJuIGZ1bmN0aW9uICh0b2tlbikge1xuICAgIHJldHVybiB0b2tlbi51cGRhdGUocG9ydGVyU3RlbW1lcik7XG4gIH07XG59KSgpO1xuXG5sdW5yLlBpcGVsaW5lLnJlZ2lzdGVyRnVuY3Rpb24obHVuci5zdGVtbWVyLCAnc3RlbW1lcicpO1xuLyohXG4gKiBsdW5yLnN0b3BXb3JkRmlsdGVyXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTcgT2xpdmVyIE5pZ2h0aW5nYWxlXG4gKi9cblxuLyoqXG4gKiBsdW5yLmdlbmVyYXRlU3RvcFdvcmRGaWx0ZXIgYnVpbGRzIGEgc3RvcFdvcmRGaWx0ZXIgZnVuY3Rpb24gZnJvbSB0aGUgcHJvdmlkZWRcbiAqIGxpc3Qgb2Ygc3RvcCB3b3Jkcy5cbiAqXG4gKiBUaGUgYnVpbHQgaW4gbHVuci5zdG9wV29yZEZpbHRlciBpcyBidWlsdCB1c2luZyB0aGlzIGdlbmVyYXRvciBhbmQgY2FuIGJlIHVzZWRcbiAqIHRvIGdlbmVyYXRlIGN1c3RvbSBzdG9wV29yZEZpbHRlcnMgZm9yIGFwcGxpY2F0aW9ucyBvciBub24gRW5nbGlzaCBsYW5ndWFnZXMuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gdG9rZW4gVGhlIHRva2VuIHRvIHBhc3MgdGhyb3VnaCB0aGUgZmlsdGVyXG4gKiBAcmV0dXJucyB7bHVuci5QaXBlbGluZUZ1bmN0aW9ufVxuICogQHNlZSBsdW5yLlBpcGVsaW5lXG4gKiBAc2VlIGx1bnIuc3RvcFdvcmRGaWx0ZXJcbiAqL1xubHVuci5nZW5lcmF0ZVN0b3BXb3JkRmlsdGVyID0gZnVuY3Rpb24gKHN0b3BXb3Jkcykge1xuICB2YXIgd29yZHMgPSBzdG9wV29yZHMucmVkdWNlKGZ1bmN0aW9uIChtZW1vLCBzdG9wV29yZCkge1xuICAgIG1lbW9bc3RvcFdvcmRdID0gc3RvcFdvcmQ7XG4gICAgcmV0dXJuIG1lbW87XG4gIH0sIHt9KTtcblxuICByZXR1cm4gZnVuY3Rpb24gKHRva2VuKSB7XG4gICAgaWYgKHRva2VuICYmIHdvcmRzW3Rva2VuLnRvU3RyaW5nKCldICE9PSB0b2tlbi50b1N0cmluZygpKSByZXR1cm4gdG9rZW47XG4gIH07XG59O1xuXG4vKipcbiAqIGx1bnIuc3RvcFdvcmRGaWx0ZXIgaXMgYW4gRW5nbGlzaCBsYW5ndWFnZSBzdG9wIHdvcmQgbGlzdCBmaWx0ZXIsIGFueSB3b3Jkc1xuICogY29udGFpbmVkIGluIHRoZSBsaXN0IHdpbGwgbm90IGJlIHBhc3NlZCB0aHJvdWdoIHRoZSBmaWx0ZXIuXG4gKlxuICogVGhpcyBpcyBpbnRlbmRlZCB0byBiZSB1c2VkIGluIHRoZSBQaXBlbGluZS4gSWYgdGhlIHRva2VuIGRvZXMgbm90IHBhc3MgdGhlXG4gKiBmaWx0ZXIgdGhlbiB1bmRlZmluZWQgd2lsbCBiZSByZXR1cm5lZC5cbiAqXG4gKiBAaW1wbGVtZW50cyB7bHVuci5QaXBlbGluZUZ1bmN0aW9ufVxuICogQHBhcmFtcyB7bHVuci5Ub2tlbn0gdG9rZW4gLSBBIHRva2VuIHRvIGNoZWNrIGZvciBiZWluZyBhIHN0b3Agd29yZC5cbiAqIEByZXR1cm5zIHtsdW5yLlRva2VufVxuICogQHNlZSB7QGxpbmsgbHVuci5QaXBlbGluZX1cbiAqL1xubHVuci5zdG9wV29yZEZpbHRlciA9IGx1bnIuZ2VuZXJhdGVTdG9wV29yZEZpbHRlcihbXG4gICdhJyxcbiAgJ2FibGUnLFxuICAnYWJvdXQnLFxuICAnYWNyb3NzJyxcbiAgJ2FmdGVyJyxcbiAgJ2FsbCcsXG4gICdhbG1vc3QnLFxuICAnYWxzbycsXG4gICdhbScsXG4gICdhbW9uZycsXG4gICdhbicsXG4gICdhbmQnLFxuICAnYW55JyxcbiAgJ2FyZScsXG4gICdhcycsXG4gICdhdCcsXG4gICdiZScsXG4gICdiZWNhdXNlJyxcbiAgJ2JlZW4nLFxuICAnYnV0JyxcbiAgJ2J5JyxcbiAgJ2NhbicsXG4gICdjYW5ub3QnLFxuICAnY291bGQnLFxuICAnZGVhcicsXG4gICdkaWQnLFxuICAnZG8nLFxuICAnZG9lcycsXG4gICdlaXRoZXInLFxuICAnZWxzZScsXG4gICdldmVyJyxcbiAgJ2V2ZXJ5JyxcbiAgJ2ZvcicsXG4gICdmcm9tJyxcbiAgJ2dldCcsXG4gICdnb3QnLFxuICAnaGFkJyxcbiAgJ2hhcycsXG4gICdoYXZlJyxcbiAgJ2hlJyxcbiAgJ2hlcicsXG4gICdoZXJzJyxcbiAgJ2hpbScsXG4gICdoaXMnLFxuICAnaG93JyxcbiAgJ2hvd2V2ZXInLFxuICAnaScsXG4gICdpZicsXG4gICdpbicsXG4gICdpbnRvJyxcbiAgJ2lzJyxcbiAgJ2l0JyxcbiAgJ2l0cycsXG4gICdqdXN0JyxcbiAgJ2xlYXN0JyxcbiAgJ2xldCcsXG4gICdsaWtlJyxcbiAgJ2xpa2VseScsXG4gICdtYXknLFxuICAnbWUnLFxuICAnbWlnaHQnLFxuICAnbW9zdCcsXG4gICdtdXN0JyxcbiAgJ215JyxcbiAgJ25laXRoZXInLFxuICAnbm8nLFxuICAnbm9yJyxcbiAgJ25vdCcsXG4gICdvZicsXG4gICdvZmYnLFxuICAnb2Z0ZW4nLFxuICAnb24nLFxuICAnb25seScsXG4gICdvcicsXG4gICdvdGhlcicsXG4gICdvdXInLFxuICAnb3duJyxcbiAgJ3JhdGhlcicsXG4gICdzYWlkJyxcbiAgJ3NheScsXG4gICdzYXlzJyxcbiAgJ3NoZScsXG4gICdzaG91bGQnLFxuICAnc2luY2UnLFxuICAnc28nLFxuICAnc29tZScsXG4gICd0aGFuJyxcbiAgJ3RoYXQnLFxuICAndGhlJyxcbiAgJ3RoZWlyJyxcbiAgJ3RoZW0nLFxuICAndGhlbicsXG4gICd0aGVyZScsXG4gICd0aGVzZScsXG4gICd0aGV5JyxcbiAgJ3RoaXMnLFxuICAndGlzJyxcbiAgJ3RvJyxcbiAgJ3RvbycsXG4gICd0d2FzJyxcbiAgJ3VzJyxcbiAgJ3dhbnRzJyxcbiAgJ3dhcycsXG4gICd3ZScsXG4gICd3ZXJlJyxcbiAgJ3doYXQnLFxuICAnd2hlbicsXG4gICd3aGVyZScsXG4gICd3aGljaCcsXG4gICd3aGlsZScsXG4gICd3aG8nLFxuICAnd2hvbScsXG4gICd3aHknLFxuICAnd2lsbCcsXG4gICd3aXRoJyxcbiAgJ3dvdWxkJyxcbiAgJ3lldCcsXG4gICd5b3UnLFxuICAneW91cidcbl0pO1xuXG5sdW5yLlBpcGVsaW5lLnJlZ2lzdGVyRnVuY3Rpb24obHVuci5zdG9wV29yZEZpbHRlciwgJ3N0b3BXb3JkRmlsdGVyJyk7XG4vKiFcbiAqIGx1bnIudHJpbW1lclxuICogQ29weXJpZ2h0IChDKSAyMDE3IE9saXZlciBOaWdodGluZ2FsZVxuICovXG5cbi8qKlxuICogbHVuci50cmltbWVyIGlzIGEgcGlwZWxpbmUgZnVuY3Rpb24gZm9yIHRyaW1taW5nIG5vbiB3b3JkXG4gKiBjaGFyYWN0ZXJzIGZyb20gdGhlIGJlZ2lubmluZyBhbmQgZW5kIG9mIHRva2VucyBiZWZvcmUgdGhleVxuICogZW50ZXIgdGhlIGluZGV4LlxuICpcbiAqIFRoaXMgaW1wbGVtZW50YXRpb24gbWF5IG5vdCB3b3JrIGNvcnJlY3RseSBmb3Igbm9uIGxhdGluXG4gKiBjaGFyYWN0ZXJzIGFuZCBzaG91bGQgZWl0aGVyIGJlIHJlbW92ZWQgb3IgYWRhcHRlZCBmb3IgdXNlXG4gKiB3aXRoIGxhbmd1YWdlcyB3aXRoIG5vbi1sYXRpbiBjaGFyYWN0ZXJzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBpbXBsZW1lbnRzIHtsdW5yLlBpcGVsaW5lRnVuY3Rpb259XG4gKiBAcGFyYW0ge2x1bnIuVG9rZW59IHRva2VuIFRoZSB0b2tlbiB0byBwYXNzIHRocm91Z2ggdGhlIGZpbHRlclxuICogQHJldHVybnMge2x1bnIuVG9rZW59XG4gKiBAc2VlIGx1bnIuUGlwZWxpbmVcbiAqL1xubHVuci50cmltbWVyID0gZnVuY3Rpb24gKHRva2VuKSB7XG4gIHJldHVybiB0b2tlbi51cGRhdGUoZnVuY3Rpb24gKHMpIHtcbiAgICByZXR1cm4gcy5yZXBsYWNlKC9eXFxXKy8sICcnKS5yZXBsYWNlKC9cXFcrJC8sICcnKTtcbiAgfSk7XG59O1xuXG5sdW5yLlBpcGVsaW5lLnJlZ2lzdGVyRnVuY3Rpb24obHVuci50cmltbWVyLCAndHJpbW1lcicpO1xuLyohXG4gKiBsdW5yLlRva2VuU2V0XG4gKiBDb3B5cmlnaHQgKEMpIDIwMTcgT2xpdmVyIE5pZ2h0aW5nYWxlXG4gKi9cblxuLyoqXG4gKiBBIHRva2VuIHNldCBpcyB1c2VkIHRvIHN0b3JlIHRoZSB1bmlxdWUgbGlzdCBvZiBhbGwgdG9rZW5zXG4gKiB3aXRoaW4gYW4gaW5kZXguIFRva2VuIHNldHMgYXJlIGFsc28gdXNlZCB0byByZXByZXNlbnQgYW5cbiAqIGluY29taW5nIHF1ZXJ5IHRvIHRoZSBpbmRleCwgdGhpcyBxdWVyeSB0b2tlbiBzZXQgYW5kIGluZGV4XG4gKiB0b2tlbiBzZXQgYXJlIHRoZW4gaW50ZXJzZWN0ZWQgdG8gZmluZCB3aGljaCB0b2tlbnMgdG8gbG9va1xuICogdXAgaW4gdGhlIGludmVydGVkIGluZGV4LlxuICpcbiAqIEEgdG9rZW4gc2V0IGNhbiBob2xkIG11bHRpcGxlIHRva2VucywgYXMgaW4gdGhlIGNhc2Ugb2YgdGhlXG4gKiBpbmRleCB0b2tlbiBzZXQsIG9yIGl0IGNhbiBob2xkIGEgc2luZ2xlIHRva2VuIGFzIGluIHRoZVxuICogY2FzZSBvZiBhIHNpbXBsZSBxdWVyeSB0b2tlbiBzZXQuXG4gKlxuICogQWRkaXRpb25hbGx5IHRva2VuIHNldHMgYXJlIHVzZWQgdG8gcGVyZm9ybSB3aWxkY2FyZCBtYXRjaGluZy5cbiAqIExlYWRpbmcsIGNvbnRhaW5lZCBhbmQgdHJhaWxpbmcgd2lsZGNhcmRzIGFyZSBzdXBwb3J0ZWQsIGFuZFxuICogZnJvbSB0aGlzIGVkaXQgZGlzdGFuY2UgbWF0Y2hpbmcgY2FuIGFsc28gYmUgcHJvdmlkZWQuXG4gKlxuICogVG9rZW4gc2V0cyBhcmUgaW1wbGVtZW50ZWQgYXMgYSBtaW5pbWFsIGZpbml0ZSBzdGF0ZSBhdXRvbWF0YSxcbiAqIHdoZXJlIGJvdGggY29tbW9uIHByZWZpeGVzIGFuZCBzdWZmaXhlcyBhcmUgc2hhcmVkIGJldHdlZW4gdG9rZW5zLlxuICogVGhpcyBoZWxwcyB0byByZWR1Y2UgdGhlIHNwYWNlIHVzZWQgZm9yIHN0b3JpbmcgdGhlIHRva2VuIHNldC5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqL1xubHVuci5Ub2tlblNldCA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5maW5hbCA9IGZhbHNlO1xuICB0aGlzLmVkZ2VzID0ge307XG4gIHRoaXMuaWQgPSBsdW5yLlRva2VuU2V0Ll9uZXh0SWQ7XG4gIGx1bnIuVG9rZW5TZXQuX25leHRJZCArPSAxO1xufTtcblxuLyoqXG4gKiBLZWVwcyB0cmFjayBvZiB0aGUgbmV4dCwgYXV0byBpbmNyZW1lbnQsIGlkZW50aWZpZXIgdG8gYXNzaWduXG4gKiB0byBhIG5ldyB0b2tlblNldC5cbiAqXG4gKiBUb2tlblNldHMgcmVxdWlyZSBhIHVuaXF1ZSBpZGVudGlmaWVyIHRvIGJlIGNvcnJlY3RseSBtaW5pbWlzZWQuXG4gKlxuICogQHByaXZhdGVcbiAqL1xubHVuci5Ub2tlblNldC5fbmV4dElkID0gMTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgVG9rZW5TZXQgaW5zdGFuY2UgZnJvbSB0aGUgZ2l2ZW4gc29ydGVkIGFycmF5IG9mIHdvcmRzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nW119IGFyciAtIEEgc29ydGVkIGFycmF5IG9mIHN0cmluZ3MgdG8gY3JlYXRlIHRoZSBzZXQgZnJvbS5cbiAqIEByZXR1cm5zIHtsdW5yLlRva2VuU2V0fVxuICogQHRocm93cyBXaWxsIHRocm93IGFuIGVycm9yIGlmIHRoZSBpbnB1dCBhcnJheSBpcyBub3Qgc29ydGVkLlxuICovXG5sdW5yLlRva2VuU2V0LmZyb21BcnJheSA9IGZ1bmN0aW9uIChhcnIpIHtcbiAgdmFyIGJ1aWxkZXIgPSBuZXcgbHVuci5Ub2tlblNldC5CdWlsZGVyKCk7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFyci5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGJ1aWxkZXIuaW5zZXJ0KGFycltpXSk7XG4gIH1cblxuICBidWlsZGVyLmZpbmlzaCgpO1xuICByZXR1cm4gYnVpbGRlci5yb290O1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgdG9rZW4gc2V0IGZyb20gYSBxdWVyeSBjbGF1c2UuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBjbGF1c2UgLSBBIHNpbmdsZSBjbGF1c2UgZnJvbSBsdW5yLlF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGNsYXVzZS50ZXJtIC0gVGhlIHF1ZXJ5IGNsYXVzZSB0ZXJtLlxuICogQHBhcmFtIHtudW1iZXJ9IFtjbGF1c2UuZWRpdERpc3RhbmNlXSAtIFRoZSBvcHRpb25hbCBlZGl0IGRpc3RhbmNlIGZvciB0aGUgdGVybS5cbiAqIEByZXR1cm5zIHtsdW5yLlRva2VuU2V0fVxuICovXG5sdW5yLlRva2VuU2V0LmZyb21DbGF1c2UgPSBmdW5jdGlvbiAoY2xhdXNlKSB7XG4gIGlmICgnZWRpdERpc3RhbmNlJyBpbiBjbGF1c2UpIHtcbiAgICByZXR1cm4gbHVuci5Ub2tlblNldC5mcm9tRnV6enlTdHJpbmcoY2xhdXNlLnRlcm0sIGNsYXVzZS5lZGl0RGlzdGFuY2UpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBsdW5yLlRva2VuU2V0LmZyb21TdHJpbmcoY2xhdXNlLnRlcm0pO1xuICB9XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSB0b2tlbiBzZXQgcmVwcmVzZW50aW5nIGEgc2luZ2xlIHN0cmluZyB3aXRoIGEgc3BlY2lmaWVkXG4gKiBlZGl0IGRpc3RhbmNlLlxuICpcbiAqIEluc2VydGlvbnMsIGRlbGV0aW9ucywgc3Vic3RpdHV0aW9ucyBhbmQgdHJhbnNwb3NpdGlvbnMgYXJlIGVhY2hcbiAqIHRyZWF0ZWQgYXMgYW4gZWRpdCBkaXN0YW5jZSBvZiAxLlxuICpcbiAqIEluY3JlYXNpbmcgdGhlIGFsbG93ZWQgZWRpdCBkaXN0YW5jZSB3aWxsIGhhdmUgYSBkcmFtYXRpYyBpbXBhY3RcbiAqIG9uIHRoZSBwZXJmb3JtYW5jZSBvZiBib3RoIGNyZWF0aW5nIGFuZCBpbnRlcnNlY3RpbmcgdGhlc2UgVG9rZW5TZXRzLlxuICogSXQgaXMgYWR2aXNlZCB0byBrZWVwIHRoZSBlZGl0IGRpc3RhbmNlIGxlc3MgdGhhbiAzLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgLSBUaGUgc3RyaW5nIHRvIGNyZWF0ZSB0aGUgdG9rZW4gc2V0IGZyb20uXG4gKiBAcGFyYW0ge251bWJlcn0gZWRpdERpc3RhbmNlIC0gVGhlIGFsbG93ZWQgZWRpdCBkaXN0YW5jZSB0byBtYXRjaC5cbiAqIEByZXR1cm5zIHtsdW5yLlZlY3Rvcn1cbiAqL1xubHVuci5Ub2tlblNldC5mcm9tRnV6enlTdHJpbmcgPSBmdW5jdGlvbiAoc3RyLCBlZGl0RGlzdGFuY2UpIHtcbiAgdmFyIHJvb3QgPSBuZXcgbHVuci5Ub2tlblNldCgpO1xuXG4gIHZhciBzdGFjayA9IFt7XG4gICAgbm9kZTogcm9vdCxcbiAgICBlZGl0c1JlbWFpbmluZzogZWRpdERpc3RhbmNlLFxuICAgIHN0cjogc3RyXG4gIH1dO1xuXG4gIHdoaWxlIChzdGFjay5sZW5ndGgpIHtcbiAgICB2YXIgZnJhbWUgPSBzdGFjay5wb3AoKTtcblxuICAgIHZhciBjaGFyO1xuICAgIC8vIG5vIGVkaXRcbiAgICBpZiAoZnJhbWUuc3RyLmxlbmd0aCA+IDApIHtcbiAgICAgIGNoYXIgPSBmcmFtZS5zdHIuY2hhckF0KDApO1xuXG4gICAgICB2YXIgbm9FZGl0Tm9kZTtcbiAgICAgIGlmIChjaGFyIGluIGZyYW1lLm5vZGUuZWRnZXMpIHtcbiAgICAgICAgbm9FZGl0Tm9kZSA9IGZyYW1lLm5vZGUuZWRnZXNbY2hhcl07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub0VkaXROb2RlID0gbmV3IGx1bnIuVG9rZW5TZXQoKTtcbiAgICAgICAgZnJhbWUubm9kZS5lZGdlc1tjaGFyXSA9IG5vRWRpdE5vZGU7XG4gICAgICB9XG5cbiAgICAgIGlmIChmcmFtZS5zdHIubGVuZ3RoID09IDEpIHtcbiAgICAgICAgbm9FZGl0Tm9kZS5maW5hbCA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGFjay5wdXNoKHtcbiAgICAgICAgICBub2RlOiBub0VkaXROb2RlLFxuICAgICAgICAgIGVkaXRzUmVtYWluaW5nOiBmcmFtZS5lZGl0c1JlbWFpbmluZyxcbiAgICAgICAgICBzdHI6IGZyYW1lLnN0ci5zbGljZSgxKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBkZWxldGlvblxuICAgIC8vIGNhbiBvbmx5IGRvIGEgZGVsZXRpb24gaWYgd2UgaGF2ZSBlbm91Z2ggZWRpdHMgcmVtYWluaW5nXG4gICAgLy8gYW5kIGlmIHRoZXJlIGFyZSBjaGFyYWN0ZXJzIGxlZnQgdG8gZGVsZXRlIGluIHRoZSBzdHJpbmdcbiAgICBpZiAoZnJhbWUuZWRpdHNSZW1haW5pbmcgPiAwICYmIGZyYW1lLnN0ci5sZW5ndGggPiAxKSB7XG4gICAgICBjaGFyID0gZnJhbWUuc3RyLmNoYXJBdCgxKTtcblxuICAgICAgdmFyIGRlbGV0aW9uTm9kZTtcbiAgICAgIGlmIChjaGFyIGluIGZyYW1lLm5vZGUuZWRnZXMpIHtcbiAgICAgICAgZGVsZXRpb25Ob2RlID0gZnJhbWUubm9kZS5lZGdlc1tjaGFyXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlbGV0aW9uTm9kZSA9IG5ldyBsdW5yLlRva2VuU2V0KCk7XG4gICAgICAgIGZyYW1lLm5vZGUuZWRnZXNbY2hhcl0gPSBkZWxldGlvbk5vZGU7XG4gICAgICB9XG5cbiAgICAgIGlmIChmcmFtZS5zdHIubGVuZ3RoIDw9IDIpIHtcbiAgICAgICAgZGVsZXRpb25Ob2RlLmZpbmFsID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YWNrLnB1c2goe1xuICAgICAgICAgIG5vZGU6IGRlbGV0aW9uTm9kZSxcbiAgICAgICAgICBlZGl0c1JlbWFpbmluZzogZnJhbWUuZWRpdHNSZW1haW5pbmcgLSAxLFxuICAgICAgICAgIHN0cjogZnJhbWUuc3RyLnNsaWNlKDIpXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGRlbGV0aW9uXG4gICAgLy8ganVzdCByZW1vdmluZyB0aGUgbGFzdCBjaGFyYWN0ZXIgZnJvbSB0aGUgc3RyXG4gICAgaWYgKGZyYW1lLmVkaXRzUmVtYWluaW5nID4gMCAmJiBmcmFtZS5zdHIubGVuZ3RoID09IDEpIHtcbiAgICAgIGZyYW1lLm5vZGUuZmluYWwgPSB0cnVlO1xuICAgIH1cblxuICAgIHZhciBzdWJzdGl0dXRpb25Ob2RlO1xuICAgIC8vIHN1YnN0aXR1dGlvblxuICAgIC8vIGNhbiBvbmx5IGRvIGEgc3Vic3RpdHV0aW9uIGlmIHdlIGhhdmUgZW5vdWdoIGVkaXRzIHJlbWFpbmluZ1xuICAgIC8vIGFuZCBpZiB0aGVyZSBhcmUgY2hhcmFjdGVycyBsZWZ0IHRvIHN1YnN0aXR1dGVcbiAgICBpZiAoZnJhbWUuZWRpdHNSZW1haW5pbmcgPiAwICYmIGZyYW1lLnN0ci5sZW5ndGggPj0gMSkge1xuICAgICAgaWYgKFwiKlwiIGluIGZyYW1lLm5vZGUuZWRnZXMpIHtcbiAgICAgICAgc3Vic3RpdHV0aW9uTm9kZSA9IGZyYW1lLm5vZGUuZWRnZXNbXCIqXCJdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3Vic3RpdHV0aW9uTm9kZSA9IG5ldyBsdW5yLlRva2VuU2V0KCk7XG4gICAgICAgIGZyYW1lLm5vZGUuZWRnZXNbXCIqXCJdID0gc3Vic3RpdHV0aW9uTm9kZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGZyYW1lLnN0ci5sZW5ndGggPT0gMSkge1xuICAgICAgICBzdWJzdGl0dXRpb25Ob2RlLmZpbmFsID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YWNrLnB1c2goe1xuICAgICAgICAgIG5vZGU6IHN1YnN0aXR1dGlvbk5vZGUsXG4gICAgICAgICAgZWRpdHNSZW1haW5pbmc6IGZyYW1lLmVkaXRzUmVtYWluaW5nIC0gMSxcbiAgICAgICAgICBzdHI6IGZyYW1lLnN0ci5zbGljZSgxKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgaW5zZXJ0aW9uTm9kZTtcbiAgICAvLyBpbnNlcnRpb25cbiAgICAvLyBjYW4gb25seSBkbyBpbnNlcnRpb24gaWYgdGhlcmUgYXJlIGVkaXRzIHJlbWFpbmluZ1xuICAgIGlmIChmcmFtZS5lZGl0c1JlbWFpbmluZyA+IDApIHtcbiAgICAgIGlmIChcIipcIiBpbiBmcmFtZS5ub2RlLmVkZ2VzKSB7XG4gICAgICAgIGluc2VydGlvbk5vZGUgPSBmcmFtZS5ub2RlLmVkZ2VzW1wiKlwiXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGluc2VydGlvbk5vZGUgPSBuZXcgbHVuci5Ub2tlblNldCgpO1xuICAgICAgICBmcmFtZS5ub2RlLmVkZ2VzW1wiKlwiXSA9IGluc2VydGlvbk5vZGU7XG4gICAgICB9XG5cbiAgICAgIGlmIChmcmFtZS5zdHIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGluc2VydGlvbk5vZGUuZmluYWwgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RhY2sucHVzaCh7XG4gICAgICAgICAgbm9kZTogaW5zZXJ0aW9uTm9kZSxcbiAgICAgICAgICBlZGl0c1JlbWFpbmluZzogZnJhbWUuZWRpdHNSZW1haW5pbmcgLSAxLFxuICAgICAgICAgIHN0cjogZnJhbWUuc3RyXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHRyYW5zcG9zaXRpb25cbiAgICAvLyBjYW4gb25seSBkbyBhIHRyYW5zcG9zaXRpb24gaWYgdGhlcmUgYXJlIGVkaXRzIHJlbWFpbmluZ1xuICAgIC8vIGFuZCB0aGVyZSBhcmUgZW5vdWdoIGNoYXJhY3RlcnMgdG8gdHJhbnNwb3NlXG4gICAgaWYgKGZyYW1lLmVkaXRzUmVtYWluaW5nID4gMCAmJiBmcmFtZS5zdHIubGVuZ3RoID4gMSkge1xuICAgICAgdmFyIGNoYXJBID0gZnJhbWUuc3RyLmNoYXJBdCgwKSxcbiAgICAgICAgICBjaGFyQiA9IGZyYW1lLnN0ci5jaGFyQXQoMSksXG4gICAgICAgICAgdHJhbnNwb3NlTm9kZTtcblxuICAgICAgaWYgKGNoYXJCIGluIGZyYW1lLm5vZGUuZWRnZXMpIHtcbiAgICAgICAgdHJhbnNwb3NlTm9kZSA9IGZyYW1lLm5vZGUuZWRnZXNbY2hhckJdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJhbnNwb3NlTm9kZSA9IG5ldyBsdW5yLlRva2VuU2V0KCk7XG4gICAgICAgIGZyYW1lLm5vZGUuZWRnZXNbY2hhckJdID0gdHJhbnNwb3NlTm9kZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGZyYW1lLnN0ci5sZW5ndGggPT0gMSkge1xuICAgICAgICB0cmFuc3Bvc2VOb2RlLmZpbmFsID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YWNrLnB1c2goe1xuICAgICAgICAgIG5vZGU6IHRyYW5zcG9zZU5vZGUsXG4gICAgICAgICAgZWRpdHNSZW1haW5pbmc6IGZyYW1lLmVkaXRzUmVtYWluaW5nIC0gMSxcbiAgICAgICAgICBzdHI6IGNoYXJBICsgZnJhbWUuc3RyLnNsaWNlKDIpXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiByb290O1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgVG9rZW5TZXQgZnJvbSBhIHN0cmluZy5cbiAqXG4gKiBUaGUgc3RyaW5nIG1heSBjb250YWluIG9uZSBvciBtb3JlIHdpbGRjYXJkIGNoYXJhY3RlcnMgKCopXG4gKiB0aGF0IHdpbGwgYWxsb3cgd2lsZGNhcmQgbWF0Y2hpbmcgd2hlbiBpbnRlcnNlY3Rpbmcgd2l0aFxuICogYW5vdGhlciBUb2tlblNldC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIC0gVGhlIHN0cmluZyB0byBjcmVhdGUgYSBUb2tlblNldCBmcm9tLlxuICogQHJldHVybnMge2x1bnIuVG9rZW5TZXR9XG4gKi9cbmx1bnIuVG9rZW5TZXQuZnJvbVN0cmluZyA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgdmFyIG5vZGUgPSBuZXcgbHVuci5Ub2tlblNldCgpLFxuICAgICAgcm9vdCA9IG5vZGUsXG4gICAgICB3aWxkY2FyZEZvdW5kID0gZmFsc2U7XG5cbiAgLypcbiAgICogSXRlcmF0ZXMgdGhyb3VnaCBhbGwgY2hhcmFjdGVycyB3aXRoaW4gdGhlIHBhc3NlZCBzdHJpbmdcbiAgICogYXBwZW5kaW5nIGEgbm9kZSBmb3IgZWFjaCBjaGFyYWN0ZXIuXG4gICAqXG4gICAqIEFzIHNvb24gYXMgYSB3aWxkY2FyZCBjaGFyYWN0ZXIgaXMgZm91bmQgdGhlbiBhIHNlbGZcbiAgICogcmVmZXJlbmNpbmcgZWRnZSBpcyBpbnRyb2R1Y2VkIHRvIGNvbnRpbnVhbGx5IG1hdGNoXG4gICAqIGFueSBudW1iZXIgb2YgYW55IGNoYXJhY3RlcnMuXG4gICAqL1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0gc3RyLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgdmFyIGNoYXIgPSBzdHJbaV0sXG4gICAgICAgIGZpbmFsID0gKGkgPT0gbGVuIC0gMSk7XG5cbiAgICBpZiAoY2hhciA9PSBcIipcIikge1xuICAgICAgd2lsZGNhcmRGb3VuZCA9IHRydWU7XG4gICAgICBub2RlLmVkZ2VzW2NoYXJdID0gbm9kZTtcbiAgICAgIG5vZGUuZmluYWwgPSBmaW5hbDtcblxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgbmV4dCA9IG5ldyBsdW5yLlRva2VuU2V0KCk7XG4gICAgICBuZXh0LmZpbmFsID0gZmluYWw7XG5cbiAgICAgIG5vZGUuZWRnZXNbY2hhcl0gPSBuZXh0O1xuICAgICAgbm9kZSA9IG5leHQ7XG5cbiAgICAgIC8vIFRPRE86IGlzIHRoaXMgbmVlZGVkIGFueW1vcmU/XG4gICAgICBpZiAod2lsZGNhcmRGb3VuZCkge1xuICAgICAgICBub2RlLmVkZ2VzW1wiKlwiXSA9IHJvb3Q7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJvb3Q7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIHRoaXMgVG9rZW5TZXQgaW50byBhbiBhcnJheSBvZiBzdHJpbmdzXG4gKiBjb250YWluZWQgd2l0aGluIHRoZSBUb2tlblNldC5cbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nW119XG4gKi9cbmx1bnIuVG9rZW5TZXQucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB3b3JkcyA9IFtdO1xuXG4gIHZhciBzdGFjayA9IFt7XG4gICAgcHJlZml4OiBcIlwiLFxuICAgIG5vZGU6IHRoaXNcbiAgfV07XG5cbiAgd2hpbGUgKHN0YWNrLmxlbmd0aCkge1xuICAgIHZhciBmcmFtZSA9IHN0YWNrLnBvcCgpLFxuICAgICAgICBlZGdlcyA9IE9iamVjdC5rZXlzKGZyYW1lLm5vZGUuZWRnZXMpLFxuICAgICAgICBsZW4gPSBlZGdlcy5sZW5ndGg7XG5cbiAgICBpZiAoZnJhbWUubm9kZS5maW5hbCkge1xuICAgICAgd29yZHMucHVzaChmcmFtZS5wcmVmaXgpO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHZhciBlZGdlID0gZWRnZXNbaV07XG5cbiAgICAgIHN0YWNrLnB1c2goe1xuICAgICAgICBwcmVmaXg6IGZyYW1lLnByZWZpeC5jb25jYXQoZWRnZSksXG4gICAgICAgIG5vZGU6IGZyYW1lLm5vZGUuZWRnZXNbZWRnZV1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB3b3Jkcztcbn07XG5cbi8qKlxuICogR2VuZXJhdGVzIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgVG9rZW5TZXQuXG4gKlxuICogVGhpcyBpcyBpbnRlbmRlZCB0byBhbGxvdyBUb2tlblNldHMgdG8gYmUgdXNlZCBhcyBrZXlzXG4gKiBpbiBvYmplY3RzLCBsYXJnZWx5IHRvIGFpZCB0aGUgY29uc3RydWN0aW9uIGFuZCBtaW5pbWlzYXRpb25cbiAqIG9mIGEgVG9rZW5TZXQuIEFzIHN1Y2ggaXQgaXMgbm90IGRlc2lnbmVkIHRvIGJlIGEgaHVtYW5cbiAqIGZyaWVuZGx5IHJlcHJlc2VudGF0aW9uIG9mIHRoZSBUb2tlblNldC5cbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5sdW5yLlRva2VuU2V0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gTk9URTogVXNpbmcgT2JqZWN0LmtleXMgaGVyZSBhcyB0aGlzLmVkZ2VzIGlzIHZlcnkgbGlrZWx5XG4gIC8vIHRvIGVudGVyICdoYXNoLW1vZGUnIHdpdGggbWFueSBrZXlzIGJlaW5nIGFkZGVkXG4gIC8vXG4gIC8vIGF2b2lkaW5nIGEgZm9yLWluIGxvb3AgaGVyZSBhcyBpdCBsZWFkcyB0byB0aGUgZnVuY3Rpb25cbiAgLy8gYmVpbmcgZGUtb3B0aW1pc2VkIChhdCBsZWFzdCBpbiBWOCkuIEZyb20gc29tZSBzaW1wbGVcbiAgLy8gYmVuY2htYXJrcyB0aGUgcGVyZm9ybWFuY2UgaXMgY29tcGFyYWJsZSwgYnV0IGFsbG93aW5nXG4gIC8vIFY4IHRvIG9wdGltaXplIG1heSBtZWFuIGVhc3kgcGVyZm9ybWFuY2Ugd2lucyBpbiB0aGUgZnV0dXJlLlxuXG4gIGlmICh0aGlzLl9zdHIpIHtcbiAgICByZXR1cm4gdGhpcy5fc3RyO1xuICB9XG5cbiAgdmFyIHN0ciA9IHRoaXMuZmluYWwgPyAnMScgOiAnMCcsXG4gICAgICBsYWJlbHMgPSBPYmplY3Qua2V5cyh0aGlzLmVkZ2VzKS5zb3J0KCksXG4gICAgICBsZW4gPSBsYWJlbHMubGVuZ3RoO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIgbGFiZWwgPSBsYWJlbHNbaV0sXG4gICAgICAgIG5vZGUgPSB0aGlzLmVkZ2VzW2xhYmVsXTtcblxuICAgIHN0ciA9IHN0ciArIGxhYmVsICsgbm9kZS5pZDtcbiAgfVxuXG4gIHJldHVybiBzdHI7XG59O1xuXG4vKipcbiAqIFJldHVybnMgYSBuZXcgVG9rZW5TZXQgdGhhdCBpcyB0aGUgaW50ZXJzZWN0aW9uIG9mXG4gKiB0aGlzIFRva2VuU2V0IGFuZCB0aGUgcGFzc2VkIFRva2VuU2V0LlxuICpcbiAqIFRoaXMgaW50ZXJzZWN0aW9uIHdpbGwgdGFrZSBpbnRvIGFjY291bnQgYW55IHdpbGRjYXJkc1xuICogY29udGFpbmVkIHdpdGhpbiB0aGUgVG9rZW5TZXQuXG4gKlxuICogQHBhcmFtIHtsdW5yLlRva2VuU2V0fSBiIC0gQW4gb3RoZXIgVG9rZW5TZXQgdG8gaW50ZXJzZWN0IHdpdGguXG4gKiBAcmV0dXJucyB7bHVuci5Ub2tlblNldH1cbiAqL1xubHVuci5Ub2tlblNldC5wcm90b3R5cGUuaW50ZXJzZWN0ID0gZnVuY3Rpb24gKGIpIHtcbiAgdmFyIG91dHB1dCA9IG5ldyBsdW5yLlRva2VuU2V0KCk7XG4gIHZhciBmcmFtZTtcblxuICB2YXIgc3RhY2sgPSBbe1xuICAgIHFOb2RlOiBiLFxuICAgIG91dHB1dDogb3V0cHV0LFxuICAgIG5vZGU6IHRoaXNcbiAgfV07XG5cbiAgd2hpbGUgKHN0YWNrLmxlbmd0aCkge1xuICAgIGZyYW1lID0gc3RhY2sucG9wKCk7XG5cbiAgICAvLyBOT1RFOiBBcyB3aXRoIHRoZSAjdG9TdHJpbmcgbWV0aG9kLCB3ZSBhcmUgdXNpbmdcbiAgICAvLyBPYmplY3Qua2V5cyBhbmQgYSBmb3IgbG9vcCBpbnN0ZWFkIG9mIGEgZm9yLWluIGxvb3BcbiAgICAvLyBhcyBib3RoIG9mIHRoZXNlIG9iamVjdHMgZW50ZXIgJ2hhc2gnIG1vZGUsIGNhdXNpbmdcbiAgICAvLyB0aGUgZnVuY3Rpb24gdG8gYmUgZGUtb3B0aW1pc2VkIGluIFY4XG4gICAgdmFyIHFFZGdlcyA9IE9iamVjdC5rZXlzKGZyYW1lLnFOb2RlLmVkZ2VzKSxcbiAgICAgICAgcUxlbiA9IHFFZGdlcy5sZW5ndGgsXG4gICAgICAgIG5FZGdlcyA9IE9iamVjdC5rZXlzKGZyYW1lLm5vZGUuZWRnZXMpLFxuICAgICAgICBuTGVuID0gbkVkZ2VzLmxlbmd0aDtcblxuICAgIGZvciAodmFyIHEgPSAwOyBxIDwgcUxlbjsgcSsrKSB7XG4gICAgICB2YXIgcUVkZ2UgPSBxRWRnZXNbcV07XG5cbiAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgbkxlbjsgbisrKSB7XG4gICAgICAgIHZhciBuRWRnZSA9IG5FZGdlc1tuXTtcblxuICAgICAgICBpZiAobkVkZ2UgPT0gcUVkZ2UgfHwgcUVkZ2UgPT0gJyonKSB7XG4gICAgICAgICAgdmFyIG5vZGUgPSBmcmFtZS5ub2RlLmVkZ2VzW25FZGdlXSxcbiAgICAgICAgICAgICAgcU5vZGUgPSBmcmFtZS5xTm9kZS5lZGdlc1txRWRnZV0sXG4gICAgICAgICAgICAgIGZpbmFsID0gbm9kZS5maW5hbCAmJiBxTm9kZS5maW5hbCxcbiAgICAgICAgICAgICAgbmV4dDtcblxuICAgICAgICAgIGlmIChuRWRnZSBpbiBmcmFtZS5vdXRwdXQuZWRnZXMpIHtcbiAgICAgICAgICAgIC8vIGFuIGVkZ2UgYWxyZWFkeSBleGlzdHMgZm9yIHRoaXMgY2hhcmFjdGVyXG4gICAgICAgICAgICAvLyBubyBuZWVkIHRvIGNyZWF0ZSBhIG5ldyBub2RlLCBqdXN0IHNldCB0aGUgZmluYWxpdHlcbiAgICAgICAgICAgIC8vIGJpdCB1bmxlc3MgdGhpcyBub2RlIGlzIGFscmVhZHkgZmluYWxcbiAgICAgICAgICAgIG5leHQgPSBmcmFtZS5vdXRwdXQuZWRnZXNbbkVkZ2VdO1xuICAgICAgICAgICAgbmV4dC5maW5hbCA9IG5leHQuZmluYWwgfHwgZmluYWw7XG5cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gbm8gZWRnZSBleGlzdHMgeWV0LCBtdXN0IGNyZWF0ZSBvbmVcbiAgICAgICAgICAgIC8vIHNldCB0aGUgZmluYWxpdHkgYml0IGFuZCBpbnNlcnQgaXRcbiAgICAgICAgICAgIC8vIGludG8gdGhlIG91dHB1dFxuICAgICAgICAgICAgbmV4dCA9IG5ldyBsdW5yLlRva2VuU2V0KCk7XG4gICAgICAgICAgICBuZXh0LmZpbmFsID0gZmluYWw7XG4gICAgICAgICAgICBmcmFtZS5vdXRwdXQuZWRnZXNbbkVkZ2VdID0gbmV4dDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzdGFjay5wdXNoKHtcbiAgICAgICAgICAgIHFOb2RlOiBxTm9kZSxcbiAgICAgICAgICAgIG91dHB1dDogbmV4dCxcbiAgICAgICAgICAgIG5vZGU6IG5vZGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvdXRwdXQ7XG59O1xubHVuci5Ub2tlblNldC5CdWlsZGVyID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLnByZXZpb3VzV29yZCA9IFwiXCI7XG4gIHRoaXMucm9vdCA9IG5ldyBsdW5yLlRva2VuU2V0KCk7XG4gIHRoaXMudW5jaGVja2VkTm9kZXMgPSBbXTtcbiAgdGhpcy5taW5pbWl6ZWROb2RlcyA9IHt9O1xufTtcblxubHVuci5Ub2tlblNldC5CdWlsZGVyLnByb3RvdHlwZS5pbnNlcnQgPSBmdW5jdGlvbiAod29yZCkge1xuICB2YXIgbm9kZSxcbiAgICAgIGNvbW1vblByZWZpeCA9IDA7XG5cbiAgaWYgKHdvcmQgPCB0aGlzLnByZXZpb3VzV29yZCkge1xuICAgIHRocm93IG5ldyBFcnJvciAoXCJPdXQgb2Ygb3JkZXIgd29yZCBpbnNlcnRpb25cIik7XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHdvcmQubGVuZ3RoICYmIGkgPCB0aGlzLnByZXZpb3VzV29yZC5sZW5ndGg7IGkrKykge1xuICAgIGlmICh3b3JkW2ldICE9IHRoaXMucHJldmlvdXNXb3JkW2ldKSBicmVhaztcbiAgICBjb21tb25QcmVmaXgrKztcbiAgfVxuXG4gIHRoaXMubWluaW1pemUoY29tbW9uUHJlZml4KTtcblxuICBpZiAodGhpcy51bmNoZWNrZWROb2Rlcy5sZW5ndGggPT09IDApIHtcbiAgICBub2RlID0gdGhpcy5yb290O1xuICB9IGVsc2Uge1xuICAgIG5vZGUgPSB0aGlzLnVuY2hlY2tlZE5vZGVzW3RoaXMudW5jaGVja2VkTm9kZXMubGVuZ3RoIC0gMV0uY2hpbGQ7XG4gIH1cblxuICBmb3IgKHZhciBqID0gY29tbW9uUHJlZml4OyBqIDwgd29yZC5sZW5ndGg7IGorKykge1xuICAgIHZhciBuZXh0Tm9kZSA9IG5ldyBsdW5yLlRva2VuU2V0KCksXG4gICAgICAgIGNoYXIgPSB3b3JkW2pdO1xuXG4gICAgbm9kZS5lZGdlc1tjaGFyXSA9IG5leHROb2RlO1xuXG4gICAgdGhpcy51bmNoZWNrZWROb2Rlcy5wdXNoKHtcbiAgICAgIHBhcmVudDogbm9kZSxcbiAgICAgIGNoYXI6IGNoYXIsXG4gICAgICBjaGlsZDogbmV4dE5vZGVcbiAgICB9KTtcblxuICAgIG5vZGUgPSBuZXh0Tm9kZTtcbiAgfVxuXG4gIG5vZGUuZmluYWwgPSB0cnVlO1xuICB0aGlzLnByZXZpb3VzV29yZCA9IHdvcmQ7XG59O1xuXG5sdW5yLlRva2VuU2V0LkJ1aWxkZXIucHJvdG90eXBlLmZpbmlzaCA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5taW5pbWl6ZSgwKTtcbn07XG5cbmx1bnIuVG9rZW5TZXQuQnVpbGRlci5wcm90b3R5cGUubWluaW1pemUgPSBmdW5jdGlvbiAoZG93blRvKSB7XG4gIGZvciAodmFyIGkgPSB0aGlzLnVuY2hlY2tlZE5vZGVzLmxlbmd0aCAtIDE7IGkgPj0gZG93blRvOyBpLS0pIHtcbiAgICB2YXIgbm9kZSA9IHRoaXMudW5jaGVja2VkTm9kZXNbaV0sXG4gICAgICAgIGNoaWxkS2V5ID0gbm9kZS5jaGlsZC50b1N0cmluZygpO1xuXG4gICAgaWYgKGNoaWxkS2V5IGluIHRoaXMubWluaW1pemVkTm9kZXMpIHtcbiAgICAgIG5vZGUucGFyZW50LmVkZ2VzW25vZGUuY2hhcl0gPSB0aGlzLm1pbmltaXplZE5vZGVzW2NoaWxkS2V5XTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ2FjaGUgdGhlIGtleSBmb3IgdGhpcyBub2RlIHNpbmNlXG4gICAgICAvLyB3ZSBrbm93IGl0IGNhbid0IGNoYW5nZSBhbnltb3JlXG4gICAgICBub2RlLmNoaWxkLl9zdHIgPSBjaGlsZEtleTtcblxuICAgICAgdGhpcy5taW5pbWl6ZWROb2Rlc1tjaGlsZEtleV0gPSBub2RlLmNoaWxkO1xuICAgIH1cblxuICAgIHRoaXMudW5jaGVja2VkTm9kZXMucG9wKCk7XG4gIH1cbn07XG4vKiFcbiAqIGx1bnIuSW5kZXhcbiAqIENvcHlyaWdodCAoQykgMjAxNyBPbGl2ZXIgTmlnaHRpbmdhbGVcbiAqL1xuXG4vKipcbiAqIEFuIGluZGV4IGNvbnRhaW5zIHRoZSBidWlsdCBpbmRleCBvZiBhbGwgZG9jdW1lbnRzIGFuZCBwcm92aWRlcyBhIHF1ZXJ5IGludGVyZmFjZVxuICogdG8gdGhlIGluZGV4LlxuICpcbiAqIFVzdWFsbHkgaW5zdGFuY2VzIG9mIGx1bnIuSW5kZXggd2lsbCBub3QgYmUgY3JlYXRlZCB1c2luZyB0aGlzIGNvbnN0cnVjdG9yLCBpbnN0ZWFkXG4gKiBsdW5yLkJ1aWxkZXIgc2hvdWxkIGJlIHVzZWQgdG8gY29uc3RydWN0IG5ldyBpbmRleGVzLCBvciBsdW5yLkluZGV4LmxvYWQgc2hvdWxkIGJlXG4gKiB1c2VkIHRvIGxvYWQgcHJldmlvdXNseSBidWlsdCBhbmQgc2VyaWFsaXplZCBpbmRleGVzLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtPYmplY3R9IGF0dHJzIC0gVGhlIGF0dHJpYnV0ZXMgb2YgdGhlIGJ1aWx0IHNlYXJjaCBpbmRleC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBhdHRycy5pbnZlcnRlZEluZGV4IC0gQW4gaW5kZXggb2YgdGVybS9maWVsZCB0byBkb2N1bWVudCByZWZlcmVuY2UuXG4gKiBAcGFyYW0ge09iamVjdDxzdHJpbmcsIGx1bnIuVmVjdG9yPn0gYXR0cnMuZG9jdW1lbnRWZWN0b3JzIC0gRG9jdW1lbnQgdmVjdG9ycyBrZXllZCBieSBkb2N1bWVudCByZWZlcmVuY2UuXG4gKiBAcGFyYW0ge2x1bnIuVG9rZW5TZXR9IGF0dHJzLnRva2VuU2V0IC0gQW4gc2V0IG9mIGFsbCBjb3JwdXMgdG9rZW5zLlxuICogQHBhcmFtIHtzdHJpbmdbXX0gYXR0cnMuZmllbGRzIC0gVGhlIG5hbWVzIG9mIGluZGV4ZWQgZG9jdW1lbnQgZmllbGRzLlxuICogQHBhcmFtIHtsdW5yLlBpcGVsaW5lfSBhdHRycy5waXBlbGluZSAtIFRoZSBwaXBlbGluZSB0byB1c2UgZm9yIHNlYXJjaCB0ZXJtcy5cbiAqL1xubHVuci5JbmRleCA9IGZ1bmN0aW9uIChhdHRycykge1xuICB0aGlzLmludmVydGVkSW5kZXggPSBhdHRycy5pbnZlcnRlZEluZGV4O1xuICB0aGlzLmZpZWxkVmVjdG9ycyA9IGF0dHJzLmZpZWxkVmVjdG9ycztcbiAgdGhpcy50b2tlblNldCA9IGF0dHJzLnRva2VuU2V0O1xuICB0aGlzLmZpZWxkcyA9IGF0dHJzLmZpZWxkcztcbiAgdGhpcy5waXBlbGluZSA9IGF0dHJzLnBpcGVsaW5lO1xufTtcblxuLyoqXG4gKiBBIHJlc3VsdCBjb250YWlucyBkZXRhaWxzIG9mIGEgZG9jdW1lbnQgbWF0Y2hpbmcgYSBzZWFyY2ggcXVlcnkuXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBsdW5yLkluZGV4flJlc3VsdFxuICogQHByb3BlcnR5IHtzdHJpbmd9IHJlZiAtIFRoZSByZWZlcmVuY2Ugb2YgdGhlIGRvY3VtZW50IHRoaXMgcmVzdWx0IHJlcHJlc2VudHMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gc2NvcmUgLSBBIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEgcmVwcmVzZW50aW5nIGhvdyBzaW1pbGFyIHRoaXMgZG9jdW1lbnQgaXMgdG8gdGhlIHF1ZXJ5LlxuICogQHByb3BlcnR5IHtsdW5yLk1hdGNoRGF0YX0gbWF0Y2hEYXRhIC0gQ29udGFpbnMgbWV0YWRhdGEgYWJvdXQgdGhpcyBtYXRjaCBpbmNsdWRpbmcgd2hpY2ggdGVybShzKSBjYXVzZWQgdGhlIG1hdGNoLlxuICovXG5cbi8qKlxuICogQWx0aG91Z2ggbHVuciBwcm92aWRlcyB0aGUgYWJpbGl0eSB0byBjcmVhdGUgcXVlcmllcyB1c2luZyBsdW5yLlF1ZXJ5LCBpdCBhbHNvIHByb3ZpZGVzIGEgc2ltcGxlXG4gKiBxdWVyeSBsYW5ndWFnZSB3aGljaCBpdHNlbGYgaXMgcGFyc2VkIGludG8gYW4gaW5zdGFuY2Ugb2YgbHVuci5RdWVyeS5cbiAqXG4gKiBGb3IgcHJvZ3JhbW1hdGljYWxseSBidWlsZGluZyBxdWVyaWVzIGl0IGlzIGFkdmlzZWQgdG8gZGlyZWN0bHkgdXNlIGx1bnIuUXVlcnksIHRoZSBxdWVyeSBsYW5ndWFnZVxuICogaXMgYmVzdCB1c2VkIGZvciBodW1hbiBlbnRlcmVkIHRleHQgcmF0aGVyIHRoYW4gcHJvZ3JhbSBnZW5lcmF0ZWQgdGV4dC5cbiAqXG4gKiBBdCBpdHMgc2ltcGxlc3QgcXVlcmllcyBjYW4ganVzdCBiZSBhIHNpbmdsZSB0ZXJtLCBlLmcuIGBoZWxsb2AsIG11bHRpcGxlIHRlcm1zIGFyZSBhbHNvIHN1cHBvcnRlZFxuICogYW5kIHdpbGwgYmUgY29tYmluZWQgd2l0aCBPUiwgZS5nIGBoZWxsbyB3b3JsZGAgd2lsbCBtYXRjaCBkb2N1bWVudHMgdGhhdCBjb250YWluIGVpdGhlciAnaGVsbG8nXG4gKiBvciAnd29ybGQnLCB0aG91Z2ggdGhvc2UgdGhhdCBjb250YWluIGJvdGggd2lsbCByYW5rIGhpZ2hlciBpbiB0aGUgcmVzdWx0cy5cbiAqXG4gKiBXaWxkY2FyZHMgY2FuIGJlIGluY2x1ZGVkIGluIHRlcm1zIHRvIG1hdGNoIG9uZSBvciBtb3JlIHVuc3BlY2lmaWVkIGNoYXJhY3RlcnMsIHRoZXNlIHdpbGRjYXJkcyBjYW5cbiAqIGJlIGluc2VydGVkIGFueXdoZXJlIHdpdGhpbiB0aGUgdGVybSwgYW5kIG1vcmUgdGhhbiBvbmUgd2lsZGNhcmQgY2FuIGV4aXN0IGluIGEgc2luZ2xlIHRlcm0uIEFkZGluZ1xuICogd2lsZGNhcmRzIHdpbGwgaW5jcmVhc2UgdGhlIG51bWJlciBvZiBkb2N1bWVudHMgdGhhdCB3aWxsIGJlIGZvdW5kIGJ1dCBjYW4gYWxzbyBoYXZlIGEgbmVnYXRpdmVcbiAqIGltcGFjdCBvbiBxdWVyeSBwZXJmb3JtYW5jZSwgZXNwZWNpYWxseSB3aXRoIHdpbGRjYXJkcyBhdCB0aGUgYmVnaW5uaW5nIG9mIGEgdGVybS5cbiAqXG4gKiBUZXJtcyBjYW4gYmUgcmVzdHJpY3RlZCB0byBzcGVjaWZpYyBmaWVsZHMsIGUuZy4gYHRpdGxlOmhlbGxvYCwgb25seSBkb2N1bWVudHMgd2l0aCB0aGUgdGVybVxuICogaGVsbG8gaW4gdGhlIHRpdGxlIGZpZWxkIHdpbGwgbWF0Y2ggdGhpcyBxdWVyeS4gVXNpbmcgYSBmaWVsZCBub3QgcHJlc2VudCBpbiB0aGUgaW5kZXggd2lsbCBsZWFkXG4gKiB0byBhbiBlcnJvciBiZWluZyB0aHJvd24uXG4gKlxuICogTW9kaWZpZXJzIGNhbiBhbHNvIGJlIGFkZGVkIHRvIHRlcm1zLCBsdW5yIHN1cHBvcnRzIGVkaXQgZGlzdGFuY2UgYW5kIGJvb3N0IG1vZGlmaWVycyBvbiB0ZXJtcy4gQSB0ZXJtXG4gKiBib29zdCB3aWxsIG1ha2UgZG9jdW1lbnRzIG1hdGNoaW5nIHRoYXQgdGVybSBzY29yZSBoaWdoZXIsIGUuZy4gYGZvb141YC4gRWRpdCBkaXN0YW5jZSBpcyBhbHNvIHN1cHBvcnRlZFxuICogdG8gcHJvdmlkZSBmdXp6eSBtYXRjaGluZywgZS5nLiAnaGVsbG9+Micgd2lsbCBtYXRjaCBkb2N1bWVudHMgd2l0aCBoZWxsbyB3aXRoIGFuIGVkaXQgZGlzdGFuY2Ugb2YgMi5cbiAqIEF2b2lkIGxhcmdlIHZhbHVlcyBmb3IgZWRpdCBkaXN0YW5jZSB0byBpbXByb3ZlIHF1ZXJ5IHBlcmZvcm1hbmNlLlxuICpcbiAqIFRvIGVzY2FwZSBzcGVjaWFsIGNoYXJhY3RlcnMgdGhlIGJhY2tzbGFzaCBjaGFyYWN0ZXIgJ1xcJyBjYW4gYmUgdXNlZCwgdGhpcyBhbGxvd3Mgc2VhcmNoZXMgdG8gaW5jbHVkZVxuICogY2hhcmFjdGVycyB0aGF0IHdvdWxkIG5vcm1hbGx5IGJlIGNvbnNpZGVyZWQgbW9kaWZpZXJzLCBlLmcuIGBmb29cXH4yYCB3aWxsIHNlYXJjaCBmb3IgYSB0ZXJtIFwiZm9vfjJcIiBpbnN0ZWFkXG4gKiBvZiBhdHRlbXB0aW5nIHRvIGFwcGx5IGEgYm9vc3Qgb2YgMiB0byB0aGUgc2VhcmNoIHRlcm0gXCJmb29cIi5cbiAqXG4gKiBAdHlwZWRlZiB7c3RyaW5nfSBsdW5yLkluZGV4flF1ZXJ5U3RyaW5nXG4gKiBAZXhhbXBsZSA8Y2FwdGlvbj5TaW1wbGUgc2luZ2xlIHRlcm0gcXVlcnk8L2NhcHRpb24+XG4gKiBoZWxsb1xuICogQGV4YW1wbGUgPGNhcHRpb24+TXVsdGlwbGUgdGVybSBxdWVyeTwvY2FwdGlvbj5cbiAqIGhlbGxvIHdvcmxkXG4gKiBAZXhhbXBsZSA8Y2FwdGlvbj50ZXJtIHNjb3BlZCB0byBhIGZpZWxkPC9jYXB0aW9uPlxuICogdGl0bGU6aGVsbG9cbiAqIEBleGFtcGxlIDxjYXB0aW9uPnRlcm0gd2l0aCBhIGJvb3N0IG9mIDEwPC9jYXB0aW9uPlxuICogaGVsbG9eMTBcbiAqIEBleGFtcGxlIDxjYXB0aW9uPnRlcm0gd2l0aCBhbiBlZGl0IGRpc3RhbmNlIG9mIDI8L2NhcHRpb24+XG4gKiBoZWxsb34yXG4gKi9cblxuLyoqXG4gKiBQZXJmb3JtcyBhIHNlYXJjaCBhZ2FpbnN0IHRoZSBpbmRleCB1c2luZyBsdW5yIHF1ZXJ5IHN5bnRheC5cbiAqXG4gKiBSZXN1bHRzIHdpbGwgYmUgcmV0dXJuZWQgc29ydGVkIGJ5IHRoZWlyIHNjb3JlLCB0aGUgbW9zdCByZWxldmFudCByZXN1bHRzXG4gKiB3aWxsIGJlIHJldHVybmVkIGZpcnN0LlxuICpcbiAqIEZvciBtb3JlIHByb2dyYW1tYXRpYyBxdWVyeWluZyB1c2UgbHVuci5JbmRleCNxdWVyeS5cbiAqXG4gKiBAcGFyYW0ge2x1bnIuSW5kZXh+UXVlcnlTdHJpbmd9IHF1ZXJ5U3RyaW5nIC0gQSBzdHJpbmcgY29udGFpbmluZyBhIGx1bnIgcXVlcnkuXG4gKiBAdGhyb3dzIHtsdW5yLlF1ZXJ5UGFyc2VFcnJvcn0gSWYgdGhlIHBhc3NlZCBxdWVyeSBzdHJpbmcgY2Fubm90IGJlIHBhcnNlZC5cbiAqIEByZXR1cm5zIHtsdW5yLkluZGV4flJlc3VsdFtdfVxuICovXG5sdW5yLkluZGV4LnByb3RvdHlwZS5zZWFyY2ggPSBmdW5jdGlvbiAocXVlcnlTdHJpbmcpIHtcbiAgcmV0dXJuIHRoaXMucXVlcnkoZnVuY3Rpb24gKHF1ZXJ5KSB7XG4gICAgdmFyIHBhcnNlciA9IG5ldyBsdW5yLlF1ZXJ5UGFyc2VyKHF1ZXJ5U3RyaW5nLCBxdWVyeSk7XG4gICAgcGFyc2VyLnBhcnNlKCk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBBIHF1ZXJ5IGJ1aWxkZXIgY2FsbGJhY2sgcHJvdmlkZXMgYSBxdWVyeSBvYmplY3QgdG8gYmUgdXNlZCB0byBleHByZXNzXG4gKiB0aGUgcXVlcnkgdG8gcGVyZm9ybSBvbiB0aGUgaW5kZXguXG4gKlxuICogQGNhbGxiYWNrIGx1bnIuSW5kZXh+cXVlcnlCdWlsZGVyXG4gKiBAcGFyYW0ge2x1bnIuUXVlcnl9IHF1ZXJ5IC0gVGhlIHF1ZXJ5IG9iamVjdCB0byBidWlsZCB1cC5cbiAqIEB0aGlzIGx1bnIuUXVlcnlcbiAqL1xuXG4vKipcbiAqIFBlcmZvcm1zIGEgcXVlcnkgYWdhaW5zdCB0aGUgaW5kZXggdXNpbmcgdGhlIHlpZWxkZWQgbHVuci5RdWVyeSBvYmplY3QuXG4gKlxuICogSWYgcGVyZm9ybWluZyBwcm9ncmFtbWF0aWMgcXVlcmllcyBhZ2FpbnN0IHRoZSBpbmRleCwgdGhpcyBtZXRob2QgaXMgcHJlZmVycmVkXG4gKiBvdmVyIGx1bnIuSW5kZXgjc2VhcmNoIHNvIGFzIHRvIGF2b2lkIHRoZSBhZGRpdGlvbmFsIHF1ZXJ5IHBhcnNpbmcgb3ZlcmhlYWQuXG4gKlxuICogQSBxdWVyeSBvYmplY3QgaXMgeWllbGRlZCB0byB0aGUgc3VwcGxpZWQgZnVuY3Rpb24gd2hpY2ggc2hvdWxkIGJlIHVzZWQgdG9cbiAqIGV4cHJlc3MgdGhlIHF1ZXJ5IHRvIGJlIHJ1biBhZ2FpbnN0IHRoZSBpbmRleC5cbiAqXG4gKiBOb3RlIHRoYXQgYWx0aG91Z2ggdGhpcyBmdW5jdGlvbiB0YWtlcyBhIGNhbGxiYWNrIHBhcmFtZXRlciBpdCBpcyBfbm90XyBhblxuICogYXN5bmNocm9ub3VzIG9wZXJhdGlvbiwgdGhlIGNhbGxiYWNrIGlzIGp1c3QgeWllbGRlZCBhIHF1ZXJ5IG9iamVjdCB0byBiZVxuICogY3VzdG9taXplZC5cbiAqXG4gKiBAcGFyYW0ge2x1bnIuSW5kZXh+cXVlcnlCdWlsZGVyfSBmbiAtIEEgZnVuY3Rpb24gdGhhdCBpcyB1c2VkIHRvIGJ1aWxkIHRoZSBxdWVyeS5cbiAqIEByZXR1cm5zIHtsdW5yLkluZGV4flJlc3VsdFtdfVxuICovXG5sdW5yLkluZGV4LnByb3RvdHlwZS5xdWVyeSA9IGZ1bmN0aW9uIChmbikge1xuICAvLyBmb3IgZWFjaCBxdWVyeSBjbGF1c2VcbiAgLy8gKiBwcm9jZXNzIHRlcm1zXG4gIC8vICogZXhwYW5kIHRlcm1zIGZyb20gdG9rZW4gc2V0XG4gIC8vICogZmluZCBtYXRjaGluZyBkb2N1bWVudHMgYW5kIG1ldGFkYXRhXG4gIC8vICogZ2V0IGRvY3VtZW50IHZlY3RvcnNcbiAgLy8gKiBzY29yZSBkb2N1bWVudHNcblxuICB2YXIgcXVlcnkgPSBuZXcgbHVuci5RdWVyeSh0aGlzLmZpZWxkcyksXG4gICAgICBtYXRjaGluZ0ZpZWxkcyA9IE9iamVjdC5jcmVhdGUobnVsbCksXG4gICAgICBxdWVyeVZlY3RvcnMgPSBPYmplY3QuY3JlYXRlKG51bGwpLFxuICAgICAgdGVybUZpZWxkQ2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gIGZuLmNhbGwocXVlcnksIHF1ZXJ5KTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHF1ZXJ5LmNsYXVzZXMubGVuZ3RoOyBpKyspIHtcbiAgICAvKlxuICAgICAqIFVubGVzcyB0aGUgcGlwZWxpbmUgaGFzIGJlZW4gZGlzYWJsZWQgZm9yIHRoaXMgdGVybSwgd2hpY2ggaXNcbiAgICAgKiB0aGUgY2FzZSBmb3IgdGVybXMgd2l0aCB3aWxkY2FyZHMsIHdlIG5lZWQgdG8gcGFzcyB0aGUgY2xhdXNlXG4gICAgICogdGVybSB0aHJvdWdoIHRoZSBzZWFyY2ggcGlwZWxpbmUuIEEgcGlwZWxpbmUgcmV0dXJucyBhbiBhcnJheVxuICAgICAqIG9mIHByb2Nlc3NlZCB0ZXJtcy4gUGlwZWxpbmUgZnVuY3Rpb25zIG1heSBleHBhbmQgdGhlIHBhc3NlZFxuICAgICAqIHRlcm0sIHdoaWNoIG1lYW5zIHdlIG1heSBlbmQgdXAgcGVyZm9ybWluZyBtdWx0aXBsZSBpbmRleCBsb29rdXBzXG4gICAgICogZm9yIGEgc2luZ2xlIHF1ZXJ5IHRlcm0uXG4gICAgICovXG4gICAgdmFyIGNsYXVzZSA9IHF1ZXJ5LmNsYXVzZXNbaV0sXG4gICAgICAgIHRlcm1zID0gbnVsbDtcblxuICAgIGlmIChjbGF1c2UudXNlUGlwZWxpbmUpIHtcbiAgICAgIHRlcm1zID0gdGhpcy5waXBlbGluZS5ydW5TdHJpbmcoY2xhdXNlLnRlcm0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0ZXJtcyA9IFtjbGF1c2UudGVybV07XG4gICAgfVxuXG4gICAgZm9yICh2YXIgbSA9IDA7IG0gPCB0ZXJtcy5sZW5ndGg7IG0rKykge1xuICAgICAgdmFyIHRlcm0gPSB0ZXJtc1ttXTtcblxuICAgICAgLypcbiAgICAgICAqIEVhY2ggdGVybSByZXR1cm5lZCBmcm9tIHRoZSBwaXBlbGluZSBuZWVkcyB0byB1c2UgdGhlIHNhbWUgcXVlcnlcbiAgICAgICAqIGNsYXVzZSBvYmplY3QsIGUuZy4gdGhlIHNhbWUgYm9vc3QgYW5kIG9yIGVkaXQgZGlzdGFuY2UuIFRoZVxuICAgICAgICogc2ltcGxlc3Qgd2F5IHRvIGRvIHRoaXMgaXMgdG8gcmUtdXNlIHRoZSBjbGF1c2Ugb2JqZWN0IGJ1dCBtdXRhdGVcbiAgICAgICAqIGl0cyB0ZXJtIHByb3BlcnR5LlxuICAgICAgICovXG5cbiAgICAgIGNsYXVzZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoY2xhdXNlKSk7XG4gICAgICBjbGF1c2UudGVybSA9IHRlcm07XG5cbiAgICAgIC8qXG4gICAgICAgKiBGcm9tIHRoZSB0ZXJtIGluIHRoZSBjbGF1c2Ugd2UgY3JlYXRlIGEgdG9rZW4gc2V0IHdoaWNoIHdpbGwgdGhlblxuICAgICAgICogYmUgdXNlZCB0byBpbnRlcnNlY3QgdGhlIGluZGV4ZXMgdG9rZW4gc2V0IHRvIGdldCBhIGxpc3Qgb2YgdGVybXNcbiAgICAgICAqIHRvIGxvb2t1cCBpbiB0aGUgaW52ZXJ0ZWQgaW5kZXhcbiAgICAgICAqL1xuICAgICAgdmFyIHRlcm1Ub2tlblNldCA9IGx1bnIuVG9rZW5TZXQuZnJvbUNsYXVzZShjbGF1c2UpLFxuICAgICAgICAgIGV4cGFuZGVkVGVybXMgPSB0aGlzLnRva2VuU2V0LmludGVyc2VjdCh0ZXJtVG9rZW5TZXQpLnRvQXJyYXkoKTtcblxuICAgICAgdmFyIHRlcm1JbmRleDtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZXhwYW5kZWRUZXJtcy5sZW5ndGg7IGorKykge1xuICAgICAgICAvKlxuICAgICAgICAgKiBGb3IgZWFjaCB0ZXJtIGdldCB0aGUgcG9zdGluZyBhbmQgdGVybUluZGV4LCB0aGlzIGlzIHJlcXVpcmVkIGZvclxuICAgICAgICAgKiBidWlsZGluZyB0aGUgcXVlcnkgdmVjdG9yLlxuICAgICAgICAgKi9cbiAgICAgICAgICB2YXIgZXhwYW5kZWRUZXJtID0gZXhwYW5kZWRUZXJtc1tqXTtcbiAgICAgICAgICB2YXIgcG9zdGluZyA9IHRoaXMuaW52ZXJ0ZWRJbmRleFtleHBhbmRlZFRlcm1dO1xuICAgICAgICAgIGlmIChwb3N0aW5nKSB7XG4gICAgICAgICAgICAgIHRlcm1JbmRleCA9IHBvc3RpbmcuX2luZGV4O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBjbGF1c2UuZmllbGRzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgLypcbiAgICAgICAgICAgKiBGb3IgZWFjaCBmaWVsZCB0aGF0IHRoaXMgcXVlcnkgdGVybSBpcyBzY29wZWQgYnkgKGJ5IGRlZmF1bHRcbiAgICAgICAgICAgKiBhbGwgZmllbGRzIGFyZSBpbiBzY29wZSkgd2UgbmVlZCB0byBnZXQgYWxsIHRoZSBkb2N1bWVudCByZWZzXG4gICAgICAgICAgICogdGhhdCBoYXZlIHRoaXMgdGVybSBpbiB0aGF0IGZpZWxkLlxuICAgICAgICAgICAqXG4gICAgICAgICAgICogVGhlIHBvc3RpbmcgaXMgdGhlIGVudHJ5IGluIHRoZSBpbnZlcnRlZEluZGV4IGZvciB0aGUgbWF0Y2hpbmdcbiAgICAgICAgICAgKiB0ZXJtIGZyb20gYWJvdmUuXG4gICAgICAgICAgICovXG4gICAgICAgICAgdmFyIGZpZWxkID0gY2xhdXNlLmZpZWxkc1trXSxcbiAgICAgICAgICAgICAgZmllbGRQb3N0aW5nID0gcG9zdGluZ1tmaWVsZF0sXG4gICAgICAgICAgICAgIG1hdGNoaW5nRG9jdW1lbnRSZWZzID0gT2JqZWN0LmtleXMoZmllbGRQb3N0aW5nKSxcbiAgICAgICAgICAgICAgdGVybUZpZWxkID0gZXhwYW5kZWRUZXJtICsgXCIvXCIgKyBmaWVsZDtcblxuICAgICAgICAgIC8qXG4gICAgICAgICAgICogVG8gc3VwcG9ydCBmaWVsZCBsZXZlbCBib29zdHMgYSBxdWVyeSB2ZWN0b3IgaXMgY3JlYXRlZCBwZXJcbiAgICAgICAgICAgKiBmaWVsZC4gVGhpcyB2ZWN0b3IgaXMgcG9wdWxhdGVkIHVzaW5nIHRoZSB0ZXJtSW5kZXggZm91bmQgZm9yXG4gICAgICAgICAgICogdGhlIHRlcm0gYW5kIGEgdW5pdCB2YWx1ZSB3aXRoIHRoZSBhcHByb3ByaWF0ZSBib29zdCBhcHBsaWVkLlxuICAgICAgICAgICAqXG4gICAgICAgICAgICogSWYgdGhlIHF1ZXJ5IHZlY3RvciBmb3IgdGhpcyBmaWVsZCBkb2VzIG5vdCBleGlzdCB5ZXQgaXQgbmVlZHNcbiAgICAgICAgICAgKiB0byBiZSBjcmVhdGVkLlxuICAgICAgICAgICAqL1xuICAgICAgICAgIGlmIChxdWVyeVZlY3RvcnNbZmllbGRdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5VmVjdG9yc1tmaWVsZF0gPSBuZXcgbHVuci5WZWN0b3IoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvKlxuICAgICAgICAgICAqIFVzaW5nIHVwc2VydCBiZWNhdXNlIHRoZXJlIGNvdWxkIGFscmVhZHkgYmUgYW4gZW50cnkgaW4gdGhlIHZlY3RvclxuICAgICAgICAgICAqIGZvciB0aGUgdGVybSB3ZSBhcmUgd29ya2luZyB3aXRoLiBJbiB0aGF0IGNhc2Ugd2UganVzdCBhZGQgdGhlIHNjb3Jlc1xuICAgICAgICAgICAqIHRvZ2V0aGVyLlxuICAgICAgICAgICAqL1xuICAgICAgICAgIHF1ZXJ5VmVjdG9yc1tmaWVsZF0udXBzZXJ0KHRlcm1JbmRleCwgMSAqIGNsYXVzZS5ib29zdCwgZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEgKyBiOyB9KTtcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIElmIHdlJ3ZlIGFscmVhZHkgc2VlbiB0aGlzIHRlcm0sIGZpZWxkIGNvbWJvIHRoZW4gd2UndmUgYWxyZWFkeSBjb2xsZWN0ZWRcbiAgICAgICAgICAgKiB0aGUgbWF0Y2hpbmcgZG9jdW1lbnRzIGFuZCBtZXRhZGF0YSwgbm8gbmVlZCB0byBnbyB0aHJvdWdoIGFsbCB0aGF0IGFnYWluXG4gICAgICAgICAgICovXG4gICAgICAgICAgaWYgKHRlcm1GaWVsZENhY2hlW3Rlcm1GaWVsZF0pIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZvciAodmFyIGwgPSAwOyBsIDwgbWF0Y2hpbmdEb2N1bWVudFJlZnMubGVuZ3RoOyBsKyspIHtcbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgKiBBbGwgbWV0YWRhdGEgZm9yIHRoaXMgdGVybS9maWVsZC9kb2N1bWVudCB0cmlwbGVcbiAgICAgICAgICAgICAqIGFyZSB0aGVuIGV4dHJhY3RlZCBhbmQgY29sbGVjdGVkIGludG8gYW4gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIG9mIGx1bnIuTWF0Y2hEYXRhIHJlYWR5IHRvIGJlIHJldHVybmVkIGluIHRoZSBxdWVyeVxuICAgICAgICAgICAgICogcmVzdWx0c1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB2YXIgbWF0Y2hpbmdEb2N1bWVudFJlZiA9IG1hdGNoaW5nRG9jdW1lbnRSZWZzW2xdLFxuICAgICAgICAgICAgICAgIG1hdGNoaW5nRmllbGRSZWYgPSBuZXcgbHVuci5GaWVsZFJlZiAobWF0Y2hpbmdEb2N1bWVudFJlZiwgZmllbGQpLFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhID0gZmllbGRQb3N0aW5nW21hdGNoaW5nRG9jdW1lbnRSZWZdLFxuICAgICAgICAgICAgICAgIGZpZWxkTWF0Y2g7XG5cbiAgICAgICAgICAgIGlmICgoZmllbGRNYXRjaCA9IG1hdGNoaW5nRmllbGRzW21hdGNoaW5nRmllbGRSZWZdKSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIG1hdGNoaW5nRmllbGRzW21hdGNoaW5nRmllbGRSZWZdID0gbmV3IGx1bnIuTWF0Y2hEYXRhIChleHBhbmRlZFRlcm0sIGZpZWxkLCBtZXRhZGF0YSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBmaWVsZE1hdGNoLmFkZChleHBhbmRlZFRlcm0sIGZpZWxkLCBtZXRhZGF0YSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0ZXJtRmllbGRDYWNoZVt0ZXJtRmllbGRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHZhciBtYXRjaGluZ0ZpZWxkUmVmcyA9IE9iamVjdC5rZXlzKG1hdGNoaW5nRmllbGRzKSxcbiAgICAgIHJlc3VsdHMgPSBbXSxcbiAgICAgIG1hdGNoZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gIGZvciAoIGkgPSAwOyBpIDwgbWF0Y2hpbmdGaWVsZFJlZnMubGVuZ3RoOyBpKyspIHtcbiAgICAvKlxuICAgICAqIEN1cnJlbnRseSB3ZSBoYXZlIGRvY3VtZW50IGZpZWxkcyB0aGF0IG1hdGNoIHRoZSBxdWVyeSwgYnV0IHdlXG4gICAgICogbmVlZCB0byByZXR1cm4gZG9jdW1lbnRzLiBUaGUgbWF0Y2hEYXRhIGFuZCBzY29yZXMgYXJlIGNvbWJpbmVkXG4gICAgICogZnJvbSBtdWx0aXBsZSBmaWVsZHMgYmVsb25naW5nIHRvIHRoZSBzYW1lIGRvY3VtZW50LlxuICAgICAqXG4gICAgICogU2NvcmVzIGFyZSBjYWxjdWxhdGVkIGJ5IGZpZWxkLCB1c2luZyB0aGUgcXVlcnkgdmVjdG9ycyBjcmVhdGVkXG4gICAgICogYWJvdmUsIGFuZCBjb21iaW5lZCBpbnRvIGEgZmluYWwgZG9jdW1lbnQgc2NvcmUgdXNpbmcgYWRkaXRpb24uXG4gICAgICovXG4gICAgdmFyIGZpZWxkUmVmID0gbHVuci5GaWVsZFJlZi5mcm9tU3RyaW5nKG1hdGNoaW5nRmllbGRSZWZzW2ldKSxcbiAgICAgICAgZG9jUmVmID0gZmllbGRSZWYuZG9jUmVmLFxuICAgICAgICBmaWVsZFZlY3RvciA9IHRoaXMuZmllbGRWZWN0b3JzW2ZpZWxkUmVmXSxcbiAgICAgICAgc2NvcmUgPSBxdWVyeVZlY3RvcnNbZmllbGRSZWYuZmllbGROYW1lXS5zaW1pbGFyaXR5KGZpZWxkVmVjdG9yKSxcbiAgICAgICAgZG9jTWF0Y2g7XG5cbiAgICBpZiAoKGRvY01hdGNoID0gbWF0Y2hlc1tkb2NSZWZdKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBkb2NNYXRjaC5zY29yZSArPSBzY29yZTtcbiAgICAgIGRvY01hdGNoLm1hdGNoRGF0YS5jb21iaW5lKG1hdGNoaW5nRmllbGRzW2ZpZWxkUmVmXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBtYXRjaCA9IHtcbiAgICAgICAgcmVmOiBkb2NSZWYsXG4gICAgICAgIHNjb3JlOiBzY29yZSxcbiAgICAgICAgbWF0Y2hEYXRhOiBtYXRjaGluZ0ZpZWxkc1tmaWVsZFJlZl1cbiAgICAgIH07XG4gICAgICBtYXRjaGVzW2RvY1JlZl0gPSBtYXRjaDtcbiAgICAgIHJlc3VsdHMucHVzaChtYXRjaCk7XG4gICAgfVxuICB9XG5cbiAgLypcbiAgICogU29ydCB0aGUgcmVzdWx0cyBvYmplY3RzIGJ5IHNjb3JlLCBoaWdoZXN0IGZpcnN0LlxuICAgKi9cbiAgcmV0dXJuIHJlc3VsdHMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBiLnNjb3JlIC0gYS5zY29yZTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIFByZXBhcmVzIHRoZSBpbmRleCBmb3IgSlNPTiBzZXJpYWxpemF0aW9uLlxuICpcbiAqIFRoZSBzY2hlbWEgZm9yIHRoaXMgSlNPTiBibG9iIHdpbGwgYmUgZGVzY3JpYmVkIGluIGFcbiAqIHNlcGFyYXRlIEpTT04gc2NoZW1hIGZpbGUuXG4gKlxuICogQHJldHVybnMge09iamVjdH1cbiAqL1xubHVuci5JbmRleC5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICB2YXIgaW52ZXJ0ZWRJbmRleCA9IE9iamVjdC5rZXlzKHRoaXMuaW52ZXJ0ZWRJbmRleClcbiAgICAuc29ydCgpXG4gICAgLm1hcChmdW5jdGlvbiAodGVybSkge1xuICAgICAgcmV0dXJuIFt0ZXJtLCB0aGlzLmludmVydGVkSW5kZXhbdGVybV1dO1xuICAgIH0sIHRoaXMpO1xuXG4gIHZhciBmaWVsZFZlY3RvcnMgPSBPYmplY3Qua2V5cyh0aGlzLmZpZWxkVmVjdG9ycylcbiAgICAubWFwKGZ1bmN0aW9uIChyZWYpIHtcbiAgICAgIHJldHVybiBbcmVmLCB0aGlzLmZpZWxkVmVjdG9yc1tyZWZdLnRvSlNPTigpXTtcbiAgICB9LCB0aGlzKTtcblxuICByZXR1cm4ge1xuICAgIHZlcnNpb246IGx1bnIudmVyc2lvbixcbiAgICBmaWVsZHM6IHRoaXMuZmllbGRzLFxuICAgIGZpZWxkVmVjdG9yczogZmllbGRWZWN0b3JzLFxuICAgIGludmVydGVkSW5kZXg6IGludmVydGVkSW5kZXgsXG4gICAgcGlwZWxpbmU6IHRoaXMucGlwZWxpbmUudG9KU09OKClcbiAgfTtcbn07XG5cbi8qKlxuICogTG9hZHMgYSBwcmV2aW91c2x5IHNlcmlhbGl6ZWQgbHVuci5JbmRleFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBzZXJpYWxpemVkSW5kZXggLSBBIHByZXZpb3VzbHkgc2VyaWFsaXplZCBsdW5yLkluZGV4XG4gKiBAcmV0dXJucyB7bHVuci5JbmRleH1cbiAqL1xubHVuci5JbmRleC5sb2FkID0gZnVuY3Rpb24gKHNlcmlhbGl6ZWRJbmRleCkge1xuICB2YXIgYXR0cnMgPSB7fSxcbiAgICAgIGZpZWxkVmVjdG9ycyA9IHt9LFxuICAgICAgc2VyaWFsaXplZFZlY3RvcnMgPSBzZXJpYWxpemVkSW5kZXguZmllbGRWZWN0b3JzLFxuICAgICAgaW52ZXJ0ZWRJbmRleCA9IHt9LFxuICAgICAgc2VyaWFsaXplZEludmVydGVkSW5kZXggPSBzZXJpYWxpemVkSW5kZXguaW52ZXJ0ZWRJbmRleCxcbiAgICAgIHRva2VuU2V0QnVpbGRlciA9IG5ldyBsdW5yLlRva2VuU2V0LkJ1aWxkZXIoKSxcbiAgICAgIHBpcGVsaW5lID0gbHVuci5QaXBlbGluZS5sb2FkKHNlcmlhbGl6ZWRJbmRleC5waXBlbGluZSk7XG5cbiAgaWYgKHNlcmlhbGl6ZWRJbmRleC52ZXJzaW9uICE9IGx1bnIudmVyc2lvbikge1xuICAgIGx1bnIudXRpbHMud2FybihcIlZlcnNpb24gbWlzbWF0Y2ggd2hlbiBsb2FkaW5nIHNlcmlhbGlzZWQgaW5kZXguIEN1cnJlbnQgdmVyc2lvbiBvZiBsdW5yICdcIiArIGx1bnIudmVyc2lvbiArIFwiJyBkb2VzIG5vdCBtYXRjaCBzZXJpYWxpemVkIGluZGV4ICdcIiArIHNlcmlhbGl6ZWRJbmRleC52ZXJzaW9uICsgXCInXCIpO1xuICB9XG5cbiAgdmFyIHR1cGxlO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHNlcmlhbGl6ZWRWZWN0b3JzLmxlbmd0aDsgaSsrKSB7XG4gICAgdHVwbGUgPSBzZXJpYWxpemVkVmVjdG9yc1tpXTtcbiAgICByZWYgPSB0dXBsZVswXTtcbiAgICBlbGVtZW50cyA9IHR1cGxlWzFdO1xuXG4gICAgZmllbGRWZWN0b3JzW3JlZl0gPSBuZXcgbHVuci5WZWN0b3IoZWxlbWVudHMpO1xuICB9XG5cbiAgZm9yIChpID0gMDsgaSA8IHNlcmlhbGl6ZWRJbnZlcnRlZEluZGV4Lmxlbmd0aDsgaSsrKSB7XG4gICAgdHVwbGUgPSBzZXJpYWxpemVkSW52ZXJ0ZWRJbmRleFtpXTtcbiAgICB0ZXJtID0gdHVwbGVbMF07XG4gICAgcG9zdGluZyA9IHR1cGxlWzFdO1xuXG4gICAgdG9rZW5TZXRCdWlsZGVyLmluc2VydCh0ZXJtKTtcbiAgICBpbnZlcnRlZEluZGV4W3Rlcm1dID0gcG9zdGluZztcbiAgfVxuXG4gIHRva2VuU2V0QnVpbGRlci5maW5pc2goKTtcblxuICBhdHRycy5maWVsZHMgPSBzZXJpYWxpemVkSW5kZXguZmllbGRzO1xuXG4gIGF0dHJzLmZpZWxkVmVjdG9ycyA9IGZpZWxkVmVjdG9ycztcbiAgYXR0cnMuaW52ZXJ0ZWRJbmRleCA9IGludmVydGVkSW5kZXg7XG4gIGF0dHJzLnRva2VuU2V0ID0gdG9rZW5TZXRCdWlsZGVyLnJvb3Q7XG4gIGF0dHJzLnBpcGVsaW5lID0gcGlwZWxpbmU7XG5cbiAgcmV0dXJuIG5ldyBsdW5yLkluZGV4KGF0dHJzKTtcbn07XG4vKiFcbiAqIGx1bnIuQnVpbGRlclxuICogQ29weXJpZ2h0IChDKSAyMDE3IE9saXZlciBOaWdodGluZ2FsZVxuICovXG5cbi8qKlxuICogbHVuci5CdWlsZGVyIHBlcmZvcm1zIGluZGV4aW5nIG9uIGEgc2V0IG9mIGRvY3VtZW50cyBhbmRcbiAqIHJldHVybnMgaW5zdGFuY2VzIG9mIGx1bnIuSW5kZXggcmVhZHkgZm9yIHF1ZXJ5aW5nLlxuICpcbiAqIEFsbCBjb25maWd1cmF0aW9uIG9mIHRoZSBpbmRleCBpcyBkb25lIHZpYSB0aGUgYnVpbGRlciwgdGhlXG4gKiBmaWVsZHMgdG8gaW5kZXgsIHRoZSBkb2N1bWVudCByZWZlcmVuY2UsIHRoZSB0ZXh0IHByb2Nlc3NpbmdcbiAqIHBpcGVsaW5lIGFuZCBkb2N1bWVudCBzY29yaW5nIHBhcmFtZXRlcnMgYXJlIGFsbCBzZXQgb24gdGhlXG4gKiBidWlsZGVyIGJlZm9yZSBpbmRleGluZy5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBfcmVmIC0gSW50ZXJuYWwgcmVmZXJlbmNlIHRvIHRoZSBkb2N1bWVudCByZWZlcmVuY2UgZmllbGQuXG4gKiBAcHJvcGVydHkge3N0cmluZ1tdfSBfZmllbGRzIC0gSW50ZXJuYWwgcmVmZXJlbmNlIHRvIHRoZSBkb2N1bWVudCBmaWVsZHMgdG8gaW5kZXguXG4gKiBAcHJvcGVydHkge29iamVjdH0gaW52ZXJ0ZWRJbmRleCAtIFRoZSBpbnZlcnRlZCBpbmRleCBtYXBzIHRlcm1zIHRvIGRvY3VtZW50IGZpZWxkcy5cbiAqIEBwcm9wZXJ0eSB7b2JqZWN0fSBkb2N1bWVudFRlcm1GcmVxdWVuY2llcyAtIEtlZXBzIHRyYWNrIG9mIGRvY3VtZW50IHRlcm0gZnJlcXVlbmNpZXMuXG4gKiBAcHJvcGVydHkge29iamVjdH0gZG9jdW1lbnRMZW5ndGhzIC0gS2VlcHMgdHJhY2sgb2YgdGhlIGxlbmd0aCBvZiBkb2N1bWVudHMgYWRkZWQgdG8gdGhlIGluZGV4LlxuICogQHByb3BlcnR5IHtsdW5yLnRva2VuaXplcn0gdG9rZW5pemVyIC0gRnVuY3Rpb24gZm9yIHNwbGl0dGluZyBzdHJpbmdzIGludG8gdG9rZW5zIGZvciBpbmRleGluZy5cbiAqIEBwcm9wZXJ0eSB7bHVuci5QaXBlbGluZX0gcGlwZWxpbmUgLSBUaGUgcGlwZWxpbmUgcGVyZm9ybXMgdGV4dCBwcm9jZXNzaW5nIG9uIHRva2VucyBiZWZvcmUgaW5kZXhpbmcuXG4gKiBAcHJvcGVydHkge2x1bnIuUGlwZWxpbmV9IHNlYXJjaFBpcGVsaW5lIC0gQSBwaXBlbGluZSBmb3IgcHJvY2Vzc2luZyBzZWFyY2ggdGVybXMgYmVmb3JlIHF1ZXJ5aW5nIHRoZSBpbmRleC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkb2N1bWVudENvdW50IC0gS2VlcHMgdHJhY2sgb2YgdGhlIHRvdGFsIG51bWJlciBvZiBkb2N1bWVudHMgaW5kZXhlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBfYiAtIEEgcGFyYW1ldGVyIHRvIGNvbnRyb2wgZmllbGQgbGVuZ3RoIG5vcm1hbGl6YXRpb24sIHNldHRpbmcgdGhpcyB0byAwIGRpc2FibGVkIG5vcm1hbGl6YXRpb24sIDEgZnVsbHkgbm9ybWFsaXplcyBmaWVsZCBsZW5ndGhzLCB0aGUgZGVmYXVsdCB2YWx1ZSBpcyAwLjc1LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IF9rMSAtIEEgcGFyYW1ldGVyIHRvIGNvbnRyb2wgaG93IHF1aWNrbHkgYW4gaW5jcmVhc2UgaW4gdGVybSBmcmVxdWVuY3kgcmVzdWx0cyBpbiB0ZXJtIGZyZXF1ZW5jeSBzYXR1cmF0aW9uLCB0aGUgZGVmYXVsdCB2YWx1ZSBpcyAxLjIuXG4gKiBAcHJvcGVydHkge251bWJlcn0gdGVybUluZGV4IC0gQSBjb3VudGVyIGluY3JlbWVudGVkIGZvciBlYWNoIHVuaXF1ZSB0ZXJtLCB1c2VkIHRvIGlkZW50aWZ5IGEgdGVybXMgcG9zaXRpb24gaW4gdGhlIHZlY3RvciBzcGFjZS5cbiAqIEBwcm9wZXJ0eSB7YXJyYXl9IG1ldGFkYXRhV2hpdGVsaXN0IC0gQSBsaXN0IG9mIG1ldGFkYXRhIGtleXMgdGhhdCBoYXZlIGJlZW4gd2hpdGVsaXN0ZWQgZm9yIGVudHJ5IGluIHRoZSBpbmRleC5cbiAqL1xubHVuci5CdWlsZGVyID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLl9yZWYgPSBcImlkXCI7XG4gIHRoaXMuX2ZpZWxkcyA9IFtdO1xuICB0aGlzLmludmVydGVkSW5kZXggPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICB0aGlzLmZpZWxkVGVybUZyZXF1ZW5jaWVzID0ge307XG4gIHRoaXMuZmllbGRMZW5ndGhzID0ge307XG4gIHRoaXMudG9rZW5pemVyID0gbHVuci50b2tlbml6ZXI7XG4gIHRoaXMucGlwZWxpbmUgPSBuZXcgbHVuci5QaXBlbGluZSgpO1xuICB0aGlzLnNlYXJjaFBpcGVsaW5lID0gbmV3IGx1bnIuUGlwZWxpbmUoKTtcbiAgdGhpcy5kb2N1bWVudENvdW50ID0gMDtcbiAgdGhpcy5fYiA9IDAuNzU7XG4gIHRoaXMuX2sxID0gMS4yO1xuICB0aGlzLnRlcm1JbmRleCA9IDA7XG4gIHRoaXMubWV0YWRhdGFXaGl0ZWxpc3QgPSBbXTtcbn07XG5cbi8qKlxuICogU2V0cyB0aGUgZG9jdW1lbnQgZmllbGQgdXNlZCBhcyB0aGUgZG9jdW1lbnQgcmVmZXJlbmNlLiBFdmVyeSBkb2N1bWVudCBtdXN0IGhhdmUgdGhpcyBmaWVsZC5cbiAqIFRoZSB0eXBlIG9mIHRoaXMgZmllbGQgaW4gdGhlIGRvY3VtZW50IHNob3VsZCBiZSBhIHN0cmluZywgaWYgaXQgaXMgbm90IGEgc3RyaW5nIGl0IHdpbGwgYmVcbiAqIGNvZXJjZWQgaW50byBhIHN0cmluZyBieSBjYWxsaW5nIHRvU3RyaW5nLlxuICpcbiAqIFRoZSBkZWZhdWx0IHJlZiBpcyAnaWQnLlxuICpcbiAqIFRoZSByZWYgc2hvdWxkIF9ub3RfIGJlIGNoYW5nZWQgZHVyaW5nIGluZGV4aW5nLCBpdCBzaG91bGQgYmUgc2V0IGJlZm9yZSBhbnkgZG9jdW1lbnRzIGFyZVxuICogYWRkZWQgdG8gdGhlIGluZGV4LiBDaGFuZ2luZyBpdCBkdXJpbmcgaW5kZXhpbmcgY2FuIGxlYWQgdG8gaW5jb25zaXN0ZW50IHJlc3VsdHMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHJlZiAtIFRoZSBuYW1lIG9mIHRoZSByZWZlcmVuY2UgZmllbGQgaW4gdGhlIGRvY3VtZW50LlxuICovXG5sdW5yLkJ1aWxkZXIucHJvdG90eXBlLnJlZiA9IGZ1bmN0aW9uIChyZWYpIHtcbiAgdGhpcy5fcmVmID0gcmVmO1xufTtcblxuLyoqXG4gKiBBZGRzIGEgZmllbGQgdG8gdGhlIGxpc3Qgb2YgZG9jdW1lbnQgZmllbGRzIHRoYXQgd2lsbCBiZSBpbmRleGVkLiBFdmVyeSBkb2N1bWVudCBiZWluZ1xuICogaW5kZXhlZCBzaG91bGQgaGF2ZSB0aGlzIGZpZWxkLiBOdWxsIHZhbHVlcyBmb3IgdGhpcyBmaWVsZCBpbiBpbmRleGVkIGRvY3VtZW50cyB3aWxsXG4gKiBub3QgY2F1c2UgZXJyb3JzIGJ1dCB3aWxsIGxpbWl0IHRoZSBjaGFuY2Ugb2YgdGhhdCBkb2N1bWVudCBiZWluZyByZXRyaWV2ZWQgYnkgc2VhcmNoZXMuXG4gKlxuICogQWxsIGZpZWxkcyBzaG91bGQgYmUgYWRkZWQgYmVmb3JlIGFkZGluZyBkb2N1bWVudHMgdG8gdGhlIGluZGV4LiBBZGRpbmcgZmllbGRzIGFmdGVyXG4gKiBhIGRvY3VtZW50IGhhcyBiZWVuIGluZGV4ZWQgd2lsbCBoYXZlIG5vIGVmZmVjdCBvbiBhbHJlYWR5IGluZGV4ZWQgZG9jdW1lbnRzLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZCAtIFRoZSBuYW1lIG9mIGEgZmllbGQgdG8gaW5kZXggaW4gYWxsIGRvY3VtZW50cy5cbiAqL1xubHVuci5CdWlsZGVyLnByb3RvdHlwZS5maWVsZCA9IGZ1bmN0aW9uIChmaWVsZCkge1xuICB0aGlzLl9maWVsZHMucHVzaChmaWVsZCk7XG59O1xuXG4vKipcbiAqIEEgcGFyYW1ldGVyIHRvIHR1bmUgdGhlIGFtb3VudCBvZiBmaWVsZCBsZW5ndGggbm9ybWFsaXNhdGlvbiB0aGF0IGlzIGFwcGxpZWQgd2hlblxuICogY2FsY3VsYXRpbmcgcmVsZXZhbmNlIHNjb3Jlcy4gQSB2YWx1ZSBvZiAwIHdpbGwgY29tcGxldGVseSBkaXNhYmxlIGFueSBub3JtYWxpc2F0aW9uXG4gKiBhbmQgYSB2YWx1ZSBvZiAxIHdpbGwgZnVsbHkgbm9ybWFsaXNlIGZpZWxkIGxlbmd0aHMuIFRoZSBkZWZhdWx0IGlzIDAuNzUuIFZhbHVlcyBvZiBiXG4gKiB3aWxsIGJlIGNsYW1wZWQgdG8gdGhlIHJhbmdlIDAgLSAxLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgLSBUaGUgdmFsdWUgdG8gc2V0IGZvciB0aGlzIHR1bmluZyBwYXJhbWV0ZXIuXG4gKi9cbmx1bnIuQnVpbGRlci5wcm90b3R5cGUuYiA9IGZ1bmN0aW9uIChudW1iZXIpIHtcbiAgaWYgKG51bWJlciA8IDApIHtcbiAgICB0aGlzLl9iID0gMDtcbiAgfSBlbHNlIGlmIChudW1iZXIgPiAxKSB7XG4gICAgdGhpcy5fYiA9IDE7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fYiA9IG51bWJlcjtcbiAgfVxufTtcblxuLyoqXG4gKiBBIHBhcmFtZXRlciB0aGF0IGNvbnRyb2xzIHRoZSBzcGVlZCBhdCB3aGljaCBhIHJpc2UgaW4gdGVybSBmcmVxdWVuY3kgcmVzdWx0cyBpbiB0ZXJtXG4gKiBmcmVxdWVuY3kgc2F0dXJhdGlvbi4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgMS4yLiBTZXR0aW5nIHRoaXMgdG8gYSBoaWdoZXIgdmFsdWUgd2lsbCBnaXZlXG4gKiBzbG93ZXIgc2F0dXJhdGlvbiBsZXZlbHMsIGEgbG93ZXIgdmFsdWUgd2lsbCByZXN1bHQgaW4gcXVpY2tlciBzYXR1cmF0aW9uLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgLSBUaGUgdmFsdWUgdG8gc2V0IGZvciB0aGlzIHR1bmluZyBwYXJhbWV0ZXIuXG4gKi9cbmx1bnIuQnVpbGRlci5wcm90b3R5cGUuazEgPSBmdW5jdGlvbiAobnVtYmVyKSB7XG4gIHRoaXMuX2sxID0gbnVtYmVyO1xufTtcblxuLyoqXG4gKiBBZGRzIGEgZG9jdW1lbnQgdG8gdGhlIGluZGV4LlxuICpcbiAqIEJlZm9yZSBhZGRpbmcgZmllbGRzIHRvIHRoZSBpbmRleCB0aGUgaW5kZXggc2hvdWxkIGhhdmUgYmVlbiBmdWxseSBzZXR1cCwgd2l0aCB0aGUgZG9jdW1lbnRcbiAqIHJlZiBhbmQgYWxsIGZpZWxkcyB0byBpbmRleCBhbHJlYWR5IGhhdmluZyBiZWVuIHNwZWNpZmllZC5cbiAqXG4gKiBUaGUgZG9jdW1lbnQgbXVzdCBoYXZlIGEgZmllbGQgbmFtZSBhcyBzcGVjaWZpZWQgYnkgdGhlIHJlZiAoYnkgZGVmYXVsdCB0aGlzIGlzICdpZCcpIGFuZFxuICogaXQgc2hvdWxkIGhhdmUgYWxsIGZpZWxkcyBkZWZpbmVkIGZvciBpbmRleGluZywgdGhvdWdoIG51bGwgb3IgdW5kZWZpbmVkIHZhbHVlcyB3aWxsIG5vdFxuICogY2F1c2UgZXJyb3JzLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBkb2MgLSBUaGUgZG9jdW1lbnQgdG8gYWRkIHRvIHRoZSBpbmRleC5cbiAqL1xubHVuci5CdWlsZGVyLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoZG9jKSB7XG4gIHZhciBkb2NSZWYgPSBkb2NbdGhpcy5fcmVmXTtcblxuICB0aGlzLmRvY3VtZW50Q291bnQgKz0gMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2ZpZWxkcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBmaWVsZE5hbWUgPSB0aGlzLl9maWVsZHNbaV0sXG4gICAgICAgIGZpZWxkID0gZG9jW2ZpZWxkTmFtZV0sXG4gICAgICAgIHRva2VucyA9IHRoaXMudG9rZW5pemVyKGZpZWxkKSxcbiAgICAgICAgdGVybXMgPSB0aGlzLnBpcGVsaW5lLnJ1bih0b2tlbnMpLFxuICAgICAgICBmaWVsZFJlZiA9IG5ldyBsdW5yLkZpZWxkUmVmIChkb2NSZWYsIGZpZWxkTmFtZSksXG4gICAgICAgIGZpZWxkVGVybXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gICAgdGhpcy5maWVsZFRlcm1GcmVxdWVuY2llc1tmaWVsZFJlZl0gPSBmaWVsZFRlcm1zO1xuICAgIHRoaXMuZmllbGRMZW5ndGhzW2ZpZWxkUmVmXSA9IDA7XG5cbiAgICAvLyBzdG9yZSB0aGUgbGVuZ3RoIG9mIHRoaXMgZmllbGQgZm9yIHRoaXMgZG9jdW1lbnRcbiAgICB0aGlzLmZpZWxkTGVuZ3Roc1tmaWVsZFJlZl0gKz0gdGVybXMubGVuZ3RoO1xuXG4gICAgLy8gY2FsY3VsYXRlIHRlcm0gZnJlcXVlbmNpZXMgZm9yIHRoaXMgZmllbGRcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRlcm1zLmxlbmd0aDsgaisrKSB7XG4gICAgICB2YXIgdGVybSA9IHRlcm1zW2pdO1xuXG4gICAgICBpZiAoZmllbGRUZXJtc1t0ZXJtXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGZpZWxkVGVybXNbdGVybV0gPSAwO1xuICAgICAgfVxuXG4gICAgICBmaWVsZFRlcm1zW3Rlcm1dICs9IDE7XG5cbiAgICAgIC8vIGFkZCB0byBpbnZlcnRlZCBpbmRleFxuICAgICAgLy8gY3JlYXRlIGFuIGluaXRpYWwgcG9zdGluZyBpZiBvbmUgZG9lc24ndCBleGlzdFxuICAgICAgaWYgKHRoaXMuaW52ZXJ0ZWRJbmRleFt0ZXJtXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhciBwb3N0aW5nID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgcG9zdGluZy5faW5kZXggPSB0aGlzLnRlcm1JbmRleDtcbiAgICAgICAgdGhpcy50ZXJtSW5kZXggKz0gMTtcblxuICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRoaXMuX2ZpZWxkcy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgIHBvc3RpbmdbdGhpcy5fZmllbGRzW2tdXSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmludmVydGVkSW5kZXhbdGVybV0gPSBwb3N0aW5nO1xuICAgICAgfVxuXG4gICAgICAvLyBhZGQgYW4gZW50cnkgZm9yIHRoaXMgdGVybS9maWVsZE5hbWUvZG9jUmVmIHRvIHRoZSBpbnZlcnRlZEluZGV4XG4gICAgICBpZiAodGhpcy5pbnZlcnRlZEluZGV4W3Rlcm1dW2ZpZWxkTmFtZV1bZG9jUmVmXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuaW52ZXJ0ZWRJbmRleFt0ZXJtXVtmaWVsZE5hbWVdW2RvY1JlZl0gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgfVxuXG4gICAgICAvLyBzdG9yZSBhbGwgd2hpdGVsaXN0ZWQgbWV0YWRhdGEgYWJvdXQgdGhpcyB0b2tlbiBpbiB0aGVcbiAgICAgIC8vIGludmVydGVkIGluZGV4XG4gICAgICBmb3IgKHZhciBsID0gMDsgbCA8IHRoaXMubWV0YWRhdGFXaGl0ZWxpc3QubGVuZ3RoOyBsKyspIHtcbiAgICAgICAgdmFyIG1ldGFkYXRhS2V5ID0gdGhpcy5tZXRhZGF0YVdoaXRlbGlzdFtsXSxcbiAgICAgICAgICAgIG1ldGFkYXRhID0gdGVybS5tZXRhZGF0YVttZXRhZGF0YUtleV07XG5cbiAgICAgICAgaWYgKHRoaXMuaW52ZXJ0ZWRJbmRleFt0ZXJtXVtmaWVsZE5hbWVdW2RvY1JlZl1bbWV0YWRhdGFLZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0aGlzLmludmVydGVkSW5kZXhbdGVybV1bZmllbGROYW1lXVtkb2NSZWZdW21ldGFkYXRhS2V5XSA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pbnZlcnRlZEluZGV4W3Rlcm1dW2ZpZWxkTmFtZV1bZG9jUmVmXVttZXRhZGF0YUtleV0ucHVzaChtZXRhZGF0YSk7XG4gICAgICB9XG4gICAgfVxuXG4gIH1cbn07XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgYXZlcmFnZSBkb2N1bWVudCBsZW5ndGggZm9yIHRoaXMgaW5kZXhcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5sdW5yLkJ1aWxkZXIucHJvdG90eXBlLmNhbGN1bGF0ZUF2ZXJhZ2VGaWVsZExlbmd0aHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgdmFyIGZpZWxkUmVmcyA9IE9iamVjdC5rZXlzKHRoaXMuZmllbGRMZW5ndGhzKSxcbiAgICAgIG51bWJlck9mRmllbGRzID0gZmllbGRSZWZzLmxlbmd0aCxcbiAgICAgIGFjY3VtdWxhdG9yID0ge30sXG4gICAgICBkb2N1bWVudHNXaXRoRmllbGQgPSB7fTtcblxuICB2YXIgZmllbGQ7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtYmVyT2ZGaWVsZHM7IGkrKykge1xuICAgIHZhciBmaWVsZFJlZiA9IGx1bnIuRmllbGRSZWYuZnJvbVN0cmluZyhmaWVsZFJlZnNbaV0pO1xuICAgIGZpZWxkID0gZmllbGRSZWYuZmllbGROYW1lO1xuXG4gICAgaWYgKGRvY3VtZW50c1dpdGhGaWVsZFtmaWVsZF0gfHwgKGRvY3VtZW50c1dpdGhGaWVsZFtmaWVsZF0gPSAwKSkge1xuICAgICAgZG9jdW1lbnRzV2l0aEZpZWxkW2ZpZWxkXSArPSAxO1xuICAgIH1cblxuXG4gICAgaWYgKGFjY3VtdWxhdG9yW2ZpZWxkXSB8fCAoYWNjdW11bGF0b3JbZmllbGRdID0gMCkpIHtcbiAgICAgIGFjY3VtdWxhdG9yW2ZpZWxkXSArPSB0aGlzLmZpZWxkTGVuZ3Roc1tmaWVsZFJlZl07XG4gICAgfVxuICB9XG5cbiAgZm9yIChpID0gMDsgaSA8IHRoaXMuX2ZpZWxkcy5sZW5ndGg7IGkrKykge1xuICAgIGZpZWxkID0gdGhpcy5fZmllbGRzW2ldO1xuICAgIGFjY3VtdWxhdG9yW2ZpZWxkXSA9IGFjY3VtdWxhdG9yW2ZpZWxkXSAvIGRvY3VtZW50c1dpdGhGaWVsZFtmaWVsZF07XG4gIH1cblxuICB0aGlzLmF2ZXJhZ2VGaWVsZExlbmd0aCA9IGFjY3VtdWxhdG9yO1xufTtcblxuLyoqXG4gKiBCdWlsZHMgYSB2ZWN0b3Igc3BhY2UgbW9kZWwgb2YgZXZlcnkgZG9jdW1lbnQgdXNpbmcgbHVuci5WZWN0b3JcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5sdW5yLkJ1aWxkZXIucHJvdG90eXBlLmNyZWF0ZUZpZWxkVmVjdG9ycyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGZpZWxkVmVjdG9ycyA9IHt9LFxuICAgICAgZmllbGRSZWZzID0gT2JqZWN0LmtleXModGhpcy5maWVsZFRlcm1GcmVxdWVuY2llcyksXG4gICAgICBmaWVsZFJlZnNMZW5ndGggPSBmaWVsZFJlZnMubGVuZ3RoLFxuICAgICAgdGVybUlkZkNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGZpZWxkUmVmc0xlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGZpZWxkUmVmID0gbHVuci5GaWVsZFJlZi5mcm9tU3RyaW5nKGZpZWxkUmVmc1tpXSksXG4gICAgICAgIGZpZWxkID0gZmllbGRSZWYuZmllbGROYW1lLFxuICAgICAgICBmaWVsZExlbmd0aCA9IHRoaXMuZmllbGRMZW5ndGhzW2ZpZWxkUmVmXSxcbiAgICAgICAgZmllbGRWZWN0b3IgPSBuZXcgbHVuci5WZWN0b3IoKSxcbiAgICAgICAgdGVybUZyZXF1ZW5jaWVzID0gdGhpcy5maWVsZFRlcm1GcmVxdWVuY2llc1tmaWVsZFJlZl0sXG4gICAgICAgIHRlcm1zID0gT2JqZWN0LmtleXModGVybUZyZXF1ZW5jaWVzKSxcbiAgICAgICAgdGVybXNMZW5ndGggPSB0ZXJtcy5sZW5ndGg7XG5cbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRlcm1zTGVuZ3RoOyBqKyspIHtcbiAgICAgIHZhciB0ZXJtID0gdGVybXNbal0sXG4gICAgICAgICAgdGYgPSB0ZXJtRnJlcXVlbmNpZXNbdGVybV0sXG4gICAgICAgICAgdGVybUluZGV4ID0gdGhpcy5pbnZlcnRlZEluZGV4W3Rlcm1dLl9pbmRleCxcbiAgICAgICAgICBpZGYsIHNjb3JlLCBzY29yZVdpdGhQcmVjaXNpb247XG5cbiAgICAgIGlmICh0ZXJtSWRmQ2FjaGVbdGVybV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZGYgPSBsdW5yLmlkZih0aGlzLmludmVydGVkSW5kZXhbdGVybV0sIHRoaXMuZG9jdW1lbnRDb3VudCk7XG4gICAgICAgIHRlcm1JZGZDYWNoZVt0ZXJtXSA9IGlkZjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlkZiA9IHRlcm1JZGZDYWNoZVt0ZXJtXTtcbiAgICAgIH1cblxuICAgICAgc2NvcmUgPSBpZGYgKiAoKHRoaXMuX2sxICsgMSkgKiB0ZikgLyAodGhpcy5fazEgKiAoMSAtIHRoaXMuX2IgKyB0aGlzLl9iICogKGZpZWxkTGVuZ3RoIC8gdGhpcy5hdmVyYWdlRmllbGRMZW5ndGhbZmllbGRdKSkgKyB0Zik7XG4gICAgICBzY29yZVdpdGhQcmVjaXNpb24gPSBNYXRoLnJvdW5kKHNjb3JlICogMTAwMCkgLyAxMDAwO1xuICAgICAgLy8gQ29udmVydHMgMS4yMzQ1Njc4OSB0byAxLjIzNC5cbiAgICAgIC8vIFJlZHVjaW5nIHRoZSBwcmVjaXNpb24gc28gdGhhdCB0aGUgdmVjdG9ycyB0YWtlIHVwIGxlc3NcbiAgICAgIC8vIHNwYWNlIHdoZW4gc2VyaWFsaXNlZC4gRG9pbmcgaXQgbm93IHNvIHRoYXQgdGhleSBiZWhhdmVcbiAgICAgIC8vIHRoZSBzYW1lIGJlZm9yZSBhbmQgYWZ0ZXIgc2VyaWFsaXNhdGlvbi4gQWxzbywgdGhpcyBpc1xuICAgICAgLy8gdGhlIGZhc3Rlc3QgYXBwcm9hY2ggdG8gcmVkdWNpbmcgYSBudW1iZXIncyBwcmVjaXNpb24gaW5cbiAgICAgIC8vIEphdmFTY3JpcHQuXG5cbiAgICAgIGZpZWxkVmVjdG9yLmluc2VydCh0ZXJtSW5kZXgsIHNjb3JlV2l0aFByZWNpc2lvbik7XG4gICAgfVxuXG4gICAgZmllbGRWZWN0b3JzW2ZpZWxkUmVmXSA9IGZpZWxkVmVjdG9yO1xuICB9XG5cbiAgdGhpcy5maWVsZFZlY3RvcnMgPSBmaWVsZFZlY3RvcnM7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSB0b2tlbiBzZXQgb2YgYWxsIHRva2VucyBpbiB0aGUgaW5kZXggdXNpbmcgbHVuci5Ub2tlblNldFxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmx1bnIuQnVpbGRlci5wcm90b3R5cGUuY3JlYXRlVG9rZW5TZXQgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMudG9rZW5TZXQgPSBsdW5yLlRva2VuU2V0LmZyb21BcnJheShcbiAgICBPYmplY3Qua2V5cyh0aGlzLmludmVydGVkSW5kZXgpLnNvcnQoKVxuICApO1xufTtcblxuLyoqXG4gKiBCdWlsZHMgdGhlIGluZGV4LCBjcmVhdGluZyBhbiBpbnN0YW5jZSBvZiBsdW5yLkluZGV4LlxuICpcbiAqIFRoaXMgY29tcGxldGVzIHRoZSBpbmRleGluZyBwcm9jZXNzIGFuZCBzaG91bGQgb25seSBiZSBjYWxsZWRcbiAqIG9uY2UgYWxsIGRvY3VtZW50cyBoYXZlIGJlZW4gYWRkZWQgdG8gdGhlIGluZGV4LlxuICpcbiAqIEByZXR1cm5zIHtsdW5yLkluZGV4fVxuICovXG5sdW5yLkJ1aWxkZXIucHJvdG90eXBlLmJ1aWxkID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmNhbGN1bGF0ZUF2ZXJhZ2VGaWVsZExlbmd0aHMoKTtcbiAgdGhpcy5jcmVhdGVGaWVsZFZlY3RvcnMoKTtcbiAgdGhpcy5jcmVhdGVUb2tlblNldCgpO1xuXG4gIHJldHVybiBuZXcgbHVuci5JbmRleCh7XG4gICAgaW52ZXJ0ZWRJbmRleDogdGhpcy5pbnZlcnRlZEluZGV4LFxuICAgIGZpZWxkVmVjdG9yczogdGhpcy5maWVsZFZlY3RvcnMsXG4gICAgdG9rZW5TZXQ6IHRoaXMudG9rZW5TZXQsXG4gICAgZmllbGRzOiB0aGlzLl9maWVsZHMsXG4gICAgcGlwZWxpbmU6IHRoaXMuc2VhcmNoUGlwZWxpbmVcbiAgfSk7XG59O1xuXG4vKipcbiAqIEFwcGxpZXMgYSBwbHVnaW4gdG8gdGhlIGluZGV4IGJ1aWxkZXIuXG4gKlxuICogQSBwbHVnaW4gaXMgYSBmdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCB3aXRoIHRoZSBpbmRleCBidWlsZGVyIGFzIGl0cyBjb250ZXh0LlxuICogUGx1Z2lucyBjYW4gYmUgdXNlZCB0byBjdXN0b21pc2Ugb3IgZXh0ZW5kIHRoZSBiZWhhdmlvdXIgb2YgdGhlIGluZGV4XG4gKiBpbiBzb21lIHdheS4gQSBwbHVnaW4gaXMganVzdCBhIGZ1bmN0aW9uLCB0aGF0IGVuY2Fwc3VsYXRlZCB0aGUgY3VzdG9tXG4gKiBiZWhhdmlvdXIgdGhhdCBzaG91bGQgYmUgYXBwbGllZCB3aGVuIGJ1aWxkaW5nIHRoZSBpbmRleC5cbiAqXG4gKiBUaGUgcGx1Z2luIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlIGluZGV4IGJ1aWxkZXIgYXMgaXRzIGFyZ3VtZW50LCBhZGRpdGlvbmFsXG4gKiBhcmd1bWVudHMgY2FuIGFsc28gYmUgcGFzc2VkIHdoZW4gY2FsbGluZyB1c2UuIFRoZSBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZFxuICogd2l0aCB0aGUgaW5kZXggYnVpbGRlciBhcyBpdHMgY29udGV4dC5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwbHVnaW4gVGhlIHBsdWdpbiB0byBhcHBseS5cbiAqL1xubHVuci5CdWlsZGVyLnByb3RvdHlwZS51c2UgPSBmdW5jdGlvbiAoZm4pIHtcbiAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICBhcmdzLnVuc2hpZnQodGhpcyk7XG4gIGZuLmFwcGx5KHRoaXMsIGFyZ3MpO1xufTtcbi8qKlxuICogQ29udGFpbnMgYW5kIGNvbGxlY3RzIG1ldGFkYXRhIGFib3V0IGEgbWF0Y2hpbmcgZG9jdW1lbnQuXG4gKiBBIHNpbmdsZSBpbnN0YW5jZSBvZiBsdW5yLk1hdGNoRGF0YSBpcyByZXR1cm5lZCBhcyBwYXJ0IG9mIGV2ZXJ5XG4gKiBsdW5yLkluZGV4flJlc3VsdC5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXJtIC0gVGhlIHRlcm0gdGhpcyBtYXRjaCBkYXRhIGlzIGFzc29jaWF0ZWQgd2l0aFxuICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkIC0gVGhlIGZpZWxkIGluIHdoaWNoIHRoZSB0ZXJtIHdhcyBmb3VuZFxuICogQHBhcmFtIHtvYmplY3R9IG1ldGFkYXRhIC0gVGhlIG1ldGFkYXRhIHJlY29yZGVkIGFib3V0IHRoaXMgdGVybSBpbiB0aGlzIGZpZWxkXG4gKiBAcHJvcGVydHkge29iamVjdH0gbWV0YWRhdGEgLSBBIGNsb25lZCBjb2xsZWN0aW9uIG9mIG1ldGFkYXRhIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGRvY3VtZW50LlxuICogQHNlZSB7QGxpbmsgbHVuci5JbmRleH5SZXN1bHR9XG4gKi9cbmx1bnIuTWF0Y2hEYXRhID0gZnVuY3Rpb24gKHRlcm0sIGZpZWxkLCBtZXRhZGF0YSkge1xuICB2YXIgY2xvbmVkTWV0YWRhdGEgPSBPYmplY3QuY3JlYXRlKG51bGwpLFxuICAgICAgbWV0YWRhdGFLZXlzID0gT2JqZWN0LmtleXMobWV0YWRhdGEpO1xuXG4gIC8vIENsb25pbmcgdGhlIG1ldGFkYXRhIHRvIHByZXZlbnQgdGhlIG9yaWdpbmFsXG4gIC8vIGJlaW5nIG11dGF0ZWQgZHVyaW5nIG1hdGNoIGRhdGEgY29tYmluYXRpb24uXG4gIC8vIE1ldGFkYXRhIGlzIGtlcHQgaW4gYW4gYXJyYXkgd2l0aGluIHRoZSBpbnZlcnRlZFxuICAvLyBpbmRleCBzbyBjbG9uaW5nIHRoZSBkYXRhIGNhbiBiZSBkb25lIHdpdGhcbiAgLy8gQXJyYXkjc2xpY2VcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXRhZGF0YUtleXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0gbWV0YWRhdGFLZXlzW2ldO1xuICAgIGNsb25lZE1ldGFkYXRhW2tleV0gPSBtZXRhZGF0YVtrZXldLnNsaWNlKCk7XG4gIH1cblxuICB0aGlzLm1ldGFkYXRhID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgdGhpcy5tZXRhZGF0YVt0ZXJtXSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHRoaXMubWV0YWRhdGFbdGVybV1bZmllbGRdID0gY2xvbmVkTWV0YWRhdGE7XG59O1xuXG4vKipcbiAqIEFuIGluc3RhbmNlIG9mIGx1bnIuTWF0Y2hEYXRhIHdpbGwgYmUgY3JlYXRlZCBmb3IgZXZlcnkgdGVybSB0aGF0IG1hdGNoZXMgYVxuICogZG9jdW1lbnQuIEhvd2V2ZXIgb25seSBvbmUgaW5zdGFuY2UgaXMgcmVxdWlyZWQgaW4gYSBsdW5yLkluZGV4flJlc3VsdC4gVGhpc1xuICogbWV0aG9kIGNvbWJpbmVzIG1ldGFkYXRhIGZyb20gYW5vdGhlciBpbnN0YW5jZSBvZiBsdW5yLk1hdGNoRGF0YSB3aXRoIHRoaXNcbiAqIG9iamVjdHMgbWV0YWRhdGEuXG4gKlxuICogQHBhcmFtIHtsdW5yLk1hdGNoRGF0YX0gb3RoZXJNYXRjaERhdGEgLSBBbm90aGVyIGluc3RhbmNlIG9mIG1hdGNoIGRhdGEgdG8gbWVyZ2Ugd2l0aCB0aGlzIG9uZS5cbiAqIEBzZWUge0BsaW5rIGx1bnIuSW5kZXh+UmVzdWx0fVxuICovXG5sdW5yLk1hdGNoRGF0YS5wcm90b3R5cGUuY29tYmluZSA9IGZ1bmN0aW9uIChvdGhlck1hdGNoRGF0YSkge1xuICB2YXIgdGVybXMgPSBPYmplY3Qua2V5cyhvdGhlck1hdGNoRGF0YS5tZXRhZGF0YSk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXJtcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciB0ZXJtID0gdGVybXNbaV0sXG4gICAgICAgIGZpZWxkcyA9IE9iamVjdC5rZXlzKG90aGVyTWF0Y2hEYXRhLm1ldGFkYXRhW3Rlcm1dKTtcblxuICAgIGlmICh0aGlzLm1ldGFkYXRhW3Rlcm1dID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMubWV0YWRhdGFbdGVybV0gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIH1cblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgZmllbGRzLmxlbmd0aDsgaisrKSB7XG4gICAgICB2YXIgZmllbGQgPSBmaWVsZHNbal0sXG4gICAgICAgICAga2V5cyA9IE9iamVjdC5rZXlzKG90aGVyTWF0Y2hEYXRhLm1ldGFkYXRhW3Rlcm1dW2ZpZWxkXSk7XG5cbiAgICAgIGlmICh0aGlzLm1ldGFkYXRhW3Rlcm1dW2ZpZWxkXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMubWV0YWRhdGFbdGVybV1bZmllbGRdID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBrZXlzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzW2tdO1xuXG4gICAgICAgIGlmICh0aGlzLm1ldGFkYXRhW3Rlcm1dW2ZpZWxkXVtrZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0aGlzLm1ldGFkYXRhW3Rlcm1dW2ZpZWxkXVtrZXldID0gb3RoZXJNYXRjaERhdGEubWV0YWRhdGFbdGVybV1bZmllbGRdW2tleV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5tZXRhZGF0YVt0ZXJtXVtmaWVsZF1ba2V5XSA9IHRoaXMubWV0YWRhdGFbdGVybV1bZmllbGRdW2tleV0uY29uY2F0KG90aGVyTWF0Y2hEYXRhLm1ldGFkYXRhW3Rlcm1dW2ZpZWxkXVtrZXldKTtcbiAgICAgICAgfVxuXG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIEFkZCBtZXRhZGF0YSBmb3IgYSB0ZXJtL2ZpZWxkIHBhaXIgdG8gdGhpcyBpbnN0YW5jZSBvZiBtYXRjaCBkYXRhLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXJtIC0gVGhlIHRlcm0gdGhpcyBtYXRjaCBkYXRhIGlzIGFzc29jaWF0ZWQgd2l0aFxuICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkIC0gVGhlIGZpZWxkIGluIHdoaWNoIHRoZSB0ZXJtIHdhcyBmb3VuZFxuICogQHBhcmFtIHtvYmplY3R9IG1ldGFkYXRhIC0gVGhlIG1ldGFkYXRhIHJlY29yZGVkIGFib3V0IHRoaXMgdGVybSBpbiB0aGlzIGZpZWxkXG4gKi9cbmx1bnIuTWF0Y2hEYXRhLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAodGVybSwgZmllbGQsIG1ldGFkYXRhKSB7XG4gIGlmICghKHRlcm0gaW4gdGhpcy5tZXRhZGF0YSkpIHtcbiAgICB0aGlzLm1ldGFkYXRhW3Rlcm1dID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLm1ldGFkYXRhW3Rlcm1dW2ZpZWxkXSA9IG1ldGFkYXRhO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICghKGZpZWxkIGluIHRoaXMubWV0YWRhdGFbdGVybV0pKSB7XG4gICAgdGhpcy5tZXRhZGF0YVt0ZXJtXVtmaWVsZF0gPSBtZXRhZGF0YTtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgbWV0YWRhdGFLZXlzID0gT2JqZWN0LmtleXMobWV0YWRhdGEpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbWV0YWRhdGFLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IG1ldGFkYXRhS2V5c1tpXTtcblxuICAgIGlmIChrZXkgaW4gdGhpcy5tZXRhZGF0YVt0ZXJtXVtmaWVsZF0pIHtcbiAgICAgIHRoaXMubWV0YWRhdGFbdGVybV1bZmllbGRdW2tleV0gPSB0aGlzLm1ldGFkYXRhW3Rlcm1dW2ZpZWxkXVtrZXldLmNvbmNhdChtZXRhZGF0YVtrZXldKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5tZXRhZGF0YVt0ZXJtXVtmaWVsZF1ba2V5XSA9IG1ldGFkYXRhW2tleV07XG4gICAgfVxuICB9XG59O1xuLyoqXG4gKiBBIGx1bnIuUXVlcnkgcHJvdmlkZXMgYSBwcm9ncmFtbWF0aWMgd2F5IG9mIGRlZmluaW5nIHF1ZXJpZXMgdG8gYmUgcGVyZm9ybWVkXG4gKiBhZ2FpbnN0IGEge0BsaW5rIGx1bnIuSW5kZXh9LlxuICpcbiAqIFByZWZlciBjb25zdHJ1Y3RpbmcgYSBsdW5yLlF1ZXJ5IHVzaW5nIHRoZSB7QGxpbmsgbHVuci5JbmRleCNxdWVyeX0gbWV0aG9kXG4gKiBzbyB0aGUgcXVlcnkgb2JqZWN0IGlzIHByZS1pbml0aWFsaXplZCB3aXRoIHRoZSByaWdodCBpbmRleCBmaWVsZHMuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcHJvcGVydHkge2x1bnIuUXVlcnl+Q2xhdXNlW119IGNsYXVzZXMgLSBBbiBhcnJheSBvZiBxdWVyeSBjbGF1c2VzLlxuICogQHByb3BlcnR5IHtzdHJpbmdbXX0gYWxsRmllbGRzIC0gQW4gYXJyYXkgb2YgYWxsIGF2YWlsYWJsZSBmaWVsZHMgaW4gYSBsdW5yLkluZGV4LlxuICovXG5sdW5yLlF1ZXJ5ID0gZnVuY3Rpb24gKGFsbEZpZWxkcykge1xuICB0aGlzLmNsYXVzZXMgPSBbXTtcbiAgdGhpcy5hbGxGaWVsZHMgPSBhbGxGaWVsZHM7XG59O1xuXG4vKipcbiAqIENvbnN0YW50cyBmb3IgaW5kaWNhdGluZyB3aGF0IGtpbmQgb2YgYXV0b21hdGljIHdpbGRjYXJkIGluc2VydGlvbiB3aWxsIGJlIHVzZWQgd2hlbiBjb25zdHJ1Y3RpbmcgYSBxdWVyeSBjbGF1c2UuXG4gKlxuICogVGhpcyBhbGxvd3Mgd2lsZGNhcmRzIHRvIGJlIGFkZGVkIHRvIHRoZSBiZWdpbm5pbmcgYW5kIGVuZCBvZiBhIHRlcm0gd2l0aG91dCBoYXZpbmcgdG8gbWFudWFsbHkgZG8gYW55IHN0cmluZ1xuICogY29uY2F0ZW5hdGlvbi5cbiAqXG4gKiBUaGUgd2lsZGNhcmQgY29uc3RhbnRzIGNhbiBiZSBiaXR3aXNlIGNvbWJpbmVkIHRvIHNlbGVjdCBib3RoIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHdpbGRjYXJkcy5cbiAqXG4gKiBAY29uc3RhbnRcbiAqIEBkZWZhdWx0XG4gKiBAcHJvcGVydHkge251bWJlcn0gd2lsZGNhcmQuTk9ORSAtIFRoZSB0ZXJtIHdpbGwgaGF2ZSBubyB3aWxkY2FyZHMgaW5zZXJ0ZWQsIHRoaXMgaXMgdGhlIGRlZmF1bHQgYmVoYXZpb3VyXG4gKiBAcHJvcGVydHkge251bWJlcn0gd2lsZGNhcmQuTEVBRElORyAtIFByZXBlbmQgdGhlIHRlcm0gd2l0aCBhIHdpbGRjYXJkLCB1bmxlc3MgYSBsZWFkaW5nIHdpbGRjYXJkIGFscmVhZHkgZXhpc3RzXG4gKiBAcHJvcGVydHkge251bWJlcn0gd2lsZGNhcmQuVFJBSUxJTkcgLSBBcHBlbmQgYSB3aWxkY2FyZCB0byB0aGUgdGVybSwgdW5sZXNzIGEgdHJhaWxpbmcgd2lsZGNhcmQgYWxyZWFkeSBleGlzdHNcbiAqIEBzZWUgbHVuci5RdWVyeX5DbGF1c2VcbiAqIEBzZWUgbHVuci5RdWVyeSNjbGF1c2VcbiAqIEBzZWUgbHVuci5RdWVyeSN0ZXJtXG4gKiBAZXhhbXBsZSA8Y2FwdGlvbj5xdWVyeSB0ZXJtIHdpdGggdHJhaWxpbmcgd2lsZGNhcmQ8L2NhcHRpb24+XG4gKiBxdWVyeS50ZXJtKCdmb28nLCB7IHdpbGRjYXJkOiBsdW5yLlF1ZXJ5LndpbGRjYXJkLlRSQUlMSU5HIH0pXG4gKiBAZXhhbXBsZSA8Y2FwdGlvbj5xdWVyeSB0ZXJtIHdpdGggbGVhZGluZyBhbmQgdHJhaWxpbmcgd2lsZGNhcmQ8L2NhcHRpb24+XG4gKiBxdWVyeS50ZXJtKCdmb28nLCB7XG4gKiAgIHdpbGRjYXJkOiBsdW5yLlF1ZXJ5LndpbGRjYXJkLkxFQURJTkcgfCBsdW5yLlF1ZXJ5LndpbGRjYXJkLlRSQUlMSU5HXG4gKiB9KVxuICovXG5cbmx1bnIuUXVlcnkud2lsZGNhcmQgPSBcIipcIjtcbmx1bnIuUXVlcnkud2lsZGNhcmQuTk9ORSA9IDA7XG5sdW5yLlF1ZXJ5LndpbGRjYXJkLkxFQURJTkcgPSAxO1xubHVuci5RdWVyeS53aWxkY2FyZC5UUkFJTElORyA9IDI7XG5cbi8qKlxuICogQSBzaW5nbGUgY2xhdXNlIGluIGEge0BsaW5rIGx1bnIuUXVlcnl9IGNvbnRhaW5zIGEgdGVybSBhbmQgZGV0YWlscyBvbiBob3cgdG9cbiAqIG1hdGNoIHRoYXQgdGVybSBhZ2FpbnN0IGEge0BsaW5rIGx1bnIuSW5kZXh9LlxuICpcbiAqIEB0eXBlZGVmIHtPYmplY3R9IGx1bnIuUXVlcnl+Q2xhdXNlXG4gKiBAcHJvcGVydHkge3N0cmluZ1tdfSBmaWVsZHMgLSBUaGUgZmllbGRzIGluIGFuIGluZGV4IHRoaXMgY2xhdXNlIHNob3VsZCBiZSBtYXRjaGVkIGFnYWluc3QuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2Jvb3N0PTFdIC0gQW55IGJvb3N0IHRoYXQgc2hvdWxkIGJlIGFwcGxpZWQgd2hlbiBtYXRjaGluZyB0aGlzIGNsYXVzZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZWRpdERpc3RhbmNlXSAtIFdoZXRoZXIgdGhlIHRlcm0gc2hvdWxkIGhhdmUgZnV6enkgbWF0Y2hpbmcgYXBwbGllZCwgYW5kIGhvdyBmdXp6eSB0aGUgbWF0Y2ggc2hvdWxkIGJlLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbdXNlUGlwZWxpbmVdIC0gV2hldGhlciB0aGUgdGVybSBzaG91bGQgYmUgcGFzc2VkIHRocm91Z2ggdGhlIHNlYXJjaCBwaXBlbGluZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbd2lsZGNhcmQ9MF0gLSBXaGV0aGVyIHRoZSB0ZXJtIHNob3VsZCBoYXZlIHdpbGRjYXJkcyBhcHBlbmRlZCBvciBwcmVwZW5kZWQuXG4gKi9cblxuLyoqXG4gKiBBZGRzIGEge0BsaW5rIGx1bnIuUXVlcnl+Q2xhdXNlfSB0byB0aGlzIHF1ZXJ5LlxuICpcbiAqIFVubGVzcyB0aGUgY2xhdXNlIGNvbnRhaW5zIHRoZSBmaWVsZHMgdG8gYmUgbWF0Y2hlZCBhbGwgZmllbGRzIHdpbGwgYmUgbWF0Y2hlZC4gSW4gYWRkaXRpb25cbiAqIGEgZGVmYXVsdCBib29zdCBvZiAxIGlzIGFwcGxpZWQgdG8gdGhlIGNsYXVzZS5cbiAqXG4gKiBAcGFyYW0ge2x1bnIuUXVlcnl+Q2xhdXNlfSBjbGF1c2UgLSBUaGUgY2xhdXNlIHRvIGFkZCB0byB0aGlzIHF1ZXJ5LlxuICogQHNlZSBsdW5yLlF1ZXJ5fkNsYXVzZVxuICogQHJldHVybnMge2x1bnIuUXVlcnl9XG4gKi9cbmx1bnIuUXVlcnkucHJvdG90eXBlLmNsYXVzZSA9IGZ1bmN0aW9uIChjbGF1c2UpIHtcbiAgaWYgKCEoJ2ZpZWxkcycgaW4gY2xhdXNlKSkge1xuICAgIGNsYXVzZS5maWVsZHMgPSB0aGlzLmFsbEZpZWxkcztcbiAgfVxuXG4gIGlmICghKCdib29zdCcgaW4gY2xhdXNlKSkge1xuICAgIGNsYXVzZS5ib29zdCA9IDE7XG4gIH1cblxuICBpZiAoISgndXNlUGlwZWxpbmUnIGluIGNsYXVzZSkpIHtcbiAgICBjbGF1c2UudXNlUGlwZWxpbmUgPSB0cnVlO1xuICB9XG5cbiAgaWYgKCEoJ3dpbGRjYXJkJyBpbiBjbGF1c2UpKSB7XG4gICAgY2xhdXNlLndpbGRjYXJkID0gbHVuci5RdWVyeS53aWxkY2FyZC5OT05FO1xuICB9XG5cbiAgaWYgKChjbGF1c2Uud2lsZGNhcmQgJiBsdW5yLlF1ZXJ5LndpbGRjYXJkLkxFQURJTkcpICYmIChjbGF1c2UudGVybS5jaGFyQXQoMCkgIT0gbHVuci5RdWVyeS53aWxkY2FyZCkpIHtcbiAgICBjbGF1c2UudGVybSA9IFwiKlwiICsgY2xhdXNlLnRlcm07XG4gIH1cblxuICBpZiAoKGNsYXVzZS53aWxkY2FyZCAmIGx1bnIuUXVlcnkud2lsZGNhcmQuVFJBSUxJTkcpICYmIChjbGF1c2UudGVybS5zbGljZSgtMSkgIT0gbHVuci5RdWVyeS53aWxkY2FyZCkpIHtcbiAgICBjbGF1c2UudGVybSA9IFwiXCIgKyBjbGF1c2UudGVybSArIFwiKlwiO1xuICB9XG5cbiAgdGhpcy5jbGF1c2VzLnB1c2goY2xhdXNlKTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQWRkcyBhIHRlcm0gdG8gdGhlIGN1cnJlbnQgcXVlcnksIHVuZGVyIHRoZSBjb3ZlcnMgdGhpcyB3aWxsIGNyZWF0ZSBhIHtAbGluayBsdW5yLlF1ZXJ5fkNsYXVzZX1cbiAqIHRvIHRoZSBsaXN0IG9mIGNsYXVzZXMgdGhhdCBtYWtlIHVwIHRoaXMgcXVlcnkuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRlcm0gLSBUaGUgdGVybSB0byBhZGQgdG8gdGhlIHF1ZXJ5LlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAtIEFueSBhZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYWRkIHRvIHRoZSBxdWVyeSBjbGF1c2UuXG4gKiBAcmV0dXJucyB7bHVuci5RdWVyeX1cbiAqIEBzZWUgbHVuci5RdWVyeSNjbGF1c2VcbiAqIEBzZWUgbHVuci5RdWVyeX5DbGF1c2VcbiAqIEBleGFtcGxlIDxjYXB0aW9uPmFkZGluZyBhIHNpbmdsZSB0ZXJtIHRvIGEgcXVlcnk8L2NhcHRpb24+XG4gKiBxdWVyeS50ZXJtKFwiZm9vXCIpXG4gKiBAZXhhbXBsZSA8Y2FwdGlvbj5hZGRpbmcgYSBzaW5nbGUgdGVybSB0byBhIHF1ZXJ5IGFuZCBzcGVjaWZ5aW5nIHNlYXJjaCBmaWVsZHMsIHRlcm0gYm9vc3QgYW5kIGF1dG9tYXRpYyB0cmFpbGluZyB3aWxkY2FyZDwvY2FwdGlvbj5cbiAqIHF1ZXJ5LnRlcm0oXCJmb29cIiwge1xuICogICBmaWVsZHM6IFtcInRpdGxlXCJdLFxuICogICBib29zdDogMTAsXG4gKiAgIHdpbGRjYXJkOiBsdW5yLlF1ZXJ5LndpbGRjYXJkLlRSQUlMSU5HXG4gKiB9KVxuICovXG5sdW5yLlF1ZXJ5LnByb3RvdHlwZS50ZXJtID0gZnVuY3Rpb24gKHRlcm0sIG9wdGlvbnMpIHtcbiAgdmFyIGNsYXVzZSA9IG9wdGlvbnMgfHwge307XG4gIGNsYXVzZS50ZXJtID0gdGVybTtcblxuICB0aGlzLmNsYXVzZShjbGF1c2UpO1xuXG4gIHJldHVybiB0aGlzO1xufTtcbmx1bnIuUXVlcnlQYXJzZUVycm9yID0gZnVuY3Rpb24gKG1lc3NhZ2UsIHN0YXJ0LCBlbmQpIHtcbiAgdGhpcy5uYW1lID0gXCJRdWVyeVBhcnNlRXJyb3JcIjtcbiAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgdGhpcy5zdGFydCA9IHN0YXJ0O1xuICB0aGlzLmVuZCA9IGVuZDtcbn07XG5cbmx1bnIuUXVlcnlQYXJzZUVycm9yLnByb3RvdHlwZSA9IG5ldyBFcnJvcigpO1xubHVuci5RdWVyeUxleGVyID0gZnVuY3Rpb24gKHN0cikge1xuICB0aGlzLmxleGVtZXMgPSBbXTtcbiAgdGhpcy5zdHIgPSBzdHI7XG4gIHRoaXMubGVuZ3RoID0gc3RyLmxlbmd0aDtcbiAgdGhpcy5wb3MgPSAwO1xuICB0aGlzLnN0YXJ0ID0gMDtcbiAgdGhpcy5lc2NhcGVDaGFyUG9zaXRpb25zID0gW107XG59O1xuXG5sdW5yLlF1ZXJ5TGV4ZXIucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHN0YXRlID0gbHVuci5RdWVyeUxleGVyLmxleFRleHQ7XG5cbiAgd2hpbGUgKHN0YXRlKSB7XG4gICAgc3RhdGUgPSBzdGF0ZSh0aGlzKTtcbiAgfVxufTtcblxubHVuci5RdWVyeUxleGVyLnByb3RvdHlwZS5zbGljZVN0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHN1YlNsaWNlcyA9IFtdLFxuICAgICAgc2xpY2VTdGFydCA9IHRoaXMuc3RhcnQsXG4gICAgICBzbGljZUVuZCA9IHRoaXMucG9zO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5lc2NhcGVDaGFyUG9zaXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgc2xpY2VFbmQgPSB0aGlzLmVzY2FwZUNoYXJQb3NpdGlvbnNbaV07XG4gICAgc3ViU2xpY2VzLnB1c2godGhpcy5zdHIuc2xpY2Uoc2xpY2VTdGFydCwgc2xpY2VFbmQpKTtcbiAgICBzbGljZVN0YXJ0ID0gc2xpY2VFbmQgKyAxO1xuICB9XG5cbiAgc3ViU2xpY2VzLnB1c2godGhpcy5zdHIuc2xpY2Uoc2xpY2VTdGFydCwgdGhpcy5wb3MpKTtcbiAgdGhpcy5lc2NhcGVDaGFyUG9zaXRpb25zLmxlbmd0aCA9IDA7XG5cbiAgcmV0dXJuIHN1YlNsaWNlcy5qb2luKCcnKTtcbn07XG5cbmx1bnIuUXVlcnlMZXhlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gIHRoaXMubGV4ZW1lcy5wdXNoKHtcbiAgICB0eXBlOiB0eXBlLFxuICAgIHN0cjogdGhpcy5zbGljZVN0cmluZygpLFxuICAgIHN0YXJ0OiB0aGlzLnN0YXJ0LFxuICAgIGVuZDogdGhpcy5wb3NcbiAgfSk7XG5cbiAgdGhpcy5zdGFydCA9IHRoaXMucG9zO1xufTtcblxubHVuci5RdWVyeUxleGVyLnByb3RvdHlwZS5lc2NhcGVDaGFyYWN0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuZXNjYXBlQ2hhclBvc2l0aW9ucy5wdXNoKHRoaXMucG9zIC0gMSk7XG4gIHRoaXMucG9zICs9IDE7XG59O1xuXG5sdW5yLlF1ZXJ5TGV4ZXIucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLnBvcyA+PSB0aGlzLmxlbmd0aCkge1xuICAgIHJldHVybiBsdW5yLlF1ZXJ5TGV4ZXIuRU9TO1xuICB9XG5cbiAgdmFyIGNoYXIgPSB0aGlzLnN0ci5jaGFyQXQodGhpcy5wb3MpO1xuICB0aGlzLnBvcyArPSAxO1xuICByZXR1cm4gY2hhcjtcbn07XG5cbmx1bnIuUXVlcnlMZXhlci5wcm90b3R5cGUud2lkdGggPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLnBvcyAtIHRoaXMuc3RhcnQ7XG59O1xuXG5sdW5yLlF1ZXJ5TGV4ZXIucHJvdG90eXBlLmlnbm9yZSA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuc3RhcnQgPT0gdGhpcy5wb3MpIHtcbiAgICB0aGlzLnBvcyArPSAxO1xuICB9XG5cbiAgdGhpcy5zdGFydCA9IHRoaXMucG9zO1xufTtcblxubHVuci5RdWVyeUxleGVyLnByb3RvdHlwZS5iYWNrdXAgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMucG9zIC09IDE7XG59O1xuXG5sdW5yLlF1ZXJ5TGV4ZXIucHJvdG90eXBlLmFjY2VwdERpZ2l0UnVuID0gZnVuY3Rpb24gKCkge1xuICB2YXIgY2hhciwgY2hhckNvZGU7XG5cbiAgZG8ge1xuICAgIGNoYXIgPSB0aGlzLm5leHQoKTtcbiAgICBjaGFyQ29kZSA9IGNoYXIuY2hhckNvZGVBdCgwKTtcbiAgfSB3aGlsZSAoY2hhckNvZGUgPiA0NyAmJiBjaGFyQ29kZSA8IDU4KTtcblxuICBpZiAoY2hhciAhPSBsdW5yLlF1ZXJ5TGV4ZXIuRU9TKSB7XG4gICAgdGhpcy5iYWNrdXAoKTtcbiAgfVxufTtcblxubHVuci5RdWVyeUxleGVyLnByb3RvdHlwZS5tb3JlID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5wb3MgPCB0aGlzLmxlbmd0aDtcbn07XG5cbmx1bnIuUXVlcnlMZXhlci5FT1MgPSAnRU9TJztcbmx1bnIuUXVlcnlMZXhlci5GSUVMRCA9ICdGSUVMRCc7XG5sdW5yLlF1ZXJ5TGV4ZXIuVEVSTSA9ICdURVJNJztcbmx1bnIuUXVlcnlMZXhlci5FRElUX0RJU1RBTkNFID0gJ0VESVRfRElTVEFOQ0UnO1xubHVuci5RdWVyeUxleGVyLkJPT1NUID0gJ0JPT1NUJztcblxubHVuci5RdWVyeUxleGVyLmxleEZpZWxkID0gZnVuY3Rpb24gKGxleGVyKSB7XG4gIGxleGVyLmJhY2t1cCgpO1xuICBsZXhlci5lbWl0KGx1bnIuUXVlcnlMZXhlci5GSUVMRCk7XG4gIGxleGVyLmlnbm9yZSgpO1xuICByZXR1cm4gbHVuci5RdWVyeUxleGVyLmxleFRleHQ7XG59O1xuXG5sdW5yLlF1ZXJ5TGV4ZXIubGV4VGVybSA9IGZ1bmN0aW9uIChsZXhlcikge1xuICBpZiAobGV4ZXIud2lkdGgoKSA+IDEpIHtcbiAgICBsZXhlci5iYWNrdXAoKTtcbiAgICBsZXhlci5lbWl0KGx1bnIuUXVlcnlMZXhlci5URVJNKTtcbiAgfVxuXG4gIGxleGVyLmlnbm9yZSgpO1xuXG4gIGlmIChsZXhlci5tb3JlKCkpIHtcbiAgICByZXR1cm4gbHVuci5RdWVyeUxleGVyLmxleFRleHQ7XG4gIH1cbn07XG5cbmx1bnIuUXVlcnlMZXhlci5sZXhFZGl0RGlzdGFuY2UgPSBmdW5jdGlvbiAobGV4ZXIpIHtcbiAgbGV4ZXIuaWdub3JlKCk7XG4gIGxleGVyLmFjY2VwdERpZ2l0UnVuKCk7XG4gIGxleGVyLmVtaXQobHVuci5RdWVyeUxleGVyLkVESVRfRElTVEFOQ0UpO1xuICByZXR1cm4gbHVuci5RdWVyeUxleGVyLmxleFRleHQ7XG59O1xuXG5sdW5yLlF1ZXJ5TGV4ZXIubGV4Qm9vc3QgPSBmdW5jdGlvbiAobGV4ZXIpIHtcbiAgbGV4ZXIuaWdub3JlKCk7XG4gIGxleGVyLmFjY2VwdERpZ2l0UnVuKCk7XG4gIGxleGVyLmVtaXQobHVuci5RdWVyeUxleGVyLkJPT1NUKTtcbiAgcmV0dXJuIGx1bnIuUXVlcnlMZXhlci5sZXhUZXh0O1xufTtcblxubHVuci5RdWVyeUxleGVyLmxleEVPUyA9IGZ1bmN0aW9uIChsZXhlcikge1xuICBpZiAobGV4ZXIud2lkdGgoKSA+IDApIHtcbiAgICBsZXhlci5lbWl0KGx1bnIuUXVlcnlMZXhlci5URVJNKTtcbiAgfVxufTtcblxuLy8gVGhpcyBtYXRjaGVzIHRoZSBzZXBhcmF0b3IgdXNlZCB3aGVuIHRva2VuaXNpbmcgZmllbGRzXG4vLyB3aXRoaW4gYSBkb2N1bWVudC4gVGhlc2Ugc2hvdWxkIG1hdGNoIG90aGVyd2lzZSBpdCBpc1xuLy8gbm90IHBvc3NpYmxlIHRvIHNlYXJjaCBmb3Igc29tZSB0b2tlbnMgd2l0aGluIGEgZG9jdW1lbnQuXG4vL1xuLy8gSXQgaXMgcG9zc2libGUgZm9yIHRoZSB1c2VyIHRvIGNoYW5nZSB0aGUgc2VwYXJhdG9yIG9uIHRoZVxuLy8gdG9rZW5pemVyIHNvIGl0IF9taWdodF8gY2xhc2ggd2l0aCBhbnkgb3RoZXIgb2YgdGhlIHNwZWNpYWxcbi8vIGNoYXJhY3RlcnMgYWxyZWFkeSB1c2VkIHdpdGhpbiB0aGUgc2VhcmNoIHN0cmluZywgZS5nLiA6LlxuLy9cbi8vIFRoaXMgbWVhbnMgdGhhdCBpdCBpcyBwb3NzaWJsZSB0byBjaGFuZ2UgdGhlIHNlcGFyYXRvciBpblxuLy8gc3VjaCBhIHdheSB0aGF0IG1ha2VzIHNvbWUgd29yZHMgdW5zZWFyY2hhYmxlIHVzaW5nIGEgc2VhcmNoXG4vLyBzdHJpbmcuXG5sdW5yLlF1ZXJ5TGV4ZXIudGVybVNlcGFyYXRvciA9IGx1bnIudG9rZW5pemVyLnNlcGFyYXRvcjtcblxubHVuci5RdWVyeUxleGVyLmxleFRleHQgPSBmdW5jdGlvbiAobGV4ZXIpIHtcbiAgd2hpbGUgKHRydWUpIHtcbiAgICB2YXIgY2hhciA9IGxleGVyLm5leHQoKTtcblxuICAgIGlmIChjaGFyID09IGx1bnIuUXVlcnlMZXhlci5FT1MpIHtcbiAgICAgIHJldHVybiBsdW5yLlF1ZXJ5TGV4ZXIubGV4RU9TO1xuICAgIH1cblxuICAgIC8vIEVzY2FwZSBjaGFyYWN0ZXIgaXMgJ1xcJ1xuICAgIGlmIChjaGFyLmNoYXJDb2RlQXQoMCkgPT0gOTIpIHtcbiAgICAgIGxleGVyLmVzY2FwZUNoYXJhY3RlcigpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKGNoYXIgPT0gXCI6XCIpIHtcbiAgICAgIHJldHVybiBsdW5yLlF1ZXJ5TGV4ZXIubGV4RmllbGQ7XG4gICAgfVxuXG4gICAgaWYgKGNoYXIgPT0gXCJ+XCIpIHtcbiAgICAgIGxleGVyLmJhY2t1cCgpO1xuICAgICAgaWYgKGxleGVyLndpZHRoKCkgPiAwKSB7XG4gICAgICAgIGxleGVyLmVtaXQobHVuci5RdWVyeUxleGVyLlRFUk0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGx1bnIuUXVlcnlMZXhlci5sZXhFZGl0RGlzdGFuY2U7XG4gICAgfVxuXG4gICAgaWYgKGNoYXIgPT0gXCJeXCIpIHtcbiAgICAgIGxleGVyLmJhY2t1cCgpO1xuICAgICAgaWYgKGxleGVyLndpZHRoKCkgPiAwKSB7XG4gICAgICAgIGxleGVyLmVtaXQobHVuci5RdWVyeUxleGVyLlRFUk0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGx1bnIuUXVlcnlMZXhlci5sZXhCb29zdDtcbiAgICB9XG5cbiAgICBpZiAoY2hhci5tYXRjaChsdW5yLlF1ZXJ5TGV4ZXIudGVybVNlcGFyYXRvcikpIHtcbiAgICAgIHJldHVybiBsdW5yLlF1ZXJ5TGV4ZXIubGV4VGVybTtcbiAgICB9XG4gIH1cbn07XG5cbmx1bnIuUXVlcnlQYXJzZXIgPSBmdW5jdGlvbiAoc3RyLCBxdWVyeSkge1xuICB0aGlzLmxleGVyID0gbmV3IGx1bnIuUXVlcnlMZXhlciAoc3RyKTtcbiAgdGhpcy5xdWVyeSA9IHF1ZXJ5O1xuICB0aGlzLmN1cnJlbnRDbGF1c2UgPSB7fTtcbiAgdGhpcy5sZXhlbWVJZHggPSAwO1xufTtcblxubHVuci5RdWVyeVBhcnNlci5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMubGV4ZXIucnVuKCk7XG4gIHRoaXMubGV4ZW1lcyA9IHRoaXMubGV4ZXIubGV4ZW1lcztcblxuICB2YXIgc3RhdGUgPSBsdW5yLlF1ZXJ5UGFyc2VyLnBhcnNlRmllbGRPclRlcm07XG5cbiAgd2hpbGUgKHN0YXRlKSB7XG4gICAgc3RhdGUgPSBzdGF0ZSh0aGlzKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLnF1ZXJ5O1xufTtcblxubHVuci5RdWVyeVBhcnNlci5wcm90b3R5cGUucGVla0xleGVtZSA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMubGV4ZW1lc1t0aGlzLmxleGVtZUlkeF07XG59O1xuXG5sdW5yLlF1ZXJ5UGFyc2VyLnByb3RvdHlwZS5jb25zdW1lTGV4ZW1lID0gZnVuY3Rpb24gKCkge1xuICB2YXIgbGV4ZW1lID0gdGhpcy5wZWVrTGV4ZW1lKCk7XG4gIHRoaXMubGV4ZW1lSWR4ICs9IDE7XG4gIHJldHVybiBsZXhlbWU7XG59O1xuXG5sdW5yLlF1ZXJ5UGFyc2VyLnByb3RvdHlwZS5uZXh0Q2xhdXNlID0gZnVuY3Rpb24gKCkge1xuICB2YXIgY29tcGxldGVkQ2xhdXNlID0gdGhpcy5jdXJyZW50Q2xhdXNlO1xuICB0aGlzLnF1ZXJ5LmNsYXVzZShjb21wbGV0ZWRDbGF1c2UpO1xuICB0aGlzLmN1cnJlbnRDbGF1c2UgPSB7fTtcbn07XG5cbmx1bnIuUXVlcnlQYXJzZXIucGFyc2VGaWVsZE9yVGVybSA9IGZ1bmN0aW9uIChwYXJzZXIpIHtcbiAgdmFyIGxleGVtZSA9IHBhcnNlci5wZWVrTGV4ZW1lKCk7XG5cbiAgaWYgKGxleGVtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgc3dpdGNoIChsZXhlbWUudHlwZSkge1xuICAgIGNhc2UgbHVuci5RdWVyeUxleGVyLkZJRUxEOlxuICAgICAgcmV0dXJuIGx1bnIuUXVlcnlQYXJzZXIucGFyc2VGaWVsZDtcbiAgICBjYXNlIGx1bnIuUXVlcnlMZXhlci5URVJNOlxuICAgICAgcmV0dXJuIGx1bnIuUXVlcnlQYXJzZXIucGFyc2VUZXJtO1xuICAgIGRlZmF1bHQ6XG4gICAgICB2YXIgZXJyb3JNZXNzYWdlID0gXCJleHBlY3RlZCBlaXRoZXIgYSBmaWVsZCBvciBhIHRlcm0sIGZvdW5kIFwiICsgbGV4ZW1lLnR5cGU7XG5cbiAgICAgIGlmIChsZXhlbWUuc3RyLmxlbmd0aCA+PSAxKSB7XG4gICAgICAgIGVycm9yTWVzc2FnZSArPSBcIiB3aXRoIHZhbHVlICdcIiArIGxleGVtZS5zdHIgKyBcIidcIjtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgbmV3IGx1bnIuUXVlcnlQYXJzZUVycm9yIChlcnJvck1lc3NhZ2UsIGxleGVtZS5zdGFydCwgbGV4ZW1lLmVuZCk7XG4gIH1cbn07XG5cbmx1bnIuUXVlcnlQYXJzZXIucGFyc2VGaWVsZCA9IGZ1bmN0aW9uIChwYXJzZXIpIHtcbiAgdmFyIGxleGVtZSA9IHBhcnNlci5jb25zdW1lTGV4ZW1lKCk7XG5cbiAgaWYgKGxleGVtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGVycm9yTWVzc2FnZTtcbiAgaWYgKHBhcnNlci5xdWVyeS5hbGxGaWVsZHMuaW5kZXhPZihsZXhlbWUuc3RyKSA9PSAtMSkge1xuICAgIHZhciBwb3NzaWJsZUZpZWxkcyA9IHBhcnNlci5xdWVyeS5hbGxGaWVsZHMubWFwKGZ1bmN0aW9uIChmKSB7IHJldHVybiBcIidcIiArIGYgKyBcIidcIjsgfSkuam9pbignLCAnKTtcbiAgICAgICAgZXJyb3JNZXNzYWdlID0gXCJ1bnJlY29nbmlzZWQgZmllbGQgJ1wiICsgbGV4ZW1lLnN0ciArIFwiJywgcG9zc2libGUgZmllbGRzOiBcIiArIHBvc3NpYmxlRmllbGRzO1xuXG4gICAgdGhyb3cgbmV3IGx1bnIuUXVlcnlQYXJzZUVycm9yIChlcnJvck1lc3NhZ2UsIGxleGVtZS5zdGFydCwgbGV4ZW1lLmVuZCk7XG4gIH1cblxuICBwYXJzZXIuY3VycmVudENsYXVzZS5maWVsZHMgPSBbbGV4ZW1lLnN0cl07XG5cbiAgdmFyIG5leHRMZXhlbWUgPSBwYXJzZXIucGVla0xleGVtZSgpO1xuXG4gIGlmIChuZXh0TGV4ZW1lID09PSB1bmRlZmluZWQpIHtcbiAgICBlcnJvck1lc3NhZ2UgPSBcImV4cGVjdGluZyB0ZXJtLCBmb3VuZCBub3RoaW5nXCI7XG4gICAgdGhyb3cgbmV3IGx1bnIuUXVlcnlQYXJzZUVycm9yIChlcnJvck1lc3NhZ2UsIGxleGVtZS5zdGFydCwgbGV4ZW1lLmVuZCk7XG4gIH1cblxuICBzd2l0Y2ggKG5leHRMZXhlbWUudHlwZSkge1xuICAgIGNhc2UgbHVuci5RdWVyeUxleGVyLlRFUk06XG4gICAgICByZXR1cm4gbHVuci5RdWVyeVBhcnNlci5wYXJzZVRlcm07XG4gICAgZGVmYXVsdDpcbiAgICAgIGVycm9yTWVzc2FnZSA9IFwiZXhwZWN0aW5nIHRlcm0sIGZvdW5kICdcIiArIG5leHRMZXhlbWUudHlwZSArIFwiJ1wiO1xuICAgICAgdGhyb3cgbmV3IGx1bnIuUXVlcnlQYXJzZUVycm9yIChlcnJvck1lc3NhZ2UsIG5leHRMZXhlbWUuc3RhcnQsIG5leHRMZXhlbWUuZW5kKTtcbiAgfVxufTtcblxubHVuci5RdWVyeVBhcnNlci5wYXJzZVRlcm0gPSBmdW5jdGlvbiAocGFyc2VyKSB7XG4gIHZhciBsZXhlbWUgPSBwYXJzZXIuY29uc3VtZUxleGVtZSgpO1xuXG4gIGlmIChsZXhlbWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHBhcnNlci5jdXJyZW50Q2xhdXNlLnRlcm0gPSBsZXhlbWUuc3RyLnRvTG93ZXJDYXNlKCk7XG5cbiAgaWYgKGxleGVtZS5zdHIuaW5kZXhPZihcIipcIikgIT0gLTEpIHtcbiAgICBwYXJzZXIuY3VycmVudENsYXVzZS51c2VQaXBlbGluZSA9IGZhbHNlO1xuICB9XG5cbiAgdmFyIG5leHRMZXhlbWUgPSBwYXJzZXIucGVla0xleGVtZSgpO1xuXG4gIGlmIChuZXh0TGV4ZW1lID09PSB1bmRlZmluZWQpIHtcbiAgICBwYXJzZXIubmV4dENsYXVzZSgpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHN3aXRjaCAobmV4dExleGVtZS50eXBlKSB7XG4gICAgY2FzZSBsdW5yLlF1ZXJ5TGV4ZXIuVEVSTTpcbiAgICAgIHBhcnNlci5uZXh0Q2xhdXNlKCk7XG4gICAgICByZXR1cm4gbHVuci5RdWVyeVBhcnNlci5wYXJzZVRlcm07XG4gICAgY2FzZSBsdW5yLlF1ZXJ5TGV4ZXIuRklFTEQ6XG4gICAgICBwYXJzZXIubmV4dENsYXVzZSgpO1xuICAgICAgcmV0dXJuIGx1bnIuUXVlcnlQYXJzZXIucGFyc2VGaWVsZDtcbiAgICBjYXNlIGx1bnIuUXVlcnlMZXhlci5FRElUX0RJU1RBTkNFOlxuICAgICAgcmV0dXJuIGx1bnIuUXVlcnlQYXJzZXIucGFyc2VFZGl0RGlzdGFuY2U7XG4gICAgY2FzZSBsdW5yLlF1ZXJ5TGV4ZXIuQk9PU1Q6XG4gICAgICByZXR1cm4gbHVuci5RdWVyeVBhcnNlci5wYXJzZUJvb3N0O1xuICAgIGRlZmF1bHQ6XG4gICAgICB2YXIgZXJyb3JNZXNzYWdlID0gXCJVbmV4cGVjdGVkIGxleGVtZSB0eXBlICdcIiArIG5leHRMZXhlbWUudHlwZSArIFwiJ1wiO1xuICAgICAgdGhyb3cgbmV3IGx1bnIuUXVlcnlQYXJzZUVycm9yIChlcnJvck1lc3NhZ2UsIG5leHRMZXhlbWUuc3RhcnQsIG5leHRMZXhlbWUuZW5kKTtcbiAgfVxufTtcblxubHVuci5RdWVyeVBhcnNlci5wYXJzZUVkaXREaXN0YW5jZSA9IGZ1bmN0aW9uIChwYXJzZXIpIHtcbiAgdmFyIGxleGVtZSA9IHBhcnNlci5jb25zdW1lTGV4ZW1lKCk7XG5cbiAgaWYgKGxleGVtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGVkaXREaXN0YW5jZSA9IHBhcnNlSW50KGxleGVtZS5zdHIsIDEwKTtcblxuICB2YXIgZXJyb3JNZXNzYWdlO1xuICBpZiAoaXNOYU4oZWRpdERpc3RhbmNlKSkge1xuICAgIGVycm9yTWVzc2FnZSA9IFwiZWRpdCBkaXN0YW5jZSBtdXN0IGJlIG51bWVyaWNcIjtcbiAgICB0aHJvdyBuZXcgbHVuci5RdWVyeVBhcnNlRXJyb3IgKGVycm9yTWVzc2FnZSwgbGV4ZW1lLnN0YXJ0LCBsZXhlbWUuZW5kKTtcbiAgfVxuXG4gIHBhcnNlci5jdXJyZW50Q2xhdXNlLmVkaXREaXN0YW5jZSA9IGVkaXREaXN0YW5jZTtcblxuICB2YXIgbmV4dExleGVtZSA9IHBhcnNlci5wZWVrTGV4ZW1lKCk7XG5cbiAgaWYgKG5leHRMZXhlbWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHBhcnNlci5uZXh0Q2xhdXNlKCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgc3dpdGNoIChuZXh0TGV4ZW1lLnR5cGUpIHtcbiAgICBjYXNlIGx1bnIuUXVlcnlMZXhlci5URVJNOlxuICAgICAgcGFyc2VyLm5leHRDbGF1c2UoKTtcbiAgICAgIHJldHVybiBsdW5yLlF1ZXJ5UGFyc2VyLnBhcnNlVGVybTtcbiAgICBjYXNlIGx1bnIuUXVlcnlMZXhlci5GSUVMRDpcbiAgICAgIHBhcnNlci5uZXh0Q2xhdXNlKCk7XG4gICAgICByZXR1cm4gbHVuci5RdWVyeVBhcnNlci5wYXJzZUZpZWxkO1xuICAgIGNhc2UgbHVuci5RdWVyeUxleGVyLkVESVRfRElTVEFOQ0U6XG4gICAgICByZXR1cm4gbHVuci5RdWVyeVBhcnNlci5wYXJzZUVkaXREaXN0YW5jZTtcbiAgICBjYXNlIGx1bnIuUXVlcnlMZXhlci5CT09TVDpcbiAgICAgIHJldHVybiBsdW5yLlF1ZXJ5UGFyc2VyLnBhcnNlQm9vc3Q7XG4gICAgZGVmYXVsdDpcbiAgICAgIGVycm9yTWVzc2FnZSA9IFwiVW5leHBlY3RlZCBsZXhlbWUgdHlwZSAnXCIgKyBuZXh0TGV4ZW1lLnR5cGUgKyBcIidcIjtcbiAgICAgIHRocm93IG5ldyBsdW5yLlF1ZXJ5UGFyc2VFcnJvciAoZXJyb3JNZXNzYWdlLCBuZXh0TGV4ZW1lLnN0YXJ0LCBuZXh0TGV4ZW1lLmVuZCk7XG4gIH1cbn07XG5cbmx1bnIuUXVlcnlQYXJzZXIucGFyc2VCb29zdCA9IGZ1bmN0aW9uIChwYXJzZXIpIHtcbiAgdmFyIGxleGVtZSA9IHBhcnNlci5jb25zdW1lTGV4ZW1lKCk7XG5cbiAgdmFyIGVycm9yTWVzc2FnZTtcbiAgaWYgKGxleGVtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGJvb3N0ID0gcGFyc2VJbnQobGV4ZW1lLnN0ciwgMTApO1xuXG4gIGlmIChpc05hTihib29zdCkpIHtcbiAgICBlcnJvck1lc3NhZ2UgPSBcImJvb3N0IG11c3QgYmUgbnVtZXJpY1wiO1xuICAgIHRocm93IG5ldyBsdW5yLlF1ZXJ5UGFyc2VFcnJvciAoZXJyb3JNZXNzYWdlLCBsZXhlbWUuc3RhcnQsIGxleGVtZS5lbmQpO1xuICB9XG5cbiAgcGFyc2VyLmN1cnJlbnRDbGF1c2UuYm9vc3QgPSBib29zdDtcblxuICB2YXIgbmV4dExleGVtZSA9IHBhcnNlci5wZWVrTGV4ZW1lKCk7XG5cbiAgaWYgKG5leHRMZXhlbWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHBhcnNlci5uZXh0Q2xhdXNlKCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgc3dpdGNoIChuZXh0TGV4ZW1lLnR5cGUpIHtcbiAgICBjYXNlIGx1bnIuUXVlcnlMZXhlci5URVJNOlxuICAgICAgcGFyc2VyLm5leHRDbGF1c2UoKTtcbiAgICAgIHJldHVybiBsdW5yLlF1ZXJ5UGFyc2VyLnBhcnNlVGVybTtcbiAgICBjYXNlIGx1bnIuUXVlcnlMZXhlci5GSUVMRDpcbiAgICAgIHBhcnNlci5uZXh0Q2xhdXNlKCk7XG4gICAgICByZXR1cm4gbHVuci5RdWVyeVBhcnNlci5wYXJzZUZpZWxkO1xuICAgIGNhc2UgbHVuci5RdWVyeUxleGVyLkVESVRfRElTVEFOQ0U6XG4gICAgICByZXR1cm4gbHVuci5RdWVyeVBhcnNlci5wYXJzZUVkaXREaXN0YW5jZTtcbiAgICBjYXNlIGx1bnIuUXVlcnlMZXhlci5CT09TVDpcbiAgICAgIHJldHVybiBsdW5yLlF1ZXJ5UGFyc2VyLnBhcnNlQm9vc3Q7XG4gICAgZGVmYXVsdDpcbiAgICAgIGVycm9yTWVzc2FnZSA9IFwiVW5leHBlY3RlZCBsZXhlbWUgdHlwZSAnXCIgKyBuZXh0TGV4ZW1lLnR5cGUgKyBcIidcIjtcbiAgICAgIHRocm93IG5ldyBsdW5yLlF1ZXJ5UGFyc2VFcnJvciAoZXJyb3JNZXNzYWdlLCBuZXh0TGV4ZW1lLnN0YXJ0LCBuZXh0TGV4ZW1lLmVuZCk7XG4gIH1cbn1cblxuICAvKipcbiAgICogZXhwb3J0IHRoZSBtb2R1bGUgdmlhIEFNRCwgQ29tbW9uSlMgb3IgYXMgYSBicm93c2VyIGdsb2JhbFxuICAgKiBFeHBvcnQgY29kZSBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS91bWRqcy91bWQvYmxvYi9tYXN0ZXIvcmV0dXJuRXhwb3J0cy5qc1xuICAgKi9cbiAgOyhmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cbiAgICAgIGRlZmluZShmYWN0b3J5KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgICAgLyoqXG4gICAgICAgKiBOb2RlLiBEb2VzIG5vdCB3b3JrIHdpdGggc3RyaWN0IENvbW1vbkpTLCBidXRcbiAgICAgICAqIG9ubHkgQ29tbW9uSlMtbGlrZSBlbnZpcm9tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsXG4gICAgICAgKiBsaWtlIE5vZGUuXG4gICAgICAgKi9cbiAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBCcm93c2VyIGdsb2JhbHMgKHJvb3QgaXMgd2luZG93KVxuICAgICAgcm9vdC5sdW5yID0gZmFjdG9yeSgpO1xuICAgIH1cbiAgfSh0aGlzLCBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogSnVzdCByZXR1cm4gYSB2YWx1ZSB0byBkZWZpbmUgdGhlIG1vZHVsZSBleHBvcnQuXG4gICAgICogVGhpcyBleGFtcGxlIHJldHVybnMgYW4gb2JqZWN0LCBidXQgdGhlIG1vZHVsZVxuICAgICAqIGNhbiByZXR1cm4gYSBmdW5jdGlvbiBhcyB0aGUgZXhwb3J0ZWQgdmFsdWUuXG4gICAgICovXG4gICAgcmV0dXJuIGx1bnI7XG4gIH0pKTtcbn0pKCk7XG5cblxuICAvLyBBZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3BzZXVkb255bTExNy9MZXZlbnNodGVpblxuKGZ1bmN0aW9uKHJvb3QsIGZhY3Rvcnkpe1xuICAgIGlmICh0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGRlZmluZS5hbWQgPT0gJ29iamVjdCcgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICBkZWZpbmUoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiBmYWN0b3J5KHJvb3QpO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyb290KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByb290LkxldmVuc2h0ZWluID0gZmFjdG9yeShyb290KTtcbiAgICB9XG59KHRoaXMsIGZ1bmN0aW9uKHJvb3Qpe1xuXG4gICAgZnVuY3Rpb24gZm9yRWFjaCggYXJyYXksIGZuICkgeyB2YXIgaSwgbGVuZ3RoO1xuICAgICAgICBpID0gLTE7XG4gICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCArK2kgPCBsZW5ndGggKVxuICAgICAgICAgICAgZm4oIGFycmF5WyBpIF0sIGksIGFycmF5ICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFwKCBhcnJheSwgZm4gKSB7IHZhciByZXN1bHQ7XG4gICAgICAgIHJlc3VsdCA9IEFycmF5KCBhcnJheS5sZW5ndGggKTtcbiAgICAgICAgZm9yRWFjaCggYXJyYXksIGZ1bmN0aW9uICggdmFsLCBpLCBhcnJheSApIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKCBmbiggdmFsLCBpLCBhcnJheSApICk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlZHVjZSggYXJyYXksIGZuLCBhY2N1bXVsYXRvciApIHtcbiAgICAgICAgZm9yRWFjaCggYXJyYXksIGZ1bmN0aW9uKCB2YWwsIGksIGFycmF5ICkge1xuICAgICAgICAgICAgYWNjdW11bGF0b3IgPSBmbiggdmFsLCBpLCBhcnJheSApO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICAgIH1cblxuICAgIC8vIEZvciBzdHJpbmcgbW9kZVxuICAgIGZ1bmN0aW9uIGdldENoYXIoc3RyLCBpZHgpIHtcbiAgICAgICAgcmV0dXJuIHN0ci5jaGFyQXQoaWR4KTtcbiAgICB9XG5cbiAgICAvLyBGb3IgYXJyYXkgbW9kZVxuICAgIGZ1bmN0aW9uIGdldEFycmF5TWVtYmVyKGFyciwgaWR4KSB7XG4gICAgICAgIHJldHVybiBhcnJbaWR4XTtcbiAgICB9XG5cbiAgICAvLyBMZXZlbnNodGVpbiBkaXN0YW5jZVxuICAgIGZ1bmN0aW9uIExldmVuc2h0ZWluKCBzdHJfbSwgc3RyX24gKSB7XG4gICAgICAgIHZhciBwcmV2aW91cywgY3VycmVudCwgbWF0cml4LCBnZXRFbGVtO1xuICAgICAgICAvLyBTZXQgdG8gc3RyaW5nIG9yIGFycmF5IG1vZGVcbiAgICAgICAgaWYgKHR5cGVvZiBzdHJfbSA9PT0gXCJzdHJpbmdcIiAmJiB0eXBlb2Ygc3RyX24gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGdldEVsZW0gPSBnZXRDaGFyO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBzdHJfbSA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2Ygc3RyX24gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIGdldEVsZW0gPSBnZXRBcnJheU1lbWJlcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IFwiTGV2ZW5zdGh0ZWluOiBpbnB1dCBtdXN0IGJlIHR3byBzdHJpbmdzIG9yIHR3byBhcnJheXNcIjtcbiAgICAgICAgfVxuICAgICAgICAvLyBDb25zdHJ1Y3RvclxuICAgICAgICBtYXRyaXggPSB0aGlzLl9tYXRyaXggPSBbXTtcblxuICAgICAgICAvLyBTYW5pdHkgY2hlY2tzXG4gICAgICAgIGlmICggc3RyX20gPT0gc3RyX24gKSB7XG4gICAgICAgICAgdGhpcy5kaXN0YW5jZSA9IDA7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZGlzdGFuY2U7XG4gICAgICAgIH1lbHNlIGlmICggc3RyX20gPT09ICcnICl7XG4gICAgICAgICAgdGhpcy5kaXN0YW5jZSA9IHN0cl9uLmxlbmd0aDtcbiAgICAgICAgICByZXR1cm4gdGhpcy5kaXN0YW5jZTtcbiAgICAgICAgfWVsc2UgaWYgKCBzdHJfbiA9PT0gJycgKSB7XG4gICAgICAgICAgdGhpcy5kaXN0YW5jZSA9IHN0cl9tLmxlbmd0aDtcbiAgICAgICAgICByZXR1cm4gdGhpcy5kaXN0YW5jZTtcbiAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgLy8gRGFuZ2VyIFdpbGwgUm9iaW5zb25cbiAgICAgICAgICAgIHByZXZpb3VzID0gWyAwIF07XG4gICAgICAgICAgICBmb3JFYWNoKCBzdHJfbSwgZnVuY3Rpb24odixpKXtcbiAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICBwcmV2aW91c1tpXSA9IGk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgbWF0cml4WzBdID0gcHJldmlvdXM7XG4gICAgICAgICAgICBmb3JFYWNoKCBzdHJfbiwgZnVuY3Rpb24oIG5fdmFsLCBuX2lkeCApIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gWyArK25faWR4IF07XG4gICAgICAgICAgICAgICAgZm9yRWFjaCggc3RyX20sIGZ1bmN0aW9uKCBtX3ZhbCwgbV9pZHggKSB7XG4gICAgICAgICAgICAgICAgICAgIG1faWR4Kys7XG4gICAgICAgICAgICAgICAgICAgIGlmICggZ2V0RWxlbShzdHJfbSwgbV9pZHggLSAxKSA9PSBnZXRFbGVtKHN0cl9uLCBuX2lkeCAtIDEpIClcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRbIG1faWR4IF0gPSBwcmV2aW91c1sgbV9pZHggLSAxIF07XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRbIG1faWR4IF0gPSBNYXRoLm1pbiggcHJldmlvdXNbIG1faWR4IF0gKyAxLCBjdXJyZW50WyBtX2lkeCAtIDEgXSArIDEsIHByZXZpb3VzWyBtX2lkeCAtIDEgXSArIDEpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHByZXZpb3VzID0gY3VycmVudDtcbiAgICAgICAgICAgICAgICBtYXRyaXhbIG1hdHJpeC5sZW5ndGggXSA9IHByZXZpb3VzO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuZGlzdGFuY2UgPSBjdXJyZW50WyBjdXJyZW50Lmxlbmd0aCAtIDEgXTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRpc3RhbmNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgTGV2ZW5zaHRlaW4ucHJvdG90eXBlLnRvU3RyaW5nID0gTGV2ZW5zaHRlaW4ucHJvdG90eXBlLmluc3BlY3QgPSBmdW5jdGlvbiBpbnNwZWN0ICggbm9fcHJpbnQgKSB7IHZhciBtYXRyaXgsIG1heCwgYnVmZiwgc2VwLCByb3dzO1xuICAgICAgICBtYXRyaXggPSB0aGlzLmdldE1hdHJpeCgpO1xuICAgICAgICBtYXggPSByZWR1Y2UoIG1hdHJpeCxmdW5jdGlvbiggbSwgbyApIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1heCggbSwgcmVkdWNlKCBvLCBNYXRoLm1heCwgMCApICk7XG4gICAgICAgIH0sIDAgKTtcbiAgICAgICAgYnVmZiA9IEFycmF5KCAoIG1heCArICcnICkubGVuZ3RoICkuam9pbiggJyAnICk7XG5cbiAgICAgICAgc2VwID0gW107XG4gICAgICAgIHdoaWxlICggc2VwLmxlbmd0aCA8IChtYXRyaXhbMF0gJiYgbWF0cml4WzBdLmxlbmd0aCB8fCAwKSApXG4gICAgICAgICAgICBzZXBbIHNlcC5sZW5ndGggXSA9IEFycmF5KCBidWZmLmxlbmd0aCArIDEgKS5qb2luKCAnLScgKTtcbiAgICAgICAgc2VwID0gc2VwLmpvaW4oICctKycgKSArICctJztcblxuICAgICAgICByb3dzID0gbWFwKCBtYXRyaXgsIGZ1bmN0aW9uKCByb3cgKSB7IHZhciBjZWxscztcbiAgICAgICAgICAgIGNlbGxzID0gbWFwKCByb3csIGZ1bmN0aW9uKCBjZWxsICkge1xuICAgICAgICAgICAgICAgIHJldHVybiAoIGJ1ZmYgKyBjZWxsICkuc2xpY2UoIC0gYnVmZi5sZW5ndGggKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGNlbGxzLmpvaW4oICcgfCcgKSArICcgJztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHJvd3Muam9pbiggXCJcXG5cIiArIHNlcCArIFwiXFxuXCIgKTtcbiAgICB9O1xuXG4gICAgLy8gc3RlcHMgdG8gZ2V0IGZyb20gc3RyaW5nIDEgdG8gc3RyaW5nIDJcbiAgICBMZXZlbnNodGVpbi5wcm90b3R5cGUuZ2V0U3RlcHMgPSBmdW5jdGlvbigpICAgICB7XG4gICAgICAgIHZhciBzdGVwcywgbWF0cml4LCB4LCB5LCB1LCBsLCBkLCBtaW47XG4gICAgICAgIHN0ZXBzID0gW107XG4gICAgICAgIG1hdHJpeCA9IHRoaXMuZ2V0TWF0cml4KCk7XG4gICAgICAgIHggPSBtYXRyaXgubGVuZ3RoIC0gMTtcbiAgICAgICAgeSA9IG1hdHJpeFswXS5sZW5ndGggLSAxO1xuICAgICAgICB3aGlsZSh4ICE9PSAwIHx8IHkgIT09IDApICAgICB7XG4gICAgICAgICAgICB1ID0geSA+IDAgPyBtYXRyaXhbeF1beS0xXSA6IE51bWJlci5NQVhfVkFMVUU7XG4gICAgICAgICAgICBsID0geCA+IDAgPyBtYXRyaXhbeC0xXVt5XSA6IE51bWJlci5NQVhfVkFMVUU7XG4gICAgICAgICAgICBkID0geSA+IDAgJiYgeCA+IDAgPyBtYXRyaXhbeC0xXVt5LTFdIDogTnVtYmVyLk1BWF9WQUxVRTtcbiAgICAgICAgICAgIG1pbiA9IE1hdGgubWluKHUsIGwsIGQpO1xuICAgICAgICAgICAgaWYobWluID09PSBkKSB7XG4gICAgICAgICAgICAgICAgaWYoZCA8IG1hdHJpeFt4XVt5XSkge1xuICAgICAgICAgICAgICAgICAgICBzdGVwcy5wdXNoKFsnc3Vic3RpdHV0ZScsIHksIHhdKTtcbiAgICAgICAgICAgICAgICB9Ly8gIGVsc2Ugc3RlcHMucHVzaChbJ25vLW9wJywgeSwgeF0pXG4gICAgICAgICAgICAgICAgeC0tO1xuICAgICAgICAgICAgICAgIHktLTtcbiAgICAgICAgICAgIH0gZWxzZSBpZihtaW4gPT09IGwpIHtcbiAgICAgICAgICAgICAgICBzdGVwcy5wdXNoKFsnaW5zZXJ0JywgeSwgeF0pO1xuICAgICAgICAgICAgICAgIHgtLTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3RlcHMucHVzaChbJ2RlbGV0ZScsIHksIHhdKTtcbiAgICAgICAgICAgICAgICB5LS07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0ZXBzO1xuICAgIH07XG5cbiAgICBMZXZlbnNodGVpbi5wcm90b3R5cGUuZ2V0TWF0cml4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWF0cml4LnNsaWNlKCk7XG4gICAgfTtcblxuICAgIExldmVuc2h0ZWluLnByb3RvdHlwZS52YWx1ZU9mID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpc3RhbmNlO1xuICAgIH07XG5cbiAgICByZXR1cm4gTGV2ZW5zaHRlaW47XG5cbn0pKTtcblxuXG4gIC8vVGhpcyBpcyB0aGUgbWFpbiBwbHVnaW4gZGVmaW5pdGlvblxuICAkLmZuLmdob3N0SHVudGVyICA9IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXG4gICAgLy9IZXJlIHdlIHVzZSBqUXVlcnkncyBleHRlbmQgdG8gc2V0IGRlZmF1bHQgdmFsdWVzIGlmIHRoZXkgd2VyZW4ndCBzZXQgYnkgdGhlIHVzZXJcbiAgICB2YXIgb3B0cyAgICA9ICQuZXh0ZW5kKCB7fSwgJC5mbi5naG9zdEh1bnRlci5kZWZhdWx0cywgb3B0aW9ucyApO1xuICAgIGlmKCBvcHRzLnJlc3VsdHMgKVxuICAgIHtcbiAgICAgIHBsdWdpbk1ldGhvZHMuaW5pdCggdGhpcyAsIG9wdHMgKTtcbiAgICAgIHJldHVybiBwbHVnaW5NZXRob2RzO1xuICAgIH1cbiAgfTtcblxuICAvLyBJZiB0aGUgR2hvc3QgaW5zdGFuY2UgaXMgaW4gYSBzdWJwYXRoIG9mIHRoZSBzaXRlLCBzZXQgc3VicGF0aFxuICAvLyBhcyB0aGUgcGF0aCB0byB0aGUgc2l0ZSB3aXRoIGEgbGVhZGluZyBzbGFzaCBhbmQgbm8gdHJhaWxpbmcgc2xhc2hcbiAgLy8gKGkuZS4gXCIvcGF0aC90by9pbnN0YW5jZVwiKS5cbiAgJC5mbi5naG9zdEh1bnRlci5kZWZhdWx0cyA9IHtcbiAgICByZXN1bHRzRGF0YSAgICAgOiBmYWxzZSxcbiAgICBvblBhZ2VMb2FkICAgICAgOiB0cnVlLFxuICAgIG9uS2V5VXAgICAgICAgOiBmYWxzZSxcbiAgICByZXN1bHRfdGVtcGxhdGUgICA6IFwiPGEgaWQ9J2doLXt7cmVmfX0nIGNsYXNzPSdnaC1zZWFyY2gtaXRlbScgaHJlZj0ne3tsaW5rfX0nPjxwPjxoMj57e3RpdGxlfX08L2gyPjxoND57e3ByZXR0eVB1YkRhdGV9fTwvaDQ+PC9wPjwvYT5cIixcbiAgICBpbmZvX3RlbXBsYXRlICAgOiBcIjxwPk51bWJlciBvZiBwb3N0cyBmb3VuZDoge3thbW91bnR9fTwvcD5cIixcbiAgICBkaXNwbGF5U2VhcmNoSW5mbyA6IHRydWUsXG4gICAgemVyb1Jlc3VsdHNJbmZvICAgOiB0cnVlLFxuICAgIGJlZm9yZSAgICAgICAgOiBmYWxzZSxcbiAgICBvbkNvbXBsZXRlICAgICAgOiBmYWxzZSxcbiAgICBpbmNsdWRlcGFnZXMgICAgOiBmYWxzZSxcbiAgICBmaWx0ZXJmaWVsZHMgICAgOiBmYWxzZSxcbiAgICBzdWJwYXRoICAgICAgIDogXCJcIixcbiAgICBpdGVtX3ByZXByb2Nlc3NvciA6IGZhbHNlLFxuICAgIGluZGV4aW5nX3N0YXJ0ICAgIDogZmFsc2UsXG4gICAgaW5kZXhpbmdfZW5kICAgIDogZmFsc2VcbiAgfTtcbiAgdmFyIHByZXR0eURhdGUgPSBmdW5jdGlvbihkYXRlKSB7XG4gICAgdmFyIGQgPSBuZXcgRGF0ZShkYXRlKTtcbiAgICB2YXIgbW9udGhOYW1lcyA9IFtcIkphbnVhcnlcIiwgXCJGZWJydWFyeVwiLCBcIk1hcmNoXCIsIFwiQXByaWxcIiwgXCJNYXlcIiwgXCJKdW5lXCIsIFwiSnVseVwiLCBcIkF1Z3VzdFwiLCBcIlNlcHRlbWJlclwiLCBcIk9jdG9iZXJcIiwgXCJOb3ZlbWJlclwiLCBcIkRlY2VtYmVyXCJdO1xuICAgICAgcmV0dXJuIGQuZ2V0RGF0ZSgpICsgJyAnICsgbW9udGhOYW1lc1tkLmdldE1vbnRoKCldICsgJyAnICsgZC5nZXRGdWxsWWVhcigpO1xuICB9O1xuXG4gIHZhciBnZXRTdWJwYXRoS2V5ID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eXFwvLywgXCJcIikucmVwbGFjZSgvXFwvL2csIFwiLVwiKTtcbiAgfTtcblxuICB2YXIgbGFzdFRpbWVvdXRJRCA9IG51bGw7XG5cbiAgLy8gV2UgYWRkIGEgcHJlZml4IHRvIG5ldyBJRHMgYW5kIHJlbW92ZSBpdCBhZnRlciBhIHNldCBvZlxuICAvLyB1cGRhdGVzIGlzIGNvbXBsZXRlLCBqdXN0IGluIGNhc2UgYSBicm93c2VyIGZyZWFrcyBvdmVyXG4gIC8vIGR1cGxpY2F0ZSBJRHMgaW4gdGhlIERPTS5cbiAgdmFyIHNldHRsZUlEcyA9IGZ1bmN0aW9uKCkge1xuICAgICQoJy5naC1zZWFyY2gtaXRlbScpLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgIHZhciBvbGRBdHRyID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2lkJyk7XG4gICAgICB2YXIgbmV3QXR0ciA9IG9sZEF0dHIucmVwbGFjZSgvXm5ldy0vLCBcIlwiKTtcbiAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdpZCcsIG5ld0F0dHIpO1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciB1cGRhdGVTZWFyY2hMaXN0ID0gZnVuY3Rpb24obGlzdEl0ZW1zLCBhcGlEYXRhLCBzdGVwcykge1xuICAgIGZvciAodmFyIGk9MCxpbGVuPXN0ZXBzLmxlbmd0aDtpPGlsZW47aSsrKSB7XG4gICAgICB2YXIgc3RlcCA9IHN0ZXBzW2ldO1xuICAgICAgaWYgKHN0ZXBbMF0gPT0gXCJkZWxldGVcIikge1xuICAgICAgICBsaXN0SXRlbXMuZXEoc3RlcFsxXS0xKS5yZW1vdmUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBsdW5ycmVmID0gYXBpRGF0YVtzdGVwWzJdLTFdLnJlZjtcbiAgICAgICAgdmFyIHBvc3REYXRhID0gdGhpcy5ibG9nRGF0YVtsdW5ycmVmXTtcbiAgICAgICAgdmFyIGh0bWwgPSB0aGlzLmZvcm1hdCh0aGlzLnJlc3VsdF90ZW1wbGF0ZSxwb3N0RGF0YSk7XG4gICAgICAgIGlmIChzdGVwWzBdID09PSBcInN1YnN0aXR1dGVcIikge1xuICAgICAgICAgIGxpc3RJdGVtcy5lcShzdGVwWzFdLTEpLnJlcGxhY2VXaXRoKGh0bWwpO1xuICAgICAgICB9IGVsc2UgaWYgKHN0ZXBbMF0gPT09IFwiaW5zZXJ0XCIpIHtcbiAgICAgICAgICB2YXIgcG9zO1xuICAgICAgICAgIGlmIChzdGVwWzFdID09PSAwKSB7XG4gICAgICAgICAgICBwb3MgPSBudWxsO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwb3MgPSAoc3RlcFsxXS0xKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGlzdEl0ZW1zLmVxKHBvcykuYWZ0ZXIoaHRtbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgc2V0dGxlSURzKCk7XG4gIH07XG5cbiAgdmFyIGdyYWJBbmRJbmRleCA9IGZ1bmN0aW9uKCl7XG4gICAgLy8gY29uc29sZS5sb2coJ2dob3N0SHVudGVyOiBncmFiQW5kSW5kZXgnKTtcbiAgICB0aGlzLmJsb2dEYXRhID0ge307XG4gICAgdGhpcy5sYXRlc3RQb3N0ID0gMDtcbiAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgbGltaXQ6IFwiYWxsXCIsXG4gICAgICBpbmNsdWRlOiBcInRhZ3NcIixcbiAgICAgIGZvcm1hdHM6IFtcInBsYWludGV4dFwiXVxuICAgIH07XG4gICAgaWYgICggdGhpcy5pbmNsdWRlcGFnZXMgKXtcbiAgICAgIHBhcmFtcy5maWx0ZXI9XCIocGFnZTp0cnVlLHBhZ2U6ZmFsc2UpXCI7XG4gICAgfVxuICAgIHZhciBtZSA9IHRoaXM7XG4gICAgJC5nZXQoZ2hvc3QudXJsLmFwaSgncG9zdHMnLHBhcmFtcykpLmRvbmUoZnVuY3Rpb24oZGF0YSl7XG4gICAgICB2YXIgaWR4U3JjID0gZGF0YS5wb3N0cztcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwiZ2hvc3RIdW50ZXI6IGluZGV4aW5nIGFsbCBwb3N0c1wiKVxuICAgICAgbWUuaW5kZXggPSBsdW5yKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZWYoJ2lkJyk7XG4gICAgICAgIHRoaXMuZmllbGQoJ3RpdGxlJyk7XG4gICAgICAgIHRoaXMuZmllbGQoJ2Rlc2NyaXB0aW9uJyk7XG4gICAgICAgIHRoaXMuZmllbGQoJ3BsYWludGV4dCcpO1xuICAgICAgICB0aGlzLmZpZWxkKCdwdWJEYXRlJyk7XG4gICAgICAgIHRoaXMuZmllbGQoJ3RhZycpO1xuICAgICAgICBpZHhTcmMuZm9yRWFjaChmdW5jdGlvbiAoYXJyYXlJdGVtKSB7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coXCJzdGFydCBpbmRleGluZyBhbiBpdGVtOiBcIiArIGFycmF5SXRlbS5pZCk7XG4gICAgICAgICAgLy8gVHJhY2sgdGhlIGxhdGVzdCB2YWx1ZSBvZiB1cGRhdGVkX2F0LCAgdG8gc3Rhc2ggaW4gbG9jYWxTdG9yYWdlXG4gICAgICAgICAgdmFyIGl0ZW1EYXRlID0gbmV3IERhdGUoYXJyYXlJdGVtLnVwZGF0ZWRfYXQpLmdldFRpbWUoKTtcbiAgICAgICAgICB2YXIgcmVjb3JkZWREYXRlID0gbmV3IERhdGUobWUubGF0ZXN0UG9zdCkuZ2V0VGltZSgpO1xuICAgICAgICAgIGlmIChpdGVtRGF0ZSA+IHJlY29yZGVkRGF0ZSkge1xuICAgICAgICAgICAgbWUubGF0ZXN0UG9zdCA9IGFycmF5SXRlbS51cGRhdGVkX2F0O1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgdGFnX2FyciA9IGFycmF5SXRlbS50YWdzLm1hcChmdW5jdGlvbih2KSB7XG4gICAgICAgICAgICByZXR1cm4gdi5uYW1lOyAvLyBgdGFnYCBvYmplY3QgaGFzIGFuIGBuYW1lYCBwcm9wZXJ0eSB3aGljaCBpcyB0aGUgdmFsdWUgb2YgdGFnLiBJZiB5b3UgYWxzbyB3YW50IG90aGVyIGluZm8sIGNoZWNrIEFQSSBhbmQgZ2V0IHRoYXQgcHJvcGVydHlcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZihhcnJheUl0ZW0ubWV0YV9kZXNjcmlwdGlvbiA9PT0gbnVsbCkgeyBhcnJheUl0ZW0ubWV0YV9kZXNjcmlwdGlvbiA9ICcnOyB9XG4gICAgICAgICAgdmFyIGNhdGVnb3J5ID0gdGFnX2Fyci5qb2luKFwiLCBcIik7XG4gICAgICAgICAgaWYgKGNhdGVnb3J5Lmxlbmd0aCA8IDEpe1xuICAgICAgICAgICAgY2F0ZWdvcnkgPSBcInVuZGVmaW5lZFwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgcGFyc2VkRGF0YSAgPSB7XG4gICAgICAgICAgICBpZCAgICAgIDogU3RyaW5nKGFycmF5SXRlbS5pZCksXG4gICAgICAgICAgICB0aXRsZSAgICAgOiBTdHJpbmcoYXJyYXlJdGVtLnRpdGxlKSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uIDogU3RyaW5nKGFycmF5SXRlbS5jdXN0b21fZXhjZXJwdCksXG4gICAgICAgICAgICBwbGFpbnRleHQgICA6IFN0cmluZyhhcnJheUl0ZW0ucGxhaW50ZXh0KSxcbiAgICAgICAgICAgIHB1YkRhdGUgICA6IFN0cmluZyhhcnJheUl0ZW0ucHVibGlzaGVkX2F0KSxcbiAgICAgICAgICAgIHRhZyAgICAgOiBjYXRlZ29yeVxuICAgICAgICAgIH07XG4gICAgICAgICAgdGhpcy5hZGQocGFyc2VkRGF0YSk7XG4gICAgICAgICAgdmFyIGxvY2FsVXJsID0gbWUuc3VicGF0aCArIGFycmF5SXRlbS51cmw7XG4gICAgICAgICAgbWUuYmxvZ0RhdGFbYXJyYXlJdGVtLmlkXSA9IHtcbiAgICAgICAgICAgIHRpdGxlOiBhcnJheUl0ZW0udGl0bGUsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogYXJyYXlJdGVtLm1ldGFfZGVzY3JpcHRpb24sXG4gICAgICAgICAgICBwdWJEYXRlOiBwcmV0dHlEYXRlKHBhcnNlZERhdGEucHViRGF0ZSksXG4gICAgICAgICAgICBsaW5rOiBsb2NhbFVybCxcbiAgICAgICAgICAgIHRhZ3M6IHRhZ19hcnJcbiAgICAgICAgICB9O1xuICAgICAgICAgIC8vIElmIHRoZXJlIGlzIGEgbWV0YWRhdGEgXCJwcmVcIi1wcm9jZXNzb3IgZm9yIHRoZSBpdGVtLCBydW4gaXQgaGVyZS5cbiAgICAgICAgICBpZiAobWUuaXRlbV9wcmVwcm9jZXNzb3IpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24obWUuYmxvZ0RhdGFbYXJyYXlJdGVtLmlkXSwgbWUuaXRlbV9wcmVwcm9jZXNzb3IoYXJyYXlJdGVtKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiZG9uZSBpbmRleGluZyB0aGUgaXRlbVwiKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICB9KTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBzdWJwYXRoS2V5ID0gZ2V0U3VicGF0aEtleShtZS5zdWJwYXRoKTtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oKFwiZ2hvc3RfXCIgKyBzdWJwYXRoS2V5ICsgXCJfbHVuckluZGV4XCIpLCBKU09OLnN0cmluZ2lmeShtZS5pbmRleCkpO1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgoXCJnaG9zdF9cIiArIHN1YnBhdGhLZXkgKyBcIl9ibG9nRGF0YVwiKSwgSlNPTi5zdHJpbmdpZnkobWUuYmxvZ0RhdGEpKTtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oKFwiZ2hvc3RfXCIgKyBzdWJwYXRoS2V5ICsgXCJfbGF0ZXN0UG9zdFwiKSwgbWUubGF0ZXN0UG9zdCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcImdob3N0SHVudGVyOiBzYXZlIHRvIGxvY2FsU3RvcmFnZSBmYWlsZWQ6IFwiICsgZSk7XG4gICAgICB9XG4gICAgICBpZiAobWUuaW5kZXhpbmdfZW5kKSB7XG4gICAgICAgIG1lLmluZGV4aW5nX2VuZCgpO1xuICAgICAgfVxuICAgICAgbWUuaXNJbml0ID0gdHJ1ZTtcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgcGx1Z2luTWV0aG9kcyA9IHtcblxuICAgIGlzSW5pdCAgICAgIDogZmFsc2UsXG5cbiAgICBpbml0ICAgICAgOiBmdW5jdGlvbiggdGFyZ2V0ICwgb3B0cyApe1xuICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRzKTtcbiAgICAgIGNvbnNvbGUubG9nKFwiZ2hvc3RIdW50ZXI6IGluaXRcIik7XG4gICAgICB2YXIgbWlhbSA9IGZ1bmN0aW9uKCl7fTtcbiAgICAgIGlmICggb3B0cy5vblBhZ2VMb2FkICkge1xuICAgICAgICBtaWFtID0gZnVuY3Rpb24gKCl7XG4gICAgICAgICAgdGhhdC5sb2FkQVBJKCk7XG4gICAgICAgIH07XG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KG1pYW0sIDEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0LmZvY3VzKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgdGhhdC5sb2FkQVBJKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB0YXJnZXQuY2xvc2VzdChcImZvcm1cIikuc3VibWl0KGZ1bmN0aW9uKGUpe1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoYXQuZmluZCh0YXJnZXQudmFsKCkpO1xuICAgICAgfSk7XG5cbiAgICAgIGlmKCBvcHRzLm9uS2V5VXAgKSB7XG4gICAgICAgIC8vIEluIHNlYXJjaC1hcy15b3UtdHlwZSBtb2RlLCB0aGUgRW50ZXIga2V5IGlzIG1lYW5pbmdsZXNzLFxuICAgICAgICAvLyBzbyB3ZSBkaXNhYmxlIGl0IGluIHRoZSBzZWFyY2ggZmllbGQuIElmIGVuYWJsZWQsIHNvbWUgYnJvd3NlcnNcbiAgICAgICAgLy8gd2lsbCBzYXZlIGRhdGEgdG8gaGlzdG9yeSAoZXZlbiB3aGVuIGF1dG9jb21wbGV0ZT1cImZhbHNlXCIpLCB3aGljaFxuICAgICAgICAvLyBpcyBhbiBpbnRydXNpdmUgaGVhZGFjaGUsIHBhcnRpY3VsYXJseSBvbiBtb2JpbGUuXG4gICAgICAgIHRhcmdldC5rZXlkb3duKGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgICAgICBpZiAoZXZlbnQud2hpY2ggPT09IDEzKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGFyZ2V0LmtleXVwKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgdGhhdC5maW5kKHRhcmdldC52YWwoKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICB9XG5cbiAgICB9LFxuXG4gICAgbG9hZEFQSSAgICAgOiBmdW5jdGlvbigpe1xuICAgICAgLy8gY29uc29sZS5sb2coJ2dob3N0SHVudGVyOiBsb2FkQVBJJyk7XG4gICAgICBpZighdGhpcy5pc0luaXQpIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2dob3N0SHVudGVyOiB0aGlzLmlzSW5pdCBpcyB0cnVlJyk7XG4gICAgICAgIGlmICh0aGlzLmluZGV4aW5nX3N0YXJ0KSB7XG4gICAgICAgICAgdGhpcy5pbmRleGluZ19zdGFydCgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIGlzSW5pdCBpcyBmYWxzeSwgY2hlY2sgZm9yIGRhdGEgaW4gbG9jYWxTdG9yZSxcbiAgICAgICAgLy8gcGFyc2UgaW50byBtZW1vcnksIGFuZCBkZWNsYXJlIGlzSW5pdCB0byBiZSB0cnVlLlxuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhciBzdWJwYXRoS2V5ID0gZ2V0U3VicGF0aEtleSh0aGlzLnN1YnBhdGgpO1xuICAgICAgICAgIHRoaXMuaW5kZXggPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgoXCJnaG9zdF9cIiArIHN1YnBhdGhLZXkgKyBcIl9sdW5ySW5kZXhcIikpO1xuICAgICAgICAgIHRoaXMuYmxvZ0RhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgoXCJnaG9zdF9cIiArIHN1YnBhdGhLZXkgKyBcIl9ibG9nRGF0YVwiKSk7XG4gICAgICAgICAgdGhpcy5sYXRlc3RQb3N0ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oKFwiZ2hvc3RfXCIgKyBzdWJwYXRoS2V5ICsgXCJfbGF0ZXN0UG9zdFwiKSk7XG4gICAgICAgICAgaWYgKHRoaXMubGF0ZXN0UG9zdCAmJiB0aGlzLmluZGV4ICYmIHRoaXMuYmxvZ0RhdGEpIHtcbiAgICAgICAgICAgIHRoaXMubGF0ZXN0UG9zdCA9IHRoaXMubGF0ZXN0UG9zdDtcbiAgICAgICAgICAgIHRoaXMuaW5kZXggPSBsdW5yLkluZGV4LmxvYWQoSlNPTi5wYXJzZSh0aGlzLmluZGV4KSk7XG4gICAgICAgICAgICB0aGlzLmJsb2dEYXRhID0gSlNPTi5wYXJzZSh0aGlzLmJsb2dEYXRhKTtcbiAgICAgICAgICAgIHRoaXMuaXNJbml0ID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgIGNvbnNvbGUud2FybihcImdob3N0SHVudGVyOiByZXRyaWV2ZSBmcm9tIGxvY2FsU3RvcmFnZSBmYWlsZWQ6IFwiICsgZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmlzSW5pdCkge1xuICAgICAgICAvLyBjb25zb2xlLmxvZygnZ2hvc3RIdW50ZXI6IHRoaXMuaXNJbml0IHJlY2hlY2sgaXMgdHJ1ZScpO1xuICAgICAgICAvLyBDaGVjayBpZiB0aGVyZSBhcmUgbmV3IG9yIGVkaXRlZCBwb3N0c1xuICAgICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICAgIGxpbWl0OiBcImFsbFwiLFxuICAgICAgICAgIGZpbHRlcjogXCJ1cGRhdGVkX2F0Oj5cXCdcIiArIHRoaXMubGF0ZXN0UG9zdC5yZXBsYWNlKC9cXC4uKi8sIFwiXCIpLnJlcGxhY2UoL1QvLCBcIiBcIikgKyBcIlxcJ1wiLFxuICAgICAgICAgIGZpZWxkczogXCJpZFwiXG4gICAgICAgIH07XG4gICAgICAgIHZhciBtZSA9IHRoaXM7XG4gICAgICAgICQuZ2V0KGdob3N0LnVybC5hcGkoJ3Bvc3RzJywgcGFyYW1zKSkuZG9uZShmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICBpZiAoZGF0YS5wb3N0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBncmFiQW5kSW5kZXguY2FsbChtZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChtZS5pbmRleGluZ19lbmQpIHtcbiAgICAgICAgICAgICAgbWUuaW5kZXhpbmdfZW5kKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtZS5pc0luaXQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBjb25zb2xlLmxvZygnZ2hvc3RIdW50ZXI6IHRoaXMuaXNJbml0IHJlY2hlY2sgaXMgZmFsc2UnKTtcbiAgICAgICAgZ3JhYkFuZEluZGV4LmNhbGwodGhpcyk7XG4gICAgICB9XG4gICAgfSxcblxuXG4gICAgZmluZCAgICAgIDogZnVuY3Rpb24odmFsdWUpe1xuICAgICAgY2xlYXJUaW1lb3V0KGxhc3RUaW1lb3V0SUQpO1xuICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IFwiXCI7XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IHZhbHVlLnRvTG93ZXJDYXNlKCk7XG4gICAgICBsYXN0VGltZW91dElEID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gUXVlcnkgc3RyYXRlZ3kgaXMgbGlmdGVkIGZyb20gY29tbWVudHMgb24gYSBsdW5yLmpzIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vb2xpdmVybm4vbHVuci5qcy9pc3N1ZXMvMjU2XG4gICAgICAgIHZhciB0aGluZ3NGb3VuZCA9IFtdO1xuICAgICAgICAvLyBUaGUgcXVlcnkgaW50ZXJmYWNlIGV4cGVjdHMgc2luZ2xlIHRlcm1zLCBzbyB3ZSBzcGxpdC5cbiAgICAgICAgdmFyIHZhbHVlU3BsaXQgPSB2YWx1ZS5zcGxpdCgvXFxzKy8pO1xuXG4gICAgICAgIGZvciAodmFyIGk9MCxpbGVuPXZhbHVlU3BsaXQubGVuZ3RoO2k8aWxlbjtpKyspIHtcbiAgICAgICAgICAvLyBGZXRjaCBhIGxpc3Qgb2YgbWF0Y2hlcyBmb3IgZWFjaCB0ZXJtLlxuICAgICAgICAgIHZhciB2ID0gdmFsdWVTcGxpdFtpXTtcbiAgICAgICAgICBpZiAoIXYpIGNvbnRpbnVlO1xuICAgICAgICAgIHRoaW5nc0ZvdW5kLnB1c2godGhpcy5pbmRleC5xdWVyeShmdW5jdGlvbiAocSkge1xuICAgICAgICAgICAgLy8gRm9yIGFuIGV4cGxhbmF0aW9uIG9mIGx1bnIgaW5kZXhpbmcgb3B0aW9ucywgc2VlIHRoZSBsdW5yLmpzXG4gICAgICAgICAgICAvLyBkb2N1bWVudGF0aW9uIGF0IGh0dHBzOi8vbHVucmpzLmNvbS9kb2NzL2x1bnIuUXVlcnkuaHRtbCN+Q2xhdXNlXG5cbiAgICAgICAgICAgIC8vIGxvb2sgZm9yIGFuIGV4YWN0IG1hdGNoIGFuZCBhcHBseSBhIGxhcmdlIHBvc2l0aXZlIGJvb3N0XG4gICAgICAgICAgICBxLnRlcm0odiwge1xuICAgICAgICAgICAgICB1c2VQaXBlbGluZTogdHJ1ZSxcbiAgICAgICAgICAgICAgYm9vc3Q6IDEwMCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gbG9vayBmb3IgdGVybXMgdGhhdCBtYXRjaCB0aGUgYmVnaW5uaW5nIG9mIHRoaXMgcXVlcnlUZXJtIGFuZCBhcHBseSBhIG1lZGl1bSBib29zdFxuICAgICAgICAgICAgcS50ZXJtKHYsIHtcbiAgICAgICAgICAgICAgdXNlUGlwZWxpbmU6IGZhbHNlLFxuICAgICAgICAgICAgICBib29zdDogMTAsXG4gICAgICAgICAgICAgIHdpbGRjYXJkOiBsdW5yLlF1ZXJ5LndpbGRjYXJkLlRSQUlMSU5HXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIGxvb2sgZm9yIHRlcm1zIHRoYXQgbWF0Y2ggd2l0aCBhbiBlZGl0IGRpc3RhbmNlIG9mIDEgYW5kIGFwcGx5IGEgc21hbGwgYm9vc3RcbiAgICAgICAgICAgIHEudGVybSh2LCB7XG4gICAgICAgICAgICAgIHVzZVBpcGVsaW5lOiBmYWxzZSxcbiAgICAgICAgICAgICAgZWRpdERpc3RhbmNlOiAxLFxuICAgICAgICAgICAgICBib29zdDogMVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzZWFyY2hSZXN1bHQ7XG4gICAgICAgIGlmICh0aGluZ3NGb3VuZC5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgLy8gSWYgd2UgaGFkIG11bHRpcGxlIHRlcm1zLCB3ZSdsbCBoYXZlIG11bHRpcGxlIGxpc3RzLiBXZSBmaWx0ZXJcbiAgICAgICAgICAvLyB0aGVtIGhlcmUgdG8gdXNlIG9ubHkgaXRlbXMgdGhhdCBwcm9kdWNlIHJldHVybnMgZm9yIGFsbFxuICAgICAgICAgIC8vIHRlcm1zLiBUaGlzIHNwb29mcyBhbiBBTkQgam9pbiBiZXR3ZWVuIHRlcm1zLCB3aGljaCBsdW5yLmpzIGNhbid0XG4gICAgICAgICAgLy8geWV0IGRvIGludGVybmFsbHkuXG4gICAgICAgICAgLy8gQnkgdXNpbmcgdGhlIGZpcnN0IGxpc3Qgb2YgaXRlbXMgYXMgbWFzdGVyLCB3ZSBnZXQgd2VpZ2h0aW5nc1xuICAgICAgICAgIC8vIGJhc2VkIG9uIHRoZSBmaXJzdCB0ZXJtIGVudGVyZWQsIHdoaWNoIGlzIG1vcmUgb3IgbGVzc1xuICAgICAgICAgIC8vIHdoYXQgd2Ugd291bGQgZXhwZWN0LlxuICAgICAgICAgIHNlYXJjaFJlc3VsdCA9IHRoaW5nc0ZvdW5kWzBdO1xuICAgICAgICAgIHRoaW5nc0ZvdW5kID0gdGhpbmdzRm91bmQuc2xpY2UoMSk7XG4gICAgICAgICAgZm9yICggaT1zZWFyY2hSZXN1bHQubGVuZ3RoLTE7aT4tMTtpLS0pIHtcbiAgICAgICAgICAgIHZhciByZWYgPSBzZWFyY2hSZXN1bHRbaV0ucmVmO1xuICAgICAgICAgICAgZm9yIChqPTAsamxlbj10aGluZ3NGb3VuZC5sZW5ndGg7ajxqbGVuO2orKykge1xuICAgICAgICAgICAgICB2YXIgb3RoZXJSZWZzID0ge307XG4gICAgICAgICAgICAgIGZvciAodmFyIGs9MCxrbGVuPXRoaW5nc0ZvdW5kW2pdLmxlbmd0aDtrPGtsZW47aysrKSB7XG4gICAgICAgICAgICAgICAgb3RoZXJSZWZzW3RoaW5nc0ZvdW5kW2pdW2tdLnJlZl0gPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICghb3RoZXJSZWZzW3JlZl0pIHtcbiAgICAgICAgICAgICAgICBzZWFyY2hSZXN1bHQgPSBzZWFyY2hSZXN1bHQuc2xpY2UoMCwgaSkuY29uY2F0KHNlYXJjaFJlc3VsdC5zbGljZShpKzEpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0aGluZ3NGb3VuZC5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAvLyBJZiB3ZSBoYWQganVzdCBvbmUgdGVybSBhbmQgb25lIGxpc3QsIHJldHVybiB0aGF0LlxuICAgICAgICAgIHNlYXJjaFJlc3VsdCA9IHRoaW5nc0ZvdW5kWzBdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIElmIHRoZXJlIHdhcyBubyBzZWFyY2ggcmVzdWx0LCByZXR1cm4gYW4gZW1wdHkgbGlzdC5cbiAgICAgICAgICBzZWFyY2hSZXN1bHQgPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZXN1bHRzICAgICA9ICQodGhpcy5yZXN1bHRzKTtcbiAgICAgICAgdmFyIHJlc3VsdHNEYXRhICAgPSBbXTtcbiAgICAgICAgaWYgKHNlYXJjaFJlc3VsdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICByZXN1bHRzLmVtcHR5KCk7XG4gICAgICAgICAgaWYgKHRoaXMuZGlzcGxheVNlYXJjaEluZm8gJiYgdGhpcy56ZXJvUmVzdWx0c0luZm8pIHtcbiAgICAgICAgICAgIHJlc3VsdHMuYXBwZW5kKHRoaXMuZm9ybWF0KHRoaXMuaW5mb190ZW1wbGF0ZSx7XCJhbW91bnRcIjowfSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmRpc3BsYXlTZWFyY2hJbmZvKSB7XG4gICAgICAgICAgaWYgKHJlc3VsdHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmVzdWx0cy5jaGlsZHJlbigpLmVxKDApLnJlcGxhY2VXaXRoKHRoaXMuZm9ybWF0KHRoaXMuaW5mb190ZW1wbGF0ZSx7XCJhbW91bnRcIjpzZWFyY2hSZXN1bHQubGVuZ3RofSkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHRzLmFwcGVuZCh0aGlzLmZvcm1hdCh0aGlzLmluZm9fdGVtcGxhdGUse1wiYW1vdW50XCI6c2VhcmNoUmVzdWx0Lmxlbmd0aH0pKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZih0aGlzLmJlZm9yZSkge1xuICAgICAgICAgIHRoaXMuYmVmb3JlKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgdGhlIGJsb2dEYXRhIGZvciB0aGUgZnVsbCBzZXQsIGZvciBvbkNvbXBsZXRlXG4gICAgICAgIGZvciAoIGkgPSAwOyBpIDwgc2VhcmNoUmVzdWx0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIGx1bnJyZWYgICA9IHNlYXJjaFJlc3VsdFtpXS5yZWY7XG4gICAgICAgICAgdmFyIHBvc3REYXRhICAgID0gdGhpcy5ibG9nRGF0YVtsdW5ycmVmXTtcbiAgICAgICAgICBpZiAocG9zdERhdGEpIHtcbiAgICAgICAgICAgIHBvc3REYXRhLnJlZiA9IGx1bnJyZWY7XG4gICAgICAgICAgICByZXN1bHRzRGF0YS5wdXNoKHBvc3REYXRhKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiZ2hvc3RIdW50ZXI6IGluZGV4L2RhdGEgbWlzbWF0Y2guIE91Y2guXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBHZXQgYW4gYXJyYXkgb2YgSURzIHByZXNlbnQgaW4gY3VycmVudCByZXN1bHRzXG4gICAgICAgIHZhciBsaXN0SXRlbXMgPSAkKCcuZ2gtc2VhcmNoLWl0ZW0nKTtcbiAgICAgICAgdmFyIGN1cnJlbnRSZWZzID0gbGlzdEl0ZW1zXG4gICAgICAgICAgLm1hcChmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaWQuc2xpY2UoMyk7XG4gICAgICAgICAgfSkuZ2V0KCk7XG4gICAgICAgIGlmIChjdXJyZW50UmVmcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBmb3IgKCBpPTAsaWxlbj1yZXN1bHRzRGF0YS5sZW5ndGg7aTxpbGVuO2krKykge1xuICAgICAgICAgICAgcmVzdWx0cy5hcHBlbmQodGhpcy5mb3JtYXQodGhpcy5yZXN1bHRfdGVtcGxhdGUscmVzdWx0c0RhdGFbaV0pKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0dGxlSURzKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gR2V0IGFuIGFycmF5IG9mIElEcyBwcmVzZW50IGluIHNlYXJjaFJlc3VsdFxuICAgICAgICAgIHZhciBuZXdSZWZzID0gW107XG4gICAgICAgICAgZm9yICggaT0wLGlsZW49c2VhcmNoUmVzdWx0Lmxlbmd0aDtpPGlsZW47aSsrKSB7XG4gICAgICAgICAgICBuZXdSZWZzLnB1c2goc2VhcmNoUmVzdWx0W2ldLnJlZik7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIEdldCB0aGUgTGV2ZW5zaHRlaW4gc3RlcHMgbmVlZGVkIHRvIHRyYW5zZm9ybSBjdXJyZW50IGludG8gc2VhcmNoUmVzdWx0XG4gICAgICAgICAgdmFyIGxldmVuc2h0ZWluID0gbmV3IExldmVuc2h0ZWluKGN1cnJlbnRSZWZzLCBuZXdSZWZzKTtcbiAgICAgICAgICB2YXIgc3RlcHMgPSBsZXZlbnNodGVpbi5nZXRTdGVwcygpO1xuICAgICAgICAgIC8vIEFwcGx5IHRoZSBvcGVyYXRpb25zXG4gICAgICAgICAgdXBkYXRlU2VhcmNoTGlzdC5jYWxsKHRoaXMsIGxpc3RJdGVtcywgc2VhcmNoUmVzdWx0LCBzdGVwcyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGlkeSB1cFxuICAgICAgICBpZih0aGlzLm9uQ29tcGxldGUpIHtcbiAgICAgICAgICB0aGlzLm9uQ29tcGxldGUocmVzdWx0c0RhdGEpO1xuICAgICAgICB9XG4gICAgICB9LmJpbmQodGhpcyksIDEwMCk7XG4gICAgfSxcblxuICAgIGNsZWFyICAgICAgIDogZnVuY3Rpb24oKXtcbiAgICAgICQodGhpcy5yZXN1bHRzKS5lbXB0eSgpO1xuICAgICAgLy8gdGhpcy50YXJnZXQudmFsKFwiXCIpO1xuICAgIH0sXG5cbiAgICBmb3JtYXQgICAgICA6IGZ1bmN0aW9uICh0LCBkKSB7XG4gICAgICByZXR1cm4gdC5yZXBsYWNlKC97eyhbXnt9XSopfX0vZywgZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgdmFyIHIgPSBkW2JdO1xuICAgICAgICByZXR1cm4gdHlwZW9mIHIgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiByID09PSAnbnVtYmVyJyA/IHIgOiBhO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG59KSggalF1ZXJ5ICk7XG4iLCIoZnVuY3Rpb24gKGZhY3RvcnkpIHtcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cbiAgICAgICAgZGVmaW5lKFsnanF1ZXJ5J10sIGZhY3RvcnkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEJyb3dzZXIgZ2xvYmFsc1xuICAgICAgICBmYWN0b3J5KGpRdWVyeSk7XG4gICAgfVxufShmdW5jdGlvbiAoJCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qKlxuICAgICAqIGdldCBoZWFkZXIgbGV2ZWxcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gaGVhZGVyOiBoZWFkZXIncyB0YWcgbmFtZVxuICAgICAqXG4gICAgICogQHJldHVybiB7TnVtYmVyfVxuICAgICAqL1xuICAgIHZhciBnZXRMZXZlbCA9IGZ1bmN0aW9uIChoZWFkZXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBoZWFkZXIgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkZWNzID0gaGVhZGVyLm1hdGNoKC9cXGQvZyk7XG4gICAgICAgIHJldHVybiBkZWNzID8gTWF0aC5taW4uYXBwbHkobnVsbCwgZGVjcykgOiAxO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBjcmVhdGUgb3JkZXJlZCBsaXN0XG4gICAgICogQHBhcmFtIHtqUXVlcnR9ICR3cmFwcGVyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGNvdW50XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtqUXVlcnl9IGxpc3RcbiAgICAgKi9cbiAgICB2YXIgY3JlYXRlTGlzdCA9IGZ1bmN0aW9uICgkd3JhcHBlciwgY291bnQpIHtcbiAgICAgICAgd2hpbGUgKGNvdW50LS0pIHtcbiAgICAgICAgICAgICR3cmFwcGVyID0gJCgnPG9sLz4nKS5hcHBlbmRUbygkd3JhcHBlcik7XG5cbiAgICAgICAgICAgIGlmIChjb3VudCkge1xuICAgICAgICAgICAgICAgICR3cmFwcGVyID0gJCgnPGxpLz4nKS5hcHBlbmRUbygkd3JhcHBlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gJHdyYXBwZXI7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIGluc2VydCBwb3NpdGlvbiBqdW1wIGJhY2tcbiAgICAgKiBAcGFyYW0ge2pRdWVyeX0gJGN1cnJlbnRXcmFwcGVyOiBjdXJyZW50IGluc2VydCBwb2ludFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXQ6IGRpc3RhbmNlIGJldHdlZW4gY3VycmVudCdzIGFuZCB0YXJnZXQncyBkZXB0aFxuICAgICAqXG4gICAgICogQHJldHVybiB7alF1ZXJ5fSBpbnNlcnQgcG9pbnRcbiAgICAgKi9cbiAgICB2YXIganVtcEJhY2sgPSBmdW5jdGlvbiAoJGN1cnJlbnRXcmFwcGVyLCBvZmZzZXQpIHtcbiAgICAgICAgd2hpbGUgKG9mZnNldC0tKSB7XG4gICAgICAgICAgICAkY3VycmVudFdyYXBwZXIgPSAkY3VycmVudFdyYXBwZXIucGFyZW50KCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gJGN1cnJlbnRXcmFwcGVyO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBzZXQgZWxlbWVudCBocmVmL2lkIGFuZCBjb250ZW50XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBvdmVyd3JpdGU6IHdoZXRoZXIgb3ZlcndyaXRlIHNvdXJjZSBlbGVtZW50IGV4aXN0ZWQgaWRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJlZml4OiBwcmVmaXggdG8gcHJlcGVuZCB0byBocmVmL2lkXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAgICAgKi9cbiAgICB2YXIgc2V0QXR0cnMgPSBmdW5jdGlvbiAob3ZlcndyaXRlLCBwcmVmaXgpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgkc3JjLCAkdGFyZ2V0LCBpbmRleCkge1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSAkc3JjLnRleHQoKTtcbiAgICAgICAgICAgIHZhciBwcmUgPSBwcmVmaXggKyAnLScgKyBpbmRleDtcbiAgICAgICAgICAgICR0YXJnZXQudGV4dChjb250ZW50KTtcblxuICAgICAgICAgICAgdmFyIHNyYyA9ICRzcmNbMF07XG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gJHRhcmdldFswXTtcbiAgICAgICAgICAgIHZhciBpZCA9IG92ZXJ3cml0ZSA/IHByZSA6IChzcmMuaWQgfHwgcHJlKTtcblxuICAgICAgICAgICAgaWQgPSBlbmNvZGVVUklDb21wb25lbnQoaWQpO1xuXG4gICAgICAgICAgICBzcmMuaWQgPSBpZDtcbiAgICAgICAgICAgIHRhcmdldC5ocmVmID0gJyMnICsgaWQ7XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIGJ1aWxkIHRhYmxlIG9mIGNvbnRlbnRzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge2pRdWVyeX0gbGlzdFxuICAgICAqL1xuICAgIHZhciBidWlsZFRPQyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBzZWxlY3RvciA9IG9wdGlvbnMuc2VsZWN0b3I7XG4gICAgICAgIHZhciBzY29wZSA9IG9wdGlvbnMuc2NvcGU7XG5cbiAgICAgICAgdmFyICRyZXQgPSAkKCc8b2wvPicpO1xuICAgICAgICB2YXIgJHdyYXBwZXIgPSAkcmV0O1xuICAgICAgICB2YXIgJGxhc3RMaSA9IG51bGw7XG5cbiAgICAgICAgdmFyIHByZXZEZXB0aCA9IGdldExldmVsKHNlbGVjdG9yKTtcbiAgICAgICAgdmFyIF9zZXRBdHRycyA9IHNldEF0dHJzKG9wdGlvbnMub3ZlcndyaXRlLCBvcHRpb25zLnByZWZpeCk7XG5cbiAgICAgICAgJChzY29wZSlcbiAgICAgICAgICAgIC5maW5kKHNlbGVjdG9yKVxuICAgICAgICAgICAgLmVhY2goZnVuY3Rpb24gKGluZGV4LCBlbGVtKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnREZXB0aCA9IGdldExldmVsKGVsZW0udGFnTmFtZSk7XG4gICAgICAgICAgICAgICAgdmFyIG9mZnNldCA9IGN1cnJlbnREZXB0aCAtIHByZXZEZXB0aDtcblxuICAgICAgICAgICAgICAgIGlmIChvZmZzZXQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICR3cmFwcGVyID0gY3JlYXRlTGlzdCgkbGFzdExpLCBvZmZzZXQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChvZmZzZXQgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHNob3VsZCBiZSBvbmNlIG1vcmUgbGV2ZWwgdG8ganVtcCBiYWNrXG4gICAgICAgICAgICAgICAgICAgIC8vIGVnOiBoMiArIGgzICsgaDIsIG9mZnNldCA9IGgyIC0gaDMgPSAtMVxuICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAvLyBvbCA8LS0tLS0tKyB0YXJnZXRcbiAgICAgICAgICAgICAgICAgICAgLy8gICBsaSAgICAgIHxcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIG9sIC0tLSsgY3VycmVudFxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICBsaVxuICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAvLyBqdW1wYmFjayA9IHRhcmdldCAtIGN1cnJlbnQgPSAyXG4gICAgICAgICAgICAgICAgICAgICR3cmFwcGVyID0ganVtcEJhY2soJHdyYXBwZXIsIC1vZmZzZXQgKiAyKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoISR3cmFwcGVyLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAkd3JhcHBlciA9ICRyZXQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyICRsaSA9ICQoJzxsaS8+Jyk7XG4gICAgICAgICAgICAgICAgdmFyICRhID0gJCgnPGEvPicpO1xuXG4gICAgICAgICAgICAgICAgX3NldEF0dHJzKCQoZWxlbSksICRhLCBpbmRleCk7XG5cbiAgICAgICAgICAgICAgICAkbGkuYXBwZW5kKCRhKS5hcHBlbmRUbygkd3JhcHBlcik7XG5cbiAgICAgICAgICAgICAgICAkbGFzdExpID0gJGxpO1xuICAgICAgICAgICAgICAgIHByZXZEZXB0aCA9IGN1cnJlbnREZXB0aDtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiAkcmV0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBpbml0IHRhYmxlIG9mIGNvbnRlbnRzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25dOiBUT0Mgb3B0aW9ucywgYXZhaWxhYmxlIHByb3BzOlxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1N0cmluZ30gW3NlbGVjdG9yXTogaGVhZGVycyBzZWxlY3RvciwgZGVmYXVsdCBpcyAnaDEsIGgyLCBoMywgaDQsIGg1LCBoNidcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtTdHJpbmd9IFtzY29wZV06IHNlbGVjdG9yIHRvIHNwZWNpZnkgZWxlbWVudHMgc2VhcmNoIHNjb3BlLCBkZWZhdWx0IGlzICdib2R5J1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge0Jvb2xlYW59IFtvdmVyd3JpdGVdOiB3aGV0aGVyIHRvIG92ZXJ3cml0ZSBleGlzdGVkIGhlYWRlcnMnIGlkLCBkZWZhdWx0IGlzIGZhbHNlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7U3RyaW5nfSBbcHJlZml4XTogc3RyaW5nIHRvIHByZXBlbmQgdG8gaWQvaHJlZiBwcm9wLCBkZWZhdWx0IGlzICd0b2MnXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtqUXVlcnl9ICR0aGlzXG4gICAgICovXG4gICAgJC5mbi5pbml0VE9DID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGRlZmF1bHRPcHRzID0ge1xuICAgICAgICAgICAgc2VsZWN0b3I6ICdoMSwgaDIsIGgzLCBoNCwgaDUsIGg2JyxcbiAgICAgICAgICAgIHNjb3BlOiAnYm9keScsXG4gICAgICAgICAgICBvdmVyd3JpdGU6IGZhbHNlLFxuICAgICAgICAgICAgcHJlZml4OiAndG9jJ1xuICAgICAgICB9O1xuXG4gICAgICAgIG9wdGlvbnMgPSAkLmV4dGVuZChkZWZhdWx0T3B0cywgb3B0aW9ucyk7XG5cbiAgICAgICAgdmFyIHNlbGVjdG9yID0gb3B0aW9ucy5zZWxlY3RvcjtcblxuICAgICAgICBpZiAodHlwZW9mIHNlbGVjdG9yICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignc2VsZWN0b3IgbXVzdCBiZSBhIHN0cmluZycpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFzZWxlY3Rvci5tYXRjaCgvXig/OmhbMS02XSw/XFxzKikrJC9nKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignc2VsZWN0b3IgbXVzdCBjb250YWlucyBvbmx5IGgxLTYnKTtcbiAgICAgICAgfVxuXG4gICAgICAgICQodGhpcykuYXBwZW5kKGJ1aWxkVE9DKG9wdGlvbnMpKTtcblxuICAgICAgICB2YXIgY3VycmVudEhhc2ggPSBsb2NhdGlvbi5oYXNoO1xuXG4gICAgICAgIGlmIChjdXJyZW50SGFzaCkge1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFuY2hvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGN1cnJlbnRIYXNoLnNsaWNlKDEpKTtcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yKSBhbmNob3Iuc2Nyb2xsSW50b1ZpZXcoKTtcbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICQodGhpcyk7XG4gICAgfTtcbn0pKTtcbiJdfQ==
